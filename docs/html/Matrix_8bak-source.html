<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>base/Matrix.bak Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>base/Matrix.bak</h1><a href="Matrix_8bak.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/****************************************************************************</font>
00002 <font class="comment">  Copyright (C)1996 David Jung &lt;opensim@pobox.com&gt;</font>
00003 <font class="comment"></font>
00004 <font class="comment">  This program/file is free software; you can redistribute it and/or modify</font>
00005 <font class="comment">  it under the terms of the GNU General Public License as published by</font>
00006 <font class="comment">  the Free Software Foundation; either version 2 of the License, or</font>
00007 <font class="comment">  (at your option) any later version.</font>
00008 <font class="comment">  </font>
00009 <font class="comment">  This program is distributed in the hope that it will be useful,</font>
00010 <font class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00011 <font class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font>
00012 <font class="comment">  GNU General Public License for more details. (http://www.gnu.org)</font>
00013 <font class="comment">  </font>
00014 <font class="comment">  You should have received a copy of the GNU General Public License</font>
00015 <font class="comment">  along with this program; if not, write to the Free Software</font>
00016 <font class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</font>
00017 <font class="comment">  </font>
00018 <font class="comment">  $Id: Matrix4.hpp,v 1.6 2001/05/22 19:24:19 jungd Exp $</font>
00019 <font class="comment">  $Revision: 1.6 $</font>
00020 <font class="comment">  $Date: 2001/05/22 19:24:19 $</font>
00021 <font class="comment">  $Author: jungd $</font>
00022 <font class="comment"> </font>
00023 <font class="comment">****************************************************************************/</font>
00024 
00025 <font class="preprocessor">#ifndef _BASE_MATRIX_</font>
00026 <font class="preprocessor"></font><font class="preprocessor">#define _BASE_MATRIX_</font>
00027 <font class="preprocessor"></font>
00028 <font class="preprocessor">#include &lt;iostream&gt;</font>
00029 
00030 <font class="preprocessor">#include &lt;<a class="code" href="base.html">base/base</a>&gt;</font>
00031 <font class="preprocessor">#include &lt;<a class="code" href="Object.html">base/Object</a>&gt;</font>
00032 <font class="preprocessor">#include &lt;<a class="code" href="Vector3.html">base/Vector3</a>&gt;</font>
00033 <font class="preprocessor">#include &lt;<a class="code" href="Vector4.html">base/Vector4</a>&gt;</font>
00034 <font class="preprocessor">#include &lt;<a class="code" href="Matrix3.html">base/Matrix3</a>&gt;</font>
00035 <font class="preprocessor">#include &lt;<a class="code" href="Matrix4.html">base/Matrix4</a>&gt;</font>
00036 <font class="preprocessor">#include &lt;<a class="code" href="Vector.html">base/Vector</a>&gt;</font>
00037 
00038 <font class="preprocessor">#include &lt;base/MatrixImpl&gt;</font>
00039 
00040 <font class="keyword">namespace </font>base {
00041 
00042 <font class="keyword">class </font><a class="code" href="namespacebase.html#a18">Matrix</a>;
00043 
00044 <font class="comment">// classes to help speed up common vector/matrix operations</font>
00045 <font class="comment">//  (not used directly by the user)</font>
00046 
00047 <font class="keyword">struct </font>MNVNmul {
<a name="l00048"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm2">00048</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm0">m</a>;
<a name="l00049"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm3">00049</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm1">v</a>;
00050 
<a name="l00051"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula2">00051</a>   <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula0">MNVNmul</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a7">mm</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv) : <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm0">m</a>(<a class="code" href="analytical_8c.html#a7">mm</a>), <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm1">v</a>(vv) {}
00052 
00053   <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula1">operator Vector</a>() <font class="keyword">const</font>;
00054 };
00055 
00056 <font class="keyword">struct </font>MNVNmulVNadd {
<a name="l00057"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm3">00057</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>;
<a name="l00058"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm4">00058</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>;
<a name="l00059"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm5">00059</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm2">v2</a>;
00060 
<a name="l00061"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda2">00061</a>   <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda0">MNVNmulVNadd</a>(<font class="keyword">const</font> MNVNmul&amp; mv, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv) : <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>(mv.<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>), <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>(mv.<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>), <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm2">v2</a>(vv) {}
00062 
00063   <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda1">operator Vector</a>() <font class="keyword">const</font>;
00064 };
00065 
00066 
00067 <font class="comment">//</font>
00068 <font class="comment">// The matrix</font>
00069 <font class="comment">//</font>
00070 
00071 <font class="keyword">class </font><a class="code" href="namespacebase.html#a18">Matrix</a> : <font class="keyword">public</font> base::<a class="code" href="classObject.html">Object</a>
00072 {
00073 
00074 <font class="keyword">public</font>:
<a name="l00075"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3">00075</a>   <font class="keyword">enum</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3">Implementation</a> { <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3base_1_1Matrixs0">Standard</a>, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3base_1_1Matrixs1">RowVector</a>, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3base_1_1Matrixs2">Slice</a> };  
00076 
00077   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>=1, <a class="code" href="namespacebase.html#a2">Int</a> cols=1, 
00078          <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; diagonal=<a class="code" href="namespacebase.html#a5">Real</a>(1), <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3">Implementation</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn0">impl</a> = <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3base_1_1Matrixs0">Standard</a>);
00079   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; m);
00080   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v);
00081   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> Matrix3&amp; m);
00082   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> Matrix4&amp; m);
00083   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa5">~Matrix</a>();
00084 
<a name="l00085"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa54">00085</a>   <font class="keyword">virtual</font> <a class="code" href="namespacebase.html#a4">String</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa6">className</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="namespacebase.html#a4">String</a>(<font class="stringliteral">"Matrix"</font>); }
<a name="l00086"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa55">00086</a>   <font class="keyword">virtual</font> <a class="code" href="classObject.html">Object</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa55">clone</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> *<a class="code" href="MemoryTracer.html#a0">NewObj</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(*<font class="keyword">this</font>); }
00087 
<a name="l00088"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa56">00088</a>   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3">Implementation</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa56">implementation</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn0">impl</a>; }
00089 
00090   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa57">setDiagonal</a>(<a class="code" href="namespacebase.html#a5">Real</a> d) <font class="keywordflow">throw</font>();
00091   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa7">setIdentity</a>() <font class="keywordflow">throw</font>();
00092   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa8">setZero</a>() <font class="keywordflow">throw</font>();
00093   
00094   <font class="keywordtype">bool</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa60">inRange</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00095 
00096   <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>() <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00097   <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa10">columns</a>() <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00098 
00099   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa11">resize</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>, <a class="code" href="namespacebase.html#a2">Int</a> cols, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; diagonal=<a class="code" href="namespacebase.html#a5">Real</a>(1));
00100 
00101   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>();
00102   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00103 
00104   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa14">at</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>(std::out_of_range);
00105   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa14">at</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range);
00106 
<a name="l00107"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa68">00107</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa16">operator()</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>()              { <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,col); }
<a name="l00108"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa69">00108</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa16">operator()</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>()  { <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,col); }
00109 
00110   <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa70">getRow</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range);
00111   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa71">setRow</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; rowVector) <font class="keywordflow">throw</font>(std::out_of_range);
00112 
00113   <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa72">getColumn</a>(<a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range);
00114   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa73">setColumn</a>(<a class="code" href="namespacebase.html#a2">Int</a> col, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; colVector) <font class="keywordflow">throw</font>(std::out_of_range);
00115 
00116   <font class="comment">// Only supported by some Implementations: RowVector</font>
00117   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range, <a class="code" href="classstd_1_1runtime__error.html">std::runtime_error</a>);
00118   <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>)             <font class="keywordflow">throw</font>(std::out_of_range, <a class="code" href="classstd_1_1runtime__error.html">std::runtime_error</a>);
00119 
<a name="l00120"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa76">00120</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa20">operator[]</a>(<font class="keywordtype">int</font> r) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range, <a class="code" href="classstd_1_1runtime__error.html">std::runtime_error</a>) { <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>(r); }
<a name="l00121"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa77">00121</a>   <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa20">operator[]</a>(<font class="keywordtype">int</font> r)             <font class="keywordflow">throw</font>(std::out_of_range, <a class="code" href="classstd_1_1runtime__error.html">std::runtime_error</a>) { <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>(r); }
00122 
00123 
00124   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa21">operator=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; src) <font class="keywordflow">throw</font>();
00125   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa21">operator=</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; src) <font class="keywordflow">throw</font>();
00126 
00127   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa23">operator==</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::invalid_argument);
00128   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa24">equals</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::invalid_argument);
00129 
00130 
00131   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa25">transpose</a>();
00132   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa26">invert</a>();
00133   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa27">negate</a>() <font class="keywordflow">throw</font>();
00134 
00135   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa28">swapRows</a>(<a class="code" href="namespacebase.html#a2">Int</a> i, <a class="code" href="namespacebase.html#a2">Int</a> j) <font class="keywordflow">throw</font>(std::out_of_range);
00136   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa29">swapCols</a>(<a class="code" href="namespacebase.html#a2">Int</a> i, <a class="code" href="namespacebase.html#a2">Int</a> j) <font class="keywordflow">throw</font>(std::out_of_range);
00137 
00138   <font class="comment">// stop compil errors:</font>
<a name="l00139"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa87">00139</a>   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa30">sub</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col, <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>, <a class="code" href="namespacebase.html#a2">Int</a> cols)<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>,cols); }
<a name="l00140"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa88">00140</a>   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa30">sub</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col, <font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; sm) {}
00141   <font class="comment">/*</font><font class="comment"></font>
00142 <font class="comment">    //!!!implement using slices</font>
00143 <font class="comment"></font>  Matrix sub(Int row, Int col, Int rows, Int cols) const;
00144   void sub(Int row, Int col, const Matrix&amp; sm);
00145 
00146   Matrix  select(const Vector&amp; rowIndices,
00147                  const Vector&amp; colIndices) const throw(std::out_of_range);
00148   */
00149 
00150   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa33">zeroUpperTriangle</a>() <font class="keywordflow">throw</font>(std::invalid_argument);
00151   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa34">zeroLowerTriangle</a>() <font class="keywordflow">throw</font>(std::invalid_argument);
00152 
00153   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa35">setRandom</a>(<a class="code" href="namespacebase.html#a5">Real</a> range);
00154   <font class="comment">// maximum of elementwise differences</font>
00155   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa36">maxDifference</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; a) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::invalid_argument);; 
00156 
00157   <font class="comment">// Find LUP decomposition.  P is represented by the vector Pi, where the element</font>
00158   <font class="comment">//  values represent the column of P containing a 1. i.e. Pi[i]=j =&gt; P[i][j]=1</font>
00159   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa37">decomposeLUP</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; L, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; U, <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>) <font class="keyword">const</font>;
00160   
00161   <font class="comment">// Solve Ax=b for x, given b, where A=*this (returns x)</font>
00162   <a class="code" href="namespacebase.html#a30">Vector</a>  <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa38">solve</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; b) <font class="keyword">const</font>; 
00163 
00164 
00165   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa39">operator*=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="keywordflow">throw</font>(std::invalid_argument);
00166   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa40">operator+=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="keywordflow">throw</font>(std::invalid_argument);
00167   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa41">operator-=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="keywordflow">throw</font>(std::invalid_argument);
00168   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa98">operator-</a>() <font class="keywordflow">throw</font>();
00169   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa39">operator*=</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="keywordflow">throw</font>();
00170   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa43">operator/=</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="keywordflow">throw</font>(std::invalid_argument);
00171 
00172   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa44">operator Matrix3</a>() <font class="keyword">const</font>;  <font class="comment">///&lt; return 3x3 submatrix</font>
00173 <font class="comment"></font>  <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa45">operator Matrix4</a>() <font class="keyword">const</font>;  <font class="comment">///&lt; return 4x4 submatrix</font>
00174 <font class="comment"></font>
00175   <font class="comment">//  virtual const Real* c_array() const;</font>
00176   <font class="comment">//  virtual Real* c_array();</font>
00177 
00178   <font class="comment">// Solve for xA = b, given LUP decomposition of A as L, U and Pi, and given b, returns x</font>
00179   <font class="keyword">static</font> <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd0">solveLUP</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; L, <font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; U, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; b);
00180 
<a name="l00181"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd5">00181</a>   <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa37">decomposeLUP</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; A, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; L, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; U, <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>)
00182   { A.decomposeLUP(L,U,<a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>); }
00183 
00184   <font class="comment">// best to use the operators than use these directly</font>
00185   <font class="keyword">static</font> <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd2">matrixMulVector</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; m, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v); <font class="comment">// m x v</font>
00186   <font class="keyword">static</font> <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd3">matrixMulVectorAddVector</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; m, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v2); <font class="comment">// m x v + v2</font>
00187 
00188 <font class="keyword">protected</font>:
<a name="l00189"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn0">00189</a>   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3">Implementation</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn0">impl</a>;
<a name="l00190"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn1">00190</a>   ref&lt;MatrixImpl&gt; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn1">mimpl</a>;
00191   
00192 <font class="keyword">private</font>:
00193   <font class="keywordtype">void</font> construct(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>, <a class="code" href="namespacebase.html#a2">Int</a> cols, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixs3">Implementation</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn0">impl</a>) <font class="keywordflow">throw</font>(std::invalid_argument);
00194 };
00195 
00196 
00197 <font class="comment">// inlines</font>
<a name="l00198"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa57">00198</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> Matrix::setDiagonal(<a class="code" href="namespacebase.html#a5">Real</a> d) <font class="keywordflow">throw</font>()
00199 { mimpl-&gt;setDiagonal(d); }
00200 
00201 <font class="keyword">inline</font> <font class="keywordtype">void</font> Matrix::setIdentity() <font class="keywordflow">throw</font>()
00202 { mimpl-&gt;setDiagonal(<a class="code" href="namespacebase.html#a5">Real</a>(1)); }
00203 
00204 <font class="keyword">inline</font> <font class="keywordtype">void</font> Matrix::setZero() <font class="keywordflow">throw</font>()
00205 { mimpl-&gt;setDiagonal(<a class="code" href="namespacebase.html#a5">Real</a>(0)); }
00206 
<a name="l00207"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa60">00207</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> Matrix::inRange(<a class="code" href="namespacebase.html#a2">Int</a> row, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>()
00208 { <font class="keywordflow">return</font> (row&gt;=1) &amp;&amp; (row&lt;=rows()) &amp;&amp; (col&gt;=1) &amp;&amp; (col&lt;=columns()); }
00209 
00210 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a2">Int</a> Matrix::rows() <font class="keyword">const</font> <font class="keywordflow">throw</font>()
00211 { <font class="keywordflow">return</font> mimpl-&gt;rows(); }
00212 
00213 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a2">Int</a> Matrix::columns() <font class="keyword">const</font> <font class="keywordflow">throw</font>()
00214 { <font class="keywordflow">return</font> mimpl-&gt;columns(); }
00215 
00216 <font class="keyword">inline</font> <font class="keywordtype">void</font> Matrix::resize(<a class="code" href="namespacebase.html#a2">Int</a> rows, <a class="code" href="namespacebase.html#a2">Int</a> cols, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; diagonal=<a class="code" href="namespacebase.html#a5">Real</a>(1))
00217 {  <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn1">mimpl</a>-&gt;resize(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>, cols, diagonal); }
00218 
00219 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; Matrix::e(<a class="code" href="namespacebase.html#a2">Int</a> row, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>()
00220 { 
00221 <font class="preprocessor">#ifdef DEBUG</font>
00222 <font class="preprocessor"></font>  <font class="keywordflow">if</font> (!inRange(row,col))
00223     <font class="keywordflow">throw</font> <a class="code" href="classstd_1_1runtime__error.html">std::runtime_error</a>(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row or col out of bounds (debug only check)"</font>));
00224 <font class="preprocessor">#endif </font>
00225 <font class="preprocessor"></font>  <font class="keywordflow">return</font> mimpl-&gt;e(row, col); 
00226 }
00227 
00228 <font class="keyword">inline</font> <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; Matrix::e(<a class="code" href="namespacebase.html#a2">Int</a> row, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>()
00229 {
00230 <font class="preprocessor">#ifdef DEBUG</font>
00231 <font class="preprocessor"></font>  <font class="keywordflow">if</font> (!inRange(row,col))
00232     <font class="keywordflow">throw</font> <a class="code" href="classstd_1_1runtime__error.html">std::runtime_error</a>(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row or col out of bounds (debug only check)"</font>));
00233 <font class="preprocessor">#endif </font>
00234 <font class="preprocessor"></font>  <font class="keywordflow">return</font> mimpl-&gt;e(row, col); 
00235 }
00236 
00237 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; Matrix::at(<a class="code" href="namespacebase.html#a2">Int</a> row, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>(std::out_of_range)
00238 {
00239   <font class="keywordflow">if</font> (!inRange(row,col))
00240     <font class="keywordflow">throw</font> std::out_of_range(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row or col out of bounds"</font>));
00241   
00242   <font class="keywordflow">return</font> e(row,col);
00243 }
00244 
00245 <font class="keyword">inline</font> <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; Matrix::at(<a class="code" href="namespacebase.html#a2">Int</a> row, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range)
00246 {
00247   <font class="keywordflow">if</font> (!inRange(row,col))
00248     <font class="keywordflow">throw</font> std::out_of_range(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row or col out of bounds"</font>));
00249   
00250   <font class="keywordflow">return</font> e(row,col);
00251 }
00252 
00253 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; src) <font class="keywordflow">throw</font>()
00254 { mimpl-&gt;operator=(*src.mimpl); <font class="keywordflow">return</font> *<font class="keyword">this</font>; }
00255 
00256 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; src) <font class="keywordflow">throw</font>()
00257 { mimpl-&gt;operator=(src); <font class="keywordflow">return</font> *<font class="keyword">this</font>; }
00258 
00259 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="namespacebase.html#a127">Matrix::operator==</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::invalid_argument)
00260 {
00261   <font class="keywordflow">if</font> ((<a class="code" href="analytical_8c.html#a20">m1</a>.rows() != rows()) || (<a class="code" href="analytical_8c.html#a20">m1</a>.columns() != columns()))
00262     <font class="keywordflow">throw</font> std::invalid_argument(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Can't test Matrices of difference dimensions for equality"</font>));
00263   <font class="keywordflow">return</font> (mimpl-&gt;operator==(*<a class="code" href="analytical_8c.html#a20">m1</a>.mimpl) ); 
00264 }
00265 
00266 <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="namespacebase.html#a88">Matrix::equals</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::invalid_argument)
00267 {
00268   <font class="keywordflow">if</font> ((<a class="code" href="analytical_8c.html#a20">m1</a>.rows() != rows()) || (<a class="code" href="analytical_8c.html#a20">m1</a>.columns() != columns()))
00269     <font class="keywordflow">throw</font> std::invalid_argument(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Can't test Matrices of difference dimensions for equality"</font>));
00270   <font class="keywordflow">return</font> (mimpl-&gt;equals(*<a class="code" href="analytical_8c.html#a20">m1</a>.mimpl)); 
00271 }
00272 
00273 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="namespacebase.html#a48">Matrix::transpose</a>()
00274 { <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixn1">mimpl</a>-&gt;transpose(); <font class="keywordflow">return</font> *<font class="keyword">this</font>; }
00275 
00276 
00277 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::swapRows(<a class="code" href="namespacebase.html#a2">Int</a> i, <a class="code" href="namespacebase.html#a2">Int</a> j) <font class="keywordflow">throw</font>(std::out_of_range)
00278 {
00279 <font class="preprocessor">#ifdef DEBUG </font>
00280 <font class="preprocessor"></font>  <font class="keywordflow">if</font> ((i &lt; 1) || (i &gt; rows()) || (j &lt; 1) || (j &gt; rows()))
00281     <font class="keywordflow">throw</font> std::out_of_range(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row out of bounds (debug only check)"</font>));
00282 <font class="preprocessor">#endif</font>
00283 <font class="preprocessor"></font>  mimpl-&gt;swapRows(i,j);
00284   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00285 }
00286 
00287 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::swapCols(<a class="code" href="namespacebase.html#a2">Int</a> i, <a class="code" href="namespacebase.html#a2">Int</a> j) <font class="keywordflow">throw</font>(std::out_of_range)
00288 {
00289 <font class="preprocessor">#ifdef DEBUG</font>
00290 <font class="preprocessor"></font>  <font class="keywordflow">if</font> ((i &lt; 1) || (i &gt; columns()) || (j &lt; 1) || (j &gt; columns()))
00291     <font class="keywordflow">throw</font> std::out_of_range(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix col out of bounds (debug only check)"</font>));
00292 <font class="preprocessor">#endif</font>
00293 <font class="preprocessor"></font>  mimpl-&gt;swapCols(i,j);
00294   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00295 }
00296 
00297 
00298 <font class="comment">// multiplication</font>
00299 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator*=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="keywordflow">throw</font>(std::invalid_argument)
00300 {
00301   <font class="keywordflow">if</font> (columns() != <a class="code" href="analytical_8c.html#a21">m2</a>.rows())
00302     <font class="keywordflow">throw</font> std::invalid_argument(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"RHS Matrix must have same rows as *this Matrix does columns"</font>));
00303   mimpl-&gt;operator*=(*<a class="code" href="analytical_8c.html#a21">m2</a>.mimpl);
00304   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00305 }
00306 
00307 <font class="comment">// addition</font>
00308 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator+=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="keywordflow">throw</font>(std::invalid_argument)
00309 {
00310   <font class="keywordflow">if</font> ((<a class="code" href="analytical_8c.html#a21">m2</a>.rows() != rows()) || (<a class="code" href="analytical_8c.html#a21">m2</a>.columns() != columns()))
00311     <font class="keywordflow">throw</font> std::invalid_argument(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Can't add Matrices of different dimensions"</font>));
00312 
00313   mimpl-&gt;operator+=(*<a class="code" href="analytical_8c.html#a21">m2</a>.mimpl);
00314   <font class="keywordflow">return</font> (*this);
00315 }
00316 
00317 <font class="comment">// subtration</font>
00318 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator-=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="keywordflow">throw</font>(std::invalid_argument)
00319 {
00320   <font class="keywordflow">if</font> ((<a class="code" href="analytical_8c.html#a21">m2</a>.rows() != rows()) || (<a class="code" href="analytical_8c.html#a21">m2</a>.columns() != columns()))
00321     <font class="keywordflow">throw</font> std::invalid_argument(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Can't subtract Matrices of different dimensions"</font>));
00322 
00323   mimpl-&gt;operator-=(*<a class="code" href="analytical_8c.html#a21">m2</a>.mimpl);
00324   <font class="keywordflow">return</font> (*this);
00325 }
00326 
00327 <font class="comment">// negation</font>
<a name="l00328"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa98">00328</a> <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="namespacebase.html#a43">Matrix::operator-</a>() <font class="keywordflow">throw</font>()
00329 { mimpl-&gt;operator-(); <font class="keywordflow">return</font> *<font class="keyword">this</font>; }
00330 
00331 <font class="comment">// Scalar multiplication</font>
00332 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator*=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="keywordflow">throw</font>()
00333 {
00334   mimpl-&gt;operator*=(s);
00335   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00336 }
00337 
00338 <font class="comment">// Scalar division</font>
00339 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; Matrix::operator/=(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="keywordflow">throw</font>(std::invalid_argument)
00340 {
00341   <font class="keywordflow">if</font> (s==<a class="code" href="namespacebase.html#a5">Real</a>(0)) <font class="keywordflow">throw</font> std::invalid_argument(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Can't divide by 0"</font>));
00342 
00343   mimpl-&gt;operator/=(s);
00344   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00345 }
00346 
00347 
00348 <font class="comment">// Operations</font>
00349 
00350 
00351 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="comment">// Matrix multiplication</font>
00352 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r *= <a class="code" href="analytical_8c.html#a21">m2</a>; }
00353 
00354 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a42">operator+</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="comment">// Addition</font>
00355 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r += <a class="code" href="analytical_8c.html#a21">m2</a>; }
00356 
00357 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a43">operator-</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="comment">// Subtraction</font>
00358 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r -= <a class="code" href="analytical_8c.html#a21">m2</a>; }
00359 
00360 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a43">operator-</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="comment">// Negation</font>
00361 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r.negate(); }
00362 
00363 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="comment">// Scalar multiplication</font>
00364 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r *= s; }
00365 
00366 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="comment">// Scalar multiplication</font>
00367 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r *= s; }
00368 
00369 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a47">operator/</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="comment">// Scalar division</font>
00370 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r /= s; }
00371 
00372 
00373 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a48">transpose</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; m) <font class="comment">// Transpose</font>
00374 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(m); <font class="keywordflow">return</font> r.transpose(); }
00375 
00376 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a49">inverse</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; m) <font class="comment">// Inverse</font>
00377 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(m); <font class="keywordflow">return</font> r.invert(); }
00378 
00379 
00380 <font class="comment">// These functions and the structs above provide closures for common vector matrix</font>
00381 <font class="comment">//  operations.</font>
00382 <font class="comment">// For example, an expression like m*v+v2 will expand to:</font>
00383 <font class="comment">//              Matrix::matrixMulVectorAddVector(m,v,v2);</font>
00384 <font class="comment">// rather than: Vector r(operator*(m,v)); r.operator+=(v2), return r</font>
00385 <font class="comment">//   (saving a couple copies between temporaries)</font>
00386 
00387 <font class="keyword">inline</font> MNVNmulVNadd <a class="code" href="namespacebase.html#a42">operator+</a>(<font class="keyword">const</font> MNVNmul&amp; mv, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv)
00388 { <font class="keywordflow">return</font> MNVNmulVNadd(mv,vv); }
00389 
00390 <font class="keyword">inline</font> MNVNmul <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a7">mm</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv)
00391 { <font class="keywordflow">return</font> MNVNmul(mm,vv); }
00392 
00393 <font class="keyword">inline</font> MNVNmul::operator Vector()<font class="keyword"> const</font>
00394 <font class="keyword"></font>{ <font class="keywordflow">return</font> Matrix::matrixMulVector(m,v); }
00395 
00396 <font class="keyword">inline</font> MNVNmulVNadd::operator Vector()<font class="keyword"> const</font>
00397 <font class="keyword"></font>{ <font class="keywordflow">return</font> Matrix::matrixMulVectorAddVector(m,v,v2); }
00398 
00399 
00400 std::ostream&amp; <a class="code" href="namespacebase.html#a52">operator&lt;&lt;</a>(std::ostream&amp; out, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; m); <font class="comment">// Output</font>
00401 
00402 } <font class="comment">// base</font>
00403 
00404 <font class="preprocessor">#endif</font>
00405 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated on Sun Mar 30 14:02:10 2003 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
