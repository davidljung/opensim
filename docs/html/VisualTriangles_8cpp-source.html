<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: gfx/VisualTriangles.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>gfx/VisualTriangles.cpp</h1><a href="VisualTriangles_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/****************************************************************************</span>
00002 <span class="comment">  Copyright (C)1996 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment">  </span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment">  </span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment">  </span>
00018 <span class="comment">  $Id: VisualTriangles.cpp 1030 2004-02-11 20:46:17Z jungd $</span>
00019 <span class="comment">  $Revision: 1.5 $</span>
00020 <span class="comment">  $Date: 2004-02-11 15:46:17 -0500 (Wed, 11 Feb 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"> </span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#include &lt;<a class="code" href="VisualTriangles.html">gfx/VisualTriangles</a>&gt;</span>
00026 
00027 <span class="preprocessor">#include &lt;<a class="code" href="TriangleIterator.html">gfx/TriangleIterator</a>&gt;</span>
00028 
00029 <span class="preprocessor">#include &lt;osg/Node&gt;</span>
00030 <span class="preprocessor">#include &lt;osg/Transform&gt;</span>
00031 <span class="preprocessor">#include &lt;osg/MatrixTransform&gt;</span>
00032 <span class="preprocessor">#include &lt;osg/PositionAttitudeTransform&gt;</span>
00033 <span class="preprocessor">#include &lt;osg/Group&gt;</span>
00034 <span class="preprocessor">#include &lt;osg/Switch&gt;</span>
00035 <span class="preprocessor">#include &lt;osg/LOD&gt;</span>
00036 <span class="preprocessor">#include &lt;osg/Geode&gt;</span>
00037 <span class="preprocessor">#include &lt;osg/Drawable&gt;</span>
00038 <span class="preprocessor">#include &lt;osg/Geometry&gt;</span>
00039 <span class="preprocessor">#include &lt;osg/PrimitiveSet&gt;</span>
00040 
00041 
00042 <span class="keyword">using</span> <a class="code" href="classgfx_1_1VisualTriangles.html">gfx::VisualTriangles</a>;
00043 <span class="keyword">using</span> <a class="code" href="classgfx_1_1TriangleContainer.html">gfx::TriangleContainer</a>;
00044 <span class="keyword">using</span> <a class="code" href="classgfx_1_1TriangleIterator.html">gfx::TriangleIterator</a>;
00045 
00046 <span class="keyword">using</span> osg::Node;
00047 <span class="keyword">using</span> osg::Group;
00048 <span class="keyword">using</span> osg::Switch;
00049 <span class="keyword">using</span> osg::Transform;
00050 <span class="keyword">using</span> osg::MatrixTransform;
00051 <span class="keyword">using</span> osg::PositionAttitudeTransform;
00052 <span class="keyword">using</span> osg::Geometry;
00053 <span class="keyword">using</span> osg::PrimitiveSet;
00054 <span class="keyword">using</span> osg::DrawArrays;
00055 <span class="keyword">using</span> osg::DrawElementsUShort;
00056 <span class="keyword">using</span> osg::Vec3;
00057 <span class="keyword">using</span> osg::Array;
00058 <span class="keyword">using</span> osg::Vec3Array;
00059 <span class="keyword">using</span> osg::NodeVisitor;
00060 
00061 
00062 
00063 VisualTriangles::VisualTriangles(<span class="keyword">const</span> Visual&amp; visual)
00064   : LODChild(0)
00065 {
00066   <span class="keywordflow">if</span> (visual.visualTypeSupported(Visual::OSGVisual)) {
00067     <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesb4">extractTriangles</a>(visual.createOSGVisual(Visual::VerticesOnly));
00068   }
00069   <span class="keywordflow">else</span>
00070     <span class="keywordflow">throw</span> std::runtime_error(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"Visual type not supported"</span>)); 
00071 }
00072 
00073 
00074 VisualTriangles::VisualTriangles(<span class="keyword">const</span> Visual&amp; visual, Int LODChild)
00075   : LODChild(LODChild)
00076 {
00077   <span class="keywordflow">if</span> (visual.visualTypeSupported(Visual::OSGVisual)) {
00078     <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesb4">extractTriangles</a>(visual.createOSGVisual(Visual::VerticesOnly));
00079   }
00080   <span class="keywordflow">else</span>
00081     <span class="keywordflow">throw</span> std::runtime_error(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"Visual type not supported"</span>)); 
00082 }
00083 
00084 
00085 <span class="keywordtype">void</span> VisualTriangles::extractTriangles(osg::Node* node)
00086 {
00087   TriangleExtractor extractor(triangles,LODChild);
00088   extractor.setTraversalMode(NodeVisitor::TRAVERSE_ACTIVE_CHILDREN);
00089   node-&gt;accept(extractor);
00090 }
00091 
00092 
00093 
00094 VisualTriangles::const_iterator TriangleContainer::begin()<span class="keyword"> const</span>
00095 <span class="keyword"></span>{
00096   <span class="keywordflow">return</span> <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesn0">TriangleIterator</a>(*<span class="keyword">this</span>, <span class="keyword">true</span>); 
00097 }
00098 
00099 VisualTriangles::const_iterator TriangleContainer::end()<span class="keyword"> const </span>
00100 <span class="keyword"></span>{
00101   <span class="keywordflow">return</span> <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesn0">TriangleIterator</a>(*<span class="keyword">this</span>, <span class="keyword">false</span>); 
00102 }
00103 
00104 
00105 <span class="keywordtype">void</span> VisualTriangles::TriangleExtractor::apply(osg::Transform&amp; node)
00106 {
00107   <span class="keywordflow">if</span> (node.getName() != <span class="stringliteral">"debug"</span>) {
00108 
00109     <span class="keywordflow">if</span> (<a class="code" href="base.html#a25">instanceof</a>(node, osg::MatrixTransform)) {
00110 
00111       osg::MatrixTransform&amp; mt(narrow_cast&lt;MatrixTransform&gt;(node));
00112       
00113 
00114       Matrix4 t(mt.getMatrix());
00115       transform.push( transform.top()*t ); <span class="comment">// !!! check mul order</span>
00116       
00117       node.traverse(*<span class="keyword">this</span>);
00118       
00119       transform.pop();
00120     }
00121     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="base.html#a25">instanceof</a>(node, osg::PositionAttitudeTransform)) {<span class="comment"></span>
00122 <span class="comment">      //!!!</span>
00123 <span class="comment"></span>      <span class="keywordflow">throw</span> std::runtime_error(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"PositionAttitudeTransform not implemented"</span>));
00124     }
00125     <span class="keywordflow">else</span> {
00126       <a class="code" href="base.html#a3">Logln</a>(<span class="stringliteral">"unknown transform type, not applied (treated as identity)"</span>);
00127       node.traverse(*<span class="keyword">this</span>);
00128     }
00129 
00130   }
00131 }
00132 
00133 
00134 <span class="keywordtype">void</span> VisualTriangles::TriangleExtractor::apply(osg::Switch&amp; node)
00135 {
00136   <span class="keywordflow">if</span> (node.getName() != <span class="stringliteral">"debug"</span>) 
00137     node.traverse(*<span class="keyword">this</span>);
00138 }
00139 
00140 <span class="keywordtype">void</span> VisualTriangles::TriangleExtractor::apply(osg::Group&amp; node)
00141 {
00142   <span class="keywordflow">if</span> (node.getName() != <span class="stringliteral">"debug"</span>) <span class="comment">// don't traverse debugging graphics (axes etc.)</span>
00143     node.traverse(*<span class="keyword">this</span>);
00144 }
00145 
00146 <span class="keywordtype">void</span> VisualTriangles::TriangleExtractor::apply(osg::LOD&amp; node)
00147 {
00148   <span class="keywordflow">if</span> (node.getName() != <span class="stringliteral">"debug"</span>) {
00149     <span class="keywordtype">int</span> n = node.getNumChildren();
00150     <span class="keywordtype">int</span> child = (int(LODChild)&lt;n)?LODChild:(n-1);
00151     node.getChild(child)-&gt;accept(*<span class="keyword">this</span>);
00152   }
00153 }
00154 
00155 <span class="keywordtype">void</span> VisualTriangles::TriangleExtractor::apply(osg::Geode &amp;node)
00156 {
00157   <span class="comment">// Extract triangles from any GeoSets in the Geode</span>
00158   <span class="keywordtype">int</span> numDrawables = node.getNumDrawables();
00159   <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> d=0; d&lt;<a class="code" href="namespacebase.html#a2">Int</a>(numDrawables); d++) {
00160     osg::Drawable* drawable = node.getDrawable(d);
00161 <span class="comment">/*</span>
00162 <span class="comment">    if (instanceof(*drawable,osg::GeoSet)) {</span>
00163 <span class="comment">      GeoSet* geoSet = narrow_cast&lt;GeoSet&gt;((osg::Drawable*)drawable); // !!! check this</span>
00164 <span class="comment">      </span>
00165 <span class="comment">      Int numPrims = geoSet-&gt;getNumPrims();</span>
00166 <span class="comment">      const Vec3* coords = geoSet-&gt;getCoords();</span>
00167 <span class="comment">      const int* lens = geoSet-&gt;getPrimLengths();</span>
00168 <span class="comment">      const Vec3* c=coords;</span>
00169 <span class="comment"></span>
00170 <span class="comment">      Assertm(lens,"lens!=0"); //!!! why would it be 0? (it sometimes is - OSG bug?)</span>
00171 <span class="comment"></span>
00172 <span class="comment">      switch (geoSet-&gt;getPrimType()) {</span>
00173 <span class="comment">      case GeoSet::NO_TYPE: // no triangles</span>
00174 <span class="comment">      case GeoSet::POINTS:</span>
00175 <span class="comment">      case GeoSet::LINES:</span>
00176 <span class="comment">      case GeoSet::LINE_STRIP:</span>
00177 <span class="comment">      case GeoSet::FLAT_LINE_STRIP:</span>
00178 <span class="comment">      case GeoSet::LINE_LOOP:</span>
00179 <span class="comment">      break;</span>
00180 <span class="comment">        </span>
00181 <span class="comment">      case GeoSet::TRIANGLES: {</span>
00182 <span class="comment">        for(Int p=0; p &lt; numPrims; p++) {</span>
00183 <span class="comment">          Int n = lens[p];</span>
00184 <span class="comment">          for(Int v=0; v &lt; n; v+=3) </span>
00185 <span class="comment">            triangles.push_back(Triangle3(c[v],c[v+1],c[v+2]));</span>
00186 <span class="comment">          c +=n;</span>
00187 <span class="comment">        }</span>
00188 <span class="comment">      }</span>
00189 <span class="comment">      break;</span>
00190 <span class="comment"></span>
00191 <span class="comment">      case GeoSet::FLAT_TRIANGLE_STRIP:</span>
00192 <span class="comment">      case GeoSet::TRIANGLE_STRIP: {</span>
00193 <span class="comment">        for(Int p=0; p &lt; numPrims; p++) {</span>
00194 <span class="comment">          Int n = lens[p];</span>
00195 <span class="comment">          for(Int v=2; v &lt; n; v++) {</span>
00196 <span class="comment">            if ((v%2)==0)</span>
00197 <span class="comment">              triangles.push_back(Triangle3(c[v-2],c[v-1],c[v]));</span>
00198 <span class="comment">            else</span>
00199 <span class="comment">              triangles.push_back(Triangle3(c[v-1],c[v-2],c[v]));</span>
00200 <span class="comment">          }</span>
00201 <span class="comment">          c +=n;</span>
00202 <span class="comment">        }</span>
00203 <span class="comment">      }</span>
00204 <span class="comment">      break;</span>
00205 <span class="comment">        </span>
00206 <span class="comment">      case GeoSet::TRIANGLE_FAN:</span>
00207 <span class="comment">      case GeoSet::FLAT_TRIANGLE_FAN: {</span>
00208 <span class="comment">        for(Int p=0; p &lt; numPrims; p++) {</span>
00209 <span class="comment">          Int n = lens[p];</span>
00210 <span class="comment">          Vec3 f(c[0]);</span>
00211 <span class="comment">          for(Int v=2; v &lt; n; v++) </span>
00212 <span class="comment">            triangles.push_back(Triangle3(f,c[v-1],c[v]));</span>
00213 <span class="comment">          c +=n;</span>
00214 <span class="comment">        }</span>
00215 <span class="comment">      }</span>
00216 <span class="comment">      break;</span>
00217 <span class="comment">        </span>
00218 <span class="comment">      case GeoSet::QUADS: {</span>
00219 <span class="comment">        for(Int p=0; p &lt; numPrims; p++) {</span>
00220 <span class="comment">          Int n = lens[p];</span>
00221 <span class="comment">          for(Int v=0; v &lt; n; v+=4) {</span>
00222 <span class="comment">            triangles.push_back(Triangle3(c[v],c[v+1],c[v+2]));</span>
00223 <span class="comment">            triangles.push_back(Triangle3(c[v+2],c[v+3],c[v]));</span>
00224 <span class="comment">          }</span>
00225 <span class="comment">          c +=n;</span>
00226 <span class="comment">        }</span>
00227 <span class="comment">      }</span>
00228 <span class="comment">      break;</span>
00229 <span class="comment"></span>
00230 <span class="comment">      case GeoSet::QUAD_STRIP: {</span>
00231 <span class="comment">        for(Int p=0; p &lt; numPrims; p++) {</span>
00232 <span class="comment">          Int n = lens[p];</span>
00233 <span class="comment">          for(Int v=2; v &lt; n; v+=2) {</span>
00234 <span class="comment">            triangles.push_back(Triangle3(c[v-2],c[v-1],c[v]));</span>
00235 <span class="comment">            triangles.push_back(Triangle3(c[v],c[v-1],c[v+1]));</span>
00236 <span class="comment">          }</span>
00237 <span class="comment">          c +=n;</span>
00238 <span class="comment">        }</span>
00239 <span class="comment">      }</span>
00240 <span class="comment">      break;</span>
00241 <span class="comment">        </span>
00242 <span class="comment">      case GeoSet::POLYGON: {</span>
00243 <span class="comment">        Logln("Tesselation of polygons into triangles is not yet supported:");</span>
00244 <span class="comment">        Logln(" will return convex version of polygon.");</span>
00245 <span class="comment">        for(Int p=0; p &lt; numPrims; p++) {</span>
00246 <span class="comment">          Int n = lens[p];</span>
00247 <span class="comment">          Vec3 f(c[0]);</span>
00248 <span class="comment">          for(Int v=2; v &lt; n; v++) </span>
00249 <span class="comment">            triangles.push_back(Triangle3(f,c[v-1],c[v]));</span>
00250 <span class="comment">          c +=n;</span>
00251 <span class="comment">        }</span>
00252 <span class="comment">      }</span>
00253 <span class="comment">      break;</span>
00254 <span class="comment"></span>
00255 <span class="comment">      default: ;</span>
00256 <span class="comment">      Logln("Warning: Unknown osg::GetSet primitive type.");</span>
00257 <span class="comment">      }</span>
00258 <span class="comment"></span>
00259 <span class="comment">   </span>
00260 <span class="comment">    }</span>
00261 <span class="comment">    else*/</span> <span class="keywordflow">if</span> (<a class="code" href="base.html#a25">instanceof</a>(*drawable,osg::Geometry)) {
00262       Geometry* geom = narrow_cast&lt;Geometry&gt;((osg::Drawable*)drawable); 
00263 
00264       <span class="keyword">const</span> Array&amp; va(*geom-&gt;getVertexArray());
00265       <a class="code" href="base.html#a19">Assert</a>(va.getDataType() == Array::Vec3ArrayType);
00266       <span class="keyword">const</span> Vec3Array&amp; v(dynamic_cast&lt;const Vec3Array&amp;&gt;(va));
00267 
00268       <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> p=0; p&lt;geom-&gt;getNumPrimitiveSets(); p++) {
00269         
00270         <span class="keyword">const</span> PrimitiveSet* pset(geom-&gt;getPrimitiveSet(p));
00271         
00272         <a class="code" href="namespacebase.html#a2">Int</a> n = pset-&gt;getNumIndices();
00273 
00274         <span class="keywordflow">switch</span> (pset-&gt;getMode()) {
00275           <span class="keywordflow">case</span> PrimitiveSet::POINTS: <span class="comment">// no triangles</span>
00276           <span class="keywordflow">case</span> PrimitiveSet::LINES:
00277           <span class="keywordflow">case</span> PrimitiveSet::LINE_STRIP:
00278           <span class="keywordflow">case</span> PrimitiveSet::LINE_LOOP:
00279           <span class="keywordflow">break</span>; 
00280           
00281           <span class="keywordflow">case</span> PrimitiveSet::TRIANGLES: {
00282             <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=0; i&lt;n; i+=3) {
00283               <a class="code" href="namespacebase.html#a2">Int</a> v0(pset-&gt;index(i));
00284               <a class="code" href="namespacebase.html#a2">Int</a> v1(pset-&gt;index(i+1));
00285               <a class="code" href="namespacebase.html#a2">Int</a> v2(pset-&gt;index(i+2));
00286               <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[v0],v[v1],v[v2]));
00287             }
00288           } <span class="keywordflow">break</span>;
00289           
00290           <span class="keywordflow">case</span> PrimitiveSet::TRIANGLE_STRIP: {
00291             <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=2; i &lt; n; i++) {
00292               <a class="code" href="namespacebase.html#a2">Int</a> vi(pset-&gt;index(i));
00293               <a class="code" href="namespacebase.html#a2">Int</a> vim1(pset-&gt;index(i-1));
00294               <a class="code" href="namespacebase.html#a2">Int</a> vim2(pset-&gt;index(i-2));
00295               <span class="keywordflow">if</span> ((i%2)==0)
00296                 <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[vim2],v[vim1],v[vi]));
00297               <span class="keywordflow">else</span>
00298                 <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[vim1],v[vim2],v[vi]));
00299             }
00300             
00301           } <span class="keywordflow">break</span>;
00302           
00303           <span class="keywordflow">case</span> PrimitiveSet::TRIANGLE_FAN: {
00304             <a class="code" href="namespacebase.html#a26">Point3</a> <a class="code" href="Makefile_8in.html#a5">f</a>(v[pset-&gt;index(0)]);
00305             <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=2; i &lt; n; i++) {
00306               <a class="code" href="namespacebase.html#a2">Int</a> vi(pset-&gt;index(i));
00307               <a class="code" href="namespacebase.html#a2">Int</a> vim1(pset-&gt;index(i-1));
00308               <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(f,v[vim1],v[vi]));
00309             }
00310           } <span class="keywordflow">break</span>;
00311           
00312           <span class="keywordflow">case</span> PrimitiveSet::QUADS: {
00313             <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=0; i &lt; n; i+=4) {
00314               <a class="code" href="namespacebase.html#a2">Int</a> vi(pset-&gt;index(i));
00315               <a class="code" href="namespacebase.html#a2">Int</a> vip1(pset-&gt;index(i+1));
00316               <a class="code" href="namespacebase.html#a2">Int</a> vip2(pset-&gt;index(i+2));
00317               <a class="code" href="namespacebase.html#a2">Int</a> vip3(pset-&gt;index(i+3));
00318               <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[vi],v[vip1],v[vip2]));
00319               <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[vip2],v[vip3],v[vi]));
00320             }
00321           } <span class="keywordflow">break</span>;
00322           
00323           <span class="keywordflow">case</span> PrimitiveSet::QUAD_STRIP: {
00324             <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=2; i &lt; n; i+=2) {
00325               <a class="code" href="namespacebase.html#a2">Int</a> vi(pset-&gt;index(i));
00326               <a class="code" href="namespacebase.html#a2">Int</a> vim1(pset-&gt;index(i-1));
00327               <a class="code" href="namespacebase.html#a2">Int</a> vim2(pset-&gt;index(i-2));
00328               <a class="code" href="namespacebase.html#a2">Int</a> vip1(pset-&gt;index(i+1));
00329               <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[vim2],v[vim1],v[vi]));
00330               <a class="code" href="classgfx_1_1VisualTriangles.html#gfx_1_1VisualTrianglesp0">triangles</a>.push_back(Triangle3(v[vi],v[vim1],v[vip1]));
00331             }
00332           } <span class="keywordflow">break</span>;
00333           
00334           <span class="keywordflow">case</span> PrimitiveSet::POLYGON: {
00335             <a class="code" href="base.html#a3">Logln</a>(<span class="stringliteral">"Tesselation of polygons into triangles is not yet supported."</span>);
00336             <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00337           } <span class="keywordflow">break</span>;
00338           
00339           <span class="keywordflow">default</span>:
00340           <a class="code" href="base.html#a3">Logln</a>(<span class="stringliteral">"Warning: Unsupported PrimitiveSet::Mode"</span>);
00341           
00342         } <span class="comment">// switch</span>
00343 
00344       }
00345     }
00346     <span class="keywordflow">else</span>
00347       <a class="code" href="base.html#a3">Logln</a>(<span class="stringliteral">"Warning: Unsupported osg::Drawable subclass "</span> &lt;&lt; drawable-&gt;className());
00348 
00349   }
00350 
00351 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:20 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
