<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: base/Orient Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>base/Orient</h1><a href="Orient.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* **-*-c++-*-**************************************************************</span>
00002 <span class="comment">  Copyright (C)2002 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment">  </span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment">  </span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment">  </span>
00018 <span class="comment">  $Id: Orient 1029 2004-02-11 20:45:54Z jungd $</span>
00019 <span class="comment">  $Revision: 1.21 $</span>
00020 <span class="comment">  $Date: 2004-02-11 15:45:54 -0500 (Wed, 11 Feb 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"> </span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#ifndef _BASE_ORIENT_HPP_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _BASE_ORIENT_HPP_</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#include &lt;iostream&gt;</span>
00029 <span class="preprocessor">#include &lt;math.h&gt;</span>
00030 
00031 <span class="preprocessor">#include &lt;<a class="code" href="base.html">base/base</a>&gt;</span>
00032 <span class="preprocessor">#include &lt;<a class="code" href="array.html">base/array</a>&gt;</span>
00033 <span class="preprocessor">#include &lt;<a class="code" href="consts.html">base/consts</a>&gt;</span>
00034 <span class="preprocessor">#include &lt;<a class="code" href="Vector.html">base/Vector</a>&gt;</span>
00035 <span class="preprocessor">#include &lt;<a class="code" href="Matrix.html">base/Matrix</a>&gt;</span>
00036 <span class="preprocessor">#include &lt;<a class="code" href="Quat4.html">base/Quat4</a>&gt;</span>
00037 <span class="preprocessor">#include &lt;<a class="code" href="Matrix3.html">base/Matrix3</a>&gt;</span>
00038 
00039 
00040 <span class="keyword">namespace </span><a class="code" href="base_2Jamfile_8ft.html#a0">base</a> {
00041 
00042 <span class="keyword">class </span>Serializer;
00043 
00044 <span class="comment"></span>
00045 <span class="comment">/// Orientation in 3D</span>
00046 <span class="comment"></span><span class="comment">/**</span>
00047 <span class="comment"> * Represents an orientation in 3D using various internal representations.</span>
00048 <span class="comment"> * </span>
00049 <span class="comment"> * There are many parameterizations and terms in use for rotations and orientation/attitude.</span>
00050 <span class="comment"> * Some of the more common are:</span>
00051 <span class="comment"> *</span>
00052 <span class="comment"> *  - 3x3 transformation matrices.  As this has 9 direction cosine values, it contains redundant information.</span>
00053 <span class="comment"> *                                  Consequently, without care, roundoff errors can yield matrices</span>
00054 <span class="comment"> *                                  that contain unwanted effects (e.g. scaling, skew)</span>
00055 <span class="comment"> *                                  There are no singularities.  This is the representation used</span>
00056 <span class="comment"> *                                  by OpenGL.</span>
00057 <span class="comment"> *</span>
00058 <span class="comment"> *  - Euler parameters.             A vector of 4 components - not to be confused with Euler angles.</span>
00059 <span class="comment"> *                                  The mathematics corresponds to unit Quaternions - hence this</span>
00060 <span class="comment"> *                                  representation is often refered to as such.  No singularities, </span>
00061 <span class="comment"> *                                  hence useful for interpolation.  Roundoff error often results</span>
00062 <span class="comment"> *                                  in non-normalized vectors.  Some formulations place the scalar</span>
00063 <span class="comment"> *                                  component as the first component and some as the last component</span>
00064 <span class="comment"> *                                  (it is placed last here)</span>
00065 <span class="comment"> *</span>
00066 <span class="comment"> *  - Cardan-Bryant angles.         These are a 3 component vectors that represents rotations about</span>
00067 <span class="comment"> *                                  3 principle axes (anti-cyclic).  The possibilities are XYZ, XZY,</span>
00068 <span class="comment"> *                                  YZX, YXZ, ZYX and ZXY. i.e. rotation about the first axis, followed</span>
00069 <span class="comment"> *                                  by a rotation about the (now transformed) second axis and finally</span>
00070 <span class="comment"> *                                  about the (now twice transformed) third axis.</span>
00071 <span class="comment"> *                                  Commonly refered to as Euler angles (although technically they are not).</span>
00072 <span class="comment"> *                                  Has a singularity (gimble-lock) when 2nd rotation is 90 or 270deg.</span>
00073 <span class="comment"> *                                  Often the terms Roll, Pitch and Yaw (RPY) are used, where Roll is roation</span>
00074 <span class="comment"> *                                  about the forward axis by phi, Pitch is about the right axis by theta </span>
00075 <span class="comment"> *                                  and Yaw is about the up axis by psi.</span>
00076 <span class="comment"> *                                  For aeronautics, and the manipulator DH notation frames, the axes</span>
00077 <span class="comment"> *                                  are assigned x-forward, y-right &amp; z-up.  In this case RPY</span>
00078 <span class="comment"> *                                  is equivelent to EulerXYZ applied in the order Roll,Pitch,Yaw</span>
00079 <span class="comment"> *                                  Note that For the OpenSim world frame the assignments are x-back, y-right &amp; z-up. </span>
00080 <span class="comment"> *</span>
00081 <span class="comment"> * - Euler angles.                  A 3 component vector similar to Cardan-Bryant angles, but where</span>
00082 <span class="comment"> *                                  the first and last rotation axis are the same (cyclic). Possibilities </span>
00083 <span class="comment"> *                                  are XYX, XZX, YXY, YZY, ZXZ and ZYZ.  Has a singularity when the 2nd </span>
00084 <span class="comment"> *                                  rotation is 0 or 180deg.</span>
00085 <span class="comment"> *                                  Euler used ZXZ, which is the most common - and also called 'x-convention'.</span>
00086 <span class="comment"> *                                </span>
00087 <span class="comment"> * - Rodriguez parameters.          A 3 component vector. Also known as a Rotation Vector (Benati, Rodriguez-Hamilton), or Gibbs Vector.</span>
00088 <span class="comment"> *                                  Defined by gamma = v.tan(theta/2), where v is the axis of rotation and theta is the</span>
00089 <span class="comment"> *                                  angle.  Has a gimble-lock singularity at 180deg.</span>
00090 <span class="comment"> *</span>
00091 <span class="comment"> * \todo finish implementing and testing this class!</span>
00092 <span class="comment"> */</span>
<a name="l00093"></a><a class="code" href="classbase_1_1Orient.html">00093</a> <span class="keyword">class </span><a class="code" href="classbase_1_1Orient.html">Orient</a>
00094 {
00095 
00096 <span class="keyword">public</span>:<span class="comment"></span>
00097 <span class="comment">  /** Quat      - Euler parameters expressed as a quaternion (v.x,v.y,v.z,w)</span>
00098 <span class="comment">   *  Mat       - 3x3 transformation matrix of direction cosines.</span>
00099 <span class="comment">   *  EulerABC  - Euler (possibly Cardan-Bryant) angles about the axes A, B &amp; C in that order.</span>
00100 <span class="comment">   *  EulerRPY  - Euler (Cardan-Bryant) Roll, Pitch, Yaw angles (alpha,beta,gamma). </span>
00101 <span class="comment">   *               This is equivelent to EulerXYZ and assumes that the</span>
00102 <span class="comment">   *               x-axis points forward, y-axis points right and the z-axis up.</span>
00103 <span class="comment">   *               (Aeronautical convention)</span>
00104 <span class="comment">   *  Euler     - alias for EulerZXZ</span>
00105 <span class="comment">   *  Rodriguez - Rodriguez parameters (gamma1, gamma2, gamma3)</span>
00106 <span class="comment">   */</span>
00107 <span class="keyword">public</span>:  
<a name="l00108"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">00108</a>   <span class="keyword">typedef</span> <a class="code" href="namespacebase.html#a0">Byte</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a>;
00109   
00110 <span class="keyword">public</span>:   
00111   <span class="comment">// Static axes</span>
<a name="l00112"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients0">00112</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients0">EulerXYZs</a>;  
<a name="l00113"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients1">00113</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients1">EulerXYXs</a>;  
<a name="l00114"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients2">00114</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients2">EulerXZYs</a>;  
<a name="l00115"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients3">00115</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients3">EulerXZXs</a>;  
<a name="l00116"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients4">00116</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients4">EulerYZXs</a>;  
<a name="l00117"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients5">00117</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients5">EulerYZYs</a>;  
<a name="l00118"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients6">00118</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients6">EulerYXZs</a>;  
<a name="l00119"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients7">00119</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients7">EulerYXYs</a>;  
<a name="l00120"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients8">00120</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients8">EulerZXYs</a>;  
<a name="l00121"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients9">00121</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients9">EulerZXZs</a>;  
<a name="l00122"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients10">00122</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients10">EulerZYXs</a>;  
<a name="l00123"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients11">00123</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients11">EulerZYZs</a>;  
00124   <span class="comment">// Rotating axes</span>
<a name="l00125"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients12">00125</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients12">EulerZYXr</a>; 
<a name="l00126"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients13">00126</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients13">EulerXYXr</a>; 
<a name="l00127"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients14">00127</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients14">EulerYZXr</a>; 
<a name="l00128"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients15">00128</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients15">EulerXZXr</a>; 
<a name="l00129"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients16">00129</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients16">EulerXZYr</a>; 
<a name="l00130"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients17">00130</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients17">EulerYZYr</a>; 
<a name="l00131"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients18">00131</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients18">EulerZXYr</a>; 
<a name="l00132"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients19">00132</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients19">EulerYXYr</a>; 
<a name="l00133"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients20">00133</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients20">EulerYXZr</a>; 
<a name="l00134"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients21">00134</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients21">EulerZXZr</a>; 
<a name="l00135"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients22">00135</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients22">EulerXYZr</a>; 
<a name="l00136"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients23">00136</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients23">EulerZYZr</a>; 
00137 
<a name="l00138"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients24">00138</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients24">LastEuler</a> = 23;
00139   
<a name="l00140"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients25">00140</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients25">EulerRPY</a>; <span class="comment">// EulerXYZs</span>
00141 
<a name="l00142"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients26">00142</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients26">Quat</a> = 24;
<a name="l00143"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">00143</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">Mat</a>  = 25;
<a name="l00144"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients28">00144</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients28">Rodriguez</a> = 26;
<a name="l00145"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orients29">00145</a>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orients29">RepEnd</a> = 27;
00146 
00147 <span class="comment"></span>
00148 <span class="comment">  /// construct a zero orientation. (like the identify transform - defaults to EulerRPY vector 0)</span>
00149 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(); 
00150 <span class="comment"></span>
00151 <span class="comment">  /// construct a zero orientation. (like the identify transform)</span>
00152 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> representation);
00153 <span class="comment"></span>
00154 <span class="comment">  /// construct from a quaternion (x,y,z,w)</span>
00155 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Quat4.html">Quat4</a>&amp; q);
00156 <span class="comment"></span>
00157 <span class="comment">  /// construct from EulerRPY</span>
00158 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<a class="code" href="namespacebase.html#a5">Real</a> roll, <a class="code" href="namespacebase.html#a5">Real</a> pitch, <a class="code" href="namespacebase.html#a5">Real</a> yaw);  
00159 <span class="comment"></span>
00160 <span class="comment">  /// construct from a Vector.  </span>
00161 <span class="comment"></span>  <span class="keyword">explicit</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; v, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> representation = EulerRPY);
00162 <span class="comment"></span>
00163 <span class="comment">  /// construct from a 3x3 rotation transformation matrix</span>
00164 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix3.html">Matrix3</a>&amp; m3);
00165 <span class="comment"></span>
00166 <span class="comment">  /// construct from a 3x3 rotation transformation matrix</span>
00167 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m);
00168 
00169   <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta0">Orient</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; copy);
00170 
00171   <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta8">~Orient</a>(); 
00172 
00173   
<a name="l00174"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta9">00174</a>   <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta9">representation</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>; }
00175 
00176   <span class="keyword">static</span> <a class="code" href="namespacebase.html#a4">String</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Oriente0">representationString</a>(Representation rep);
00177   
<a name="l00178"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Oriente1">00178</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta10">isEuler</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) { <span class="keywordflow">return</span> rep&lt;=<a class="code" href="classbase_1_1Orient.html#base_1_1Orients24">LastEuler</a>; }
<a name="l00179"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta10">00179</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta10">isEuler</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>&lt;=<a class="code" href="classbase_1_1Orient.html#base_1_1Orients24">LastEuler</a>; }
00180   
<a name="l00181"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Oriente2">00181</a>   <span class="keyword">static</span> <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta11">size</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) 
00182   {
00183     <span class="keywordflow">if</span> (rep == <a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">Mat</a>)  <span class="keywordflow">return</span> 9;
00184     <span class="keywordflow">if</span> (rep == <a class="code" href="classbase_1_1Orient.html#base_1_1Orients26">Quat</a>) <span class="keywordflow">return</span> 4;
00185     <span class="keywordflow">return</span> 3;
00186   }
00187 
<a name="l00188"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta11">00188</a>   <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta11">size</a>()<span class="keyword"> const </span>
00189 <span class="keyword">  </span>{
00190     <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta11">size</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>);
00191   }
00192 
00193 
<a name="l00194"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta12">00194</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta12">operator[]</a>(<a class="code" href="namespacebase.html#a2">Int</a> i)  
00195   { 
00196     <span class="keywordflow">if</span> (<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>!=<a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">Mat</a>)
00197       <span class="keywordflow">return</span> v[i]; 
00198     <span class="keywordflow">else</span> {
00199       <a class="code" href="namespacebase.html#a2">Int</a> r=i/3;
00200       <a class="code" href="namespacebase.html#a2">Int</a> c=i-(r*3);
00201       <span class="keywordflow">return</span> (*m)(r,c);
00202     }
00203   }
00204 
<a name="l00205"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta13">00205</a>   <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta12">operator[]</a>(<a class="code" href="namespacebase.html#a2">Int</a> i)<span class="keyword"> const</span>
00206 <span class="keyword">  </span>{ 
00207     <span class="keywordflow">if</span> (<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>!=<a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">Mat</a>)
00208       <span class="keywordflow">return</span> v[i]; 
00209     <span class="keywordflow">else</span> {
00210       <a class="code" href="namespacebase.html#a2">Int</a> r=i/3;
00211       <a class="code" href="namespacebase.html#a2">Int</a> c=i-(r*3);
00212       <span class="keywordflow">return</span> (*m)(r,c);
00213     }
00214   }
00215 
<a name="l00216"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta14">00216</a>   <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta14">operator=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Quat4.html">Quat4</a>&amp; q)
00217   {
00218     <span class="keywordflow">if</span> (<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a> == <a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">Mat</a>)
00219       <span class="keyword">delete</span> &amp;(*m);
00220     <a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a> = <a class="code" href="classbase_1_1Orient.html#base_1_1Orients26">Quat</a>;
00221     v.<a class="code" href="classbase_1_1vector.html#base_1_1vectora14">resize</a>(4);
00222     v[0]=q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4o0">v</a>.<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o0">x</a>; v[1]=q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4o0">v</a>.<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o1">y</a>; v[2]=q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4o0">v</a>.<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>; v[3]=q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4o1">w</a>;
00223     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00224   }
00225   
00226   <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta14">operator=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix3.html">Matrix3</a>&amp; mt);
00227   
00228   <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta14">operator=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; copy) <span class="keywordflow">throw</span>();
00229 
00230   
00231   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta17">setIdentity</a>(Representation representation = Quat);
00232   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta18">setFromRotationComponent</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix4.html">Matrix4</a>&amp; mt);  
00233 <span class="comment"></span>
00234 <span class="comment">  /// equality.</span>
00235 <span class="comment"></span><span class="comment">  /** NB: expensive if representations are not the same (conversion attempted) */</span>
00236   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta19">operator==</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; o) <span class="keyword">const</span> <span class="keywordflow">throw</span>();
00237 
00238 
<a name="l00239"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta20">00239</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta20">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; o) <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00240     { <span class="keywordflow">return</span> !<a class="code" href="classbase_1_1Orient.html#base_1_1Orienta19">operator==</a>(o); }
00241 
00242   
00243   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta21">equals</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; o, <a class="code" href="namespacebase.html#a5">Real</a> epsilon = consts::epsilon) <span class="keyword">const</span> <span class="keywordflow">throw</span>();
00244 
00245 
<a name="l00246"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta22">00246</a>   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta22">rotatePoint</a>(<a class="code" href="classbase_1_1Vector3.html">Point3</a>&amp; p)<span class="keyword"> const</span>
00247 <span class="keyword">  </span>{
00248     <a class="code" href="classbase_1_1Quat4.html">Quat4</a> q(<a class="code" href="classbase_1_1Orient.html#base_1_1Orienta29">getQuat4</a>());
00249     q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4a32">rotatePoint</a>(p);
00250   }
00251   
<a name="l00252"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta23">00252</a>   <a class="code" href="classbase_1_1Vector3.html">Point3</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta23">rotate</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Point3</a>&amp; p)<span class="keyword"> const</span>
00253 <span class="keyword">  </span>{
00254     <a class="code" href="classbase_1_1Quat4.html">Quat4</a> q(<a class="code" href="classbase_1_1Orient.html#base_1_1Orienta29">getQuat4</a>());
00255     <span class="keywordflow">return</span> q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4a34">rotate</a>(p);
00256   }
00257   
<a name="l00258"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta24">00258</a>   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta22">rotatePoint</a>(<a class="code" href="classbase_1_1Vector4.html">Point4</a>&amp; p)<span class="keyword"> const</span>
00259 <span class="keyword">  </span>{
00260     <a class="code" href="classbase_1_1Quat4.html">Quat4</a> q(<a class="code" href="classbase_1_1Orient.html#base_1_1Orienta29">getQuat4</a>());
00261     q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4a32">rotatePoint</a>(p);
00262   }
00263   
<a name="l00264"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta25">00264</a>   <a class="code" href="classbase_1_1Vector4.html">Point4</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta23">rotate</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector4.html">Point4</a>&amp; p)<span class="keyword"> const</span>
00265 <span class="keyword">  </span>{
00266     <a class="code" href="classbase_1_1Quat4.html">Quat4</a> q(<a class="code" href="classbase_1_1Orient.html#base_1_1Orienta29">getQuat4</a>());
00267     <span class="keywordflow">return</span> q.<a class="code" href="classbase_1_1Quat4.html#base_1_1Quat4a34">rotate</a>(p);
00268   }
00269 
00270 <span class="comment"></span>
00271 <span class="comment">  /// invert the rotation (i.e. switch to the reverse rotation)</span>
00272 <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta26">invert</a>();
00273   
00274 <span class="comment"></span>
00275 <span class="comment">  /// interpolate between the orientations lower and upper t:[0..1]</span>
00276 <span class="comment"></span>  <span class="keyword">static</span> <a class="code" href="classbase_1_1Orient.html">Orient</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Oriente3">interpolate</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; lower, <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; upper, <a class="code" href="namespacebase.html#a5">Real</a> t);
00277 
00278   <span class="comment">// these involve representation conversion if required</span>
00279   <a class="code" href="classbase_1_1matrix.html">Matrix</a>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta27">getRotationMatrix</a>() <span class="keyword">const</span>;
00280   <a class="code" href="classbase_1_1Matrix3.html">Matrix3</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta28">getRotationMatrix3</a>() <span class="keyword">const</span>;
00281   <a class="code" href="classbase_1_1Quat4.html">Quat4</a>   <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta29">getQuat4</a>() <span class="keyword">const</span>;
00282   <a class="code" href="classbase_1_1vector.html">Vector</a>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta30">getVector</a>(Representation representation) <span class="keyword">const</span>;
00283   <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta31">getVector3</a>(Representation representation) <span class="keyword">const</span>;
00284 <span class="comment"></span>
00285 <span class="comment">  /// automatic conversion to a Vector</span>
<a name="l00286"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta32">00286</a> <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta32">operator Vector</a>()<span class="keyword"> const </span>
00287 <span class="keyword">    </span>{ <span class="keywordflow">if</span> (<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>!=<a class="code" href="classbase_1_1Orient.html#base_1_1Orients27">Mat</a>) <span class="keywordflow">return</span> v; <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta30">getVector</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>); }
00288 <span class="comment"></span>
00289 <span class="comment">  /// automatic conversion to a rotation matrix</span>
<a name="l00290"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta33">00290</a> <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta33">operator Matrix3</a>()<span class="keyword"> const</span>
00291 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta28">getRotationMatrix3</a>(); }
00292     <span class="comment"></span>
00293 <span class="comment">  /// automatic conversion to a Quat4</span>
<a name="l00294"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta34">00294</a> <span class="comment"></span>  <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta34">operator Quat4</a>()<span class="keyword"> const</span>
00295 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta29">getQuat4</a>(); }
00296     
00297     <span class="comment"></span>
00298 <span class="comment">  /// request change the internal representation (which may or may not be honored)</span>
<a name="l00299"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orienta35">00299</a> <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta35">changeRepresentation</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> newRepresentation)
00300   { <span class="keywordflow">try</span> { <a class="code" href="classbase_1_1Orient.html#base_1_1Orientb0">changeRep</a>(newRepresentation); } <span class="keywordflow">catch</span> (std::exception&amp;e) {} }
00301 
00302 <span class="comment"></span>
00303 <span class="comment">  /// returns the inverse of B, such that omega = B(v)^-1 . dv/dt, where omega is angular velocity and v is this orientation</span>
00304 <span class="comment"></span>  <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta36">getBinv</a>() <span class="keyword">const</span>;
00305 
00306   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orienta37">serialize</a>(<a class="code" href="classbase_1_1Serializer.html">Serializer</a>&amp; s); <span class="comment">///&lt; read or write object state to Serializer</span>
00307 <span class="comment"></span>
00308 <span class="keyword">protected</span>:
<a name="l00309"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">00309</a>   <span class="keyword">mutable</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>;
<a name="l00310"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientp1">00310</a>   <span class="keyword">mutable</span> <a class="code" href="classbase_1_1vector.html">Vector</a> v; <span class="comment">///&lt; component of vector-based representations (Quat, Euler, etc.)</span>
<a name="l00311"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientx0">00311</a> <span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>* <a class="code" href="classbase_1_1matrix.html">MatrixRef</a>;
<a name="l00312"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientp2">00312</a>   <span class="keyword">mutable</span> <a class="code" href="classbase_1_1matrix.html">MatrixRef</a> m; <span class="comment">///&lt; Matrix(3,3) ref if rep==Mat</span>
00313 <span class="comment"></span>
<a name="l00314"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">00314</a>   <span class="keyword">enum</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a> { <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11base_1_1Orientx1">X</a>=0, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11base_1_1Orientx2">Y</a>=1, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11base_1_1Orientx3">Z</a>=2, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11base_1_1Orientx4">W</a>=3 };
<a name="l00315"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12">00315</a>   <span class="keyword">enum</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12">Frame</a> { <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12base_1_1Orientx5">Static</a>=0, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12base_1_1Orientx6">Rotating</a>=1 };
<a name="l00316"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13">00316</a>   <span class="keyword">enum</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13">Repetition</a> { <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13base_1_1Orientx7">NonRepeating</a>=0, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13base_1_1Orientx8">Repeating</a>=1 };
<a name="l00317"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14">00317</a>   <span class="keyword">enum</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14">Parity</a> { <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14base_1_1Orientx9">Even</a>=0, <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14base_1_1Orientx10">Odd</a>=1 };
00318 
<a name="l00319"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf0">00319</a>   <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf0">eulerRep</a>(Axis axis, Parity parity, Repetition repetition, Frame frame)
00320   { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a>(((((((<a class="code" href="namespacebase.html#a0">Byte</a>(axis))&lt;&lt;1)+(<a class="code" href="namespacebase.html#a0">Byte</a>(parity)))&lt;&lt;1)+(<a class="code" href="namespacebase.html#a0">Byte</a>(repetition)))&lt;&lt;1)+(<a class="code" href="namespacebase.html#a0">Byte</a>(frame))); }
00321    
<a name="l00322"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf1">00322</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12">Frame</a>      <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf1">frame</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep)      { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12">Frame</a>(<a class="code" href="namespacebase.html#a0">Byte</a>(rep)&amp;1); }
<a name="l00323"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf2">00323</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13">Repetition</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf2">repetition</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13">Repetition</a>((<a class="code" href="namespacebase.html#a0">Byte</a>(rep)&gt;&gt;1)&amp;1); }
<a name="l00324"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf3">00324</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14">Parity</a>     <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf3">parity</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep)     { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14">Parity</a>((<a class="code" href="namespacebase.html#a0">Byte</a>(rep)&gt;&gt;2)&amp;1); }
00325   
<a name="l00326"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf4">00326</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>       <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf4">axisI</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientt0">EulSafe</a>[((<a class="code" href="namespacebase.html#a0">Byte</a>(rep)&gt;&gt;3)&amp;3)]); }
<a name="l00327"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf5">00327</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>       <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf5">axisJ</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>(<a class="code" href="namespacebase.html#a0">Byte</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientt1">EulNext</a>[<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf4">axisI</a>(rep)+(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf3">parity</a>(rep)==<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14base_1_1Orientx10">Odd</a>)])); }
<a name="l00328"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf6">00328</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>       <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf6">axisK</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>(<a class="code" href="namespacebase.html#a0">Byte</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientt1">EulNext</a>[<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf4">axisI</a>(rep)+(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf3">parity</a>(rep)!=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14base_1_1Orientx10">Odd</a>)])); }
<a name="l00329"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf7">00329</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>       <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf7">axisH</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep) { <span class="keywordflow">return</span> ((<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf2">repetition</a>(rep)==<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13base_1_1Orientx7">NonRepeating</a>)?<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf6">axisK</a>(rep):<a class="code" href="classbase_1_1Orient.html#base_1_1Orientf4">axisI</a>(rep)); }
<a name="l00330"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientf8">00330</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="classbase_1_1Orient.html#base_1_1Orientf8">getRep</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> rep, Axis&amp; i, Axis&amp; j, Axis&amp; k, Axis&amp; h,
00331                                                Parity&amp; n, Repetition&amp; s, Frame&amp; f) 
00332     {
00333       <a class="code" href="namespacebase.html#a0">Byte</a> o=rep;
00334       <a class="code" href="Makefile_8in.html#a5">f</a>=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx12">Frame</a>(o&amp;1); o&gt;&gt;=1;
00335       s=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx13">Repetition</a>(o&amp;1); o&gt;&gt;=1; 
00336       n=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx14">Parity</a>(o&amp;1); o&gt;&gt;=1;
00337       i=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientt0">EulSafe</a>[o&amp;3]);
00338       j=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientt1">EulNext</a>[<a class="code" href="namespacebase.html#a0">Byte</a>(i)+<a class="code" href="namespacebase.html#a0">Byte</a>(n)]);
00339       k=<a class="code" href="classbase_1_1Orient.html#base_1_1Orientx11">Axis</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientt1">EulNext</a>[<a class="code" href="namespacebase.html#a0">Byte</a>(i)+1-<a class="code" href="namespacebase.html#a0">Byte</a>(n)]);
00340       h=s?k:i;
00341     }
00342 
00343   
<a name="l00344"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientt0">00344</a>   <span class="keyword">static</span> <a class="code" href="namespacebase.html#a0">Byte</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientt0">EulSafe</a>[4];
<a name="l00345"></a><a class="code" href="classbase_1_1Orient.html#base_1_1Orientt1">00345</a>   <span class="keyword">static</span> <a class="code" href="namespacebase.html#a0">Byte</a> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientt1">EulNext</a>[4];
00346 
00347 <span class="comment"></span>
00348 <span class="comment">  /// change the current internal representation to that specified.</span>
00349 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Orient.html#base_1_1Orientb0">changeRep</a>(<a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">Representation</a> newRep) <span class="keyword">const</span>;
00350 
00351   <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classbase_1_1Orient.html#base_1_1Orientn0">operator&lt;&lt;</a>(std::ostream&amp; out, <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; o);
00352 };
00353 
00354 
00355 <span class="comment">// Operations</span>
00356 
00357 
<a name="l00358"></a><a class="code" href="namespacebase.html#a133">00358</a> <span class="keyword">inline</span> std::ostream&amp; <a class="code" href="namespacebase.html#a66">operator&lt;&lt;</a>(std::ostream&amp; out, <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">Orient</a>&amp; o) <span class="comment">// Output</span>
00359 { <span class="keywordflow">return</span> (o.<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp0">rep</a>!=Orient::Mat)?(out &lt;&lt; o.<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp1">v</a>):(out &lt;&lt; *o.<a class="code" href="classbase_1_1Orient.html#base_1_1Orientp2">m</a>); }
00360 
00361 
00362 
00363 } <span class="comment">// base</span>
00364 
00365 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:08 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
