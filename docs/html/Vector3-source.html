<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: base/Vector3 Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>base/Vector3</h1><a href="Vector3.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* **-*-c++-*-**************************************************************</span>
00002 <span class="comment">  Copyright (C)1996 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment">  </span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment">  </span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment">  </span>
00018 <span class="comment">  $Id: Vector3 1029 2004-02-11 20:45:54Z jungd $</span>
00019 <span class="comment">  $Revision: 1.10 $</span>
00020 <span class="comment">  $Date: 2004-02-11 15:45:54 -0500 (Wed, 11 Feb 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"> </span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#ifndef _BASE_VECTOR3_HPP_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _BASE_VECTOR3_HPP_</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#include &lt;iostream&gt;</span>
00029 <span class="preprocessor">#include &lt;math.h&gt;</span>
00030 
00031 <span class="preprocessor">#include &lt;<a class="code" href="base.html">base/base</a>&gt;</span>
00032 <span class="preprocessor">#include &lt;<a class="code" href="array.html">base/array</a>&gt;</span>
00033 <span class="preprocessor">#include &lt;<a class="code" href="consts.html">base/consts</a>&gt;</span>
00034 
00035 
00036 <span class="preprocessor">#ifdef USE_OSG</span>
00037 <span class="preprocessor"></span><span class="preprocessor">#include &lt;osg/Vec3&gt;</span>
00038 <span class="preprocessor">#endif</span>
00039 <span class="preprocessor"></span>
00040 
00041 <span class="keyword">namespace </span><a class="code" href="base_2Jamfile_8ft.html#a0">base</a> {
00042 
00043 
00044 <span class="keyword">class </span>Serializer;
00045 
00046 
00047 
<a name="l00048"></a><a class="code" href="classbase_1_1Vector3.html">00048</a> <span class="keyword">class </span>Vector3 
00049 {
00050 
00051 <span class="keyword">public</span>:
<a name="l00052"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">00052</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>() { x=y=<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>=<a class="code" href="namespacebase.html#a5">Real</a>(0); }
<a name="l00053"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a1">00053</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>(<a class="code" href="namespacebase.html#a5">Real</a> xc, <a class="code" href="namespacebase.html#a5">Real</a> yc, <a class="code" href="namespacebase.html#a5">Real</a> zc) { x=xc; y=yc; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>=zc; }
<a name="l00054"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a2">00054</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>(<span class="keyword">const</span> Vector3&amp; v) { this-&gt;<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a14">operator=</a>(v); }
00055 <span class="preprocessor">#ifdef USE_OSG</span>
<a name="l00056"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a3">00056</a> <span class="preprocessor"></span>  <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>(<span class="keyword">const</span> osg::Vec3&amp; v) { x=v._v[0]; y=v._v[1]; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>=v._v[2]; }
00057 <span class="preprocessor">#endif</span>
<a name="l00058"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a4">00058</a> <span class="preprocessor"></span>  <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a4">~Vector3</a>() {}
00059 
<a name="l00060"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3w4">00060</a>   <span class="keyword">enum</span> Coords { X=1, Y=2, Z=3, <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3w4base_1_1Vector3w3">Coords3D</a>=4 };
00061   
<a name="l00062"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a5">00062</a>   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a5">setZero</a>() <span class="keywordflow">throw</span>()
00063   { x=y=<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>=<a class="code" href="namespacebase.html#a5">Real</a>(0); }
00064 
<a name="l00065"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a6">00065</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a6">isZero</a>() <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00066    { <span class="keywordflow">return</span> (x==0)||(y==0)||(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>==0); }
00067 
<a name="l00068"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a7">00068</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a7">equalsZero</a>(<a class="code" href="namespacebase.html#a5">Real</a> eps=consts::epsilon)
00069   { <span class="keywordflow">return</span> (<a class="code" href="namespacebase.html#a61">base::equals</a>(x,0,eps) || <a class="code" href="namespacebase.html#a61">base::equals</a>(y,0,eps) || <a class="code" href="namespacebase.html#a61">base::equals</a>(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>,0,eps)); }
00070 
<a name="l00071"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a8">00071</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a8">e</a>(<a class="code" href="namespacebase.html#a2">Int</a> i) <span class="keywordflow">throw</span>()
00072   { 
00073     <a class="code" href="base.html#a21">Assertm</a>( ((i&gt;=1)&amp;&amp;(i&lt;=3)), <span class="stringliteral">"vector index in bounds (debug only check)"</span>);
00074     <span class="keywordflow">return</span> (i==1)?x:(i==2)?y:<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>; 
00075   }
00076 
<a name="l00077"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a9">00077</a>   <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a8">e</a>(<a class="code" href="namespacebase.html#a2">Int</a> i) <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00078   {
00079     <a class="code" href="base.html#a21">Assertm</a>( ((i&gt;=1)&amp;&amp;(i&lt;=3)), <span class="stringliteral">"vector index in bounds (debug only check)"</span>);
00080     <span class="keywordflow">return</span> (i==1)?x:(i==2)?y:<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>; 
00081   }
00082 
<a name="l00083"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a10">00083</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a10">at</a>(<a class="code" href="namespacebase.html#a2">Int</a> i) <span class="keywordflow">throw</span>(std::out_of_range)
00084   {
00085     <span class="keywordflow">if</span> ((i &lt; 1) || (i &gt; 3))
00086       <span class="keywordflow">throw</span> std::out_of_range(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"vector index out of bounds"</span>));
00087 
00088     <span class="keywordflow">return</span> (i==1)?x:(i==2)?y:<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>;
00089   }
00090 
<a name="l00091"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a11">00091</a>   <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a10">at</a>(<a class="code" href="namespacebase.html#a2">Int</a> i) <span class="keyword">const</span> <span class="keywordflow">throw</span>(std::out_of_range)
00092   {
00093     <span class="keywordflow">if</span> ((i &lt; 1) || (i &gt; 3))
00094       <span class="keywordflow">throw</span> std::out_of_range(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"vector index out of bounds"</span>));
00095 
00096     <span class="keywordflow">return</span> (i==1)?x:(i==2)?y:<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>;
00097   }
00098 
<a name="l00099"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a12">00099</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a12">operator[]</a>(<a class="code" href="namespacebase.html#a2">Int</a> i)  
00100   { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a8">e</a>(i); }
00101 
<a name="l00102"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a13">00102</a>   <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a12">operator[]</a>(<a class="code" href="namespacebase.html#a2">Int</a> i)<span class="keyword"> const</span>
00103 <span class="keyword">  </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a8">e</a>(i); }
00104 
<a name="l00105"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a14">00105</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a14">operator=</a>(<span class="keyword">const</span> Vector3&amp; src) <span class="keywordflow">throw</span>()
00106   { 
00107     <span class="keywordflow">if</span> (&amp;src != <span class="keyword">this</span>) {
00108       x=src.x; y=src.y; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>=src.z;
00109     }
00110     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00111   }
00112 
00113 
<a name="l00114"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a15">00114</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a15">operator==</a>(<span class="keyword">const</span> Vector3&amp; v) <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00115   {
00116     <span class="keywordflow">if</span> (&amp;v == <span class="keyword">this</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00117 
00118     <span class="keywordflow">return</span> ((x==v.x)&amp;&amp;(y==v.y)&amp;&amp;(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>==v.z));
00119   }
00120 
<a name="l00121"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a16">00121</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a16">operator!=</a>(<span class="keyword">const</span> Vector3&amp; v) <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00122   {
00123     <span class="keywordflow">if</span> (&amp;v == <span class="keyword">this</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00124 
00125     <span class="keywordflow">return</span> ((x!=v.x)||(y!=v.y)||(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>!=v.z));
00126   }
00127 
00128 
<a name="l00129"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a17">00129</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a17">equals</a>(<span class="keyword">const</span> Vector3&amp; v, <a class="code" href="namespacebase.html#a5">Real</a> epsilon = consts::epsilon) <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00130   {
00131     <span class="keywordflow">if</span> (&amp;v == <span class="keyword">this</span>) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00132 
00133     <span class="keywordflow">return</span> (<a class="code" href="namespacebase.html#a61">base::equals</a>(x,v.x,epsilon) &amp;&amp; <a class="code" href="namespacebase.html#a61">base::equals</a>(y,v.y,epsilon) &amp;&amp; <a class="code" href="namespacebase.html#a61">base::equals</a>(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>,v.z,epsilon));
00134   }
00135 
00136 
<a name="l00137"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a18">00137</a>   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a18">norm</a>() <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00138   { <span class="keywordflow">return</span> (x*x+y*y+<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>*<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>); }
00139 
<a name="l00140"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a19">00140</a>   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a19">magnitude</a>() <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00141   { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a63">sqrt</a>(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a18">norm</a>()); }
00142 
<a name="l00143"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a20">00143</a>   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a20">length</a>() <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00144   { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a19">magnitude</a>(); }
00145 
<a name="l00146"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a21">00146</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a21">negate</a>() <span class="keywordflow">throw</span>()
00147   { x=-x; y=-y; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>=-<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00148 
<a name="l00149"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a22">00149</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a22">normalize</a>()
00150   { <a class="code" href="namespacebase.html#a5">Real</a> l=<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a20">length</a>(); <a class="code" href="base.html#a19">Assert</a>(l&gt;0); x/=l; y/=l; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>/=l; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00151 
<a name="l00152"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a23">00152</a>   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a23">magNormalize</a>()
00153   { <a class="code" href="namespacebase.html#a5">Real</a> l=<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a20">length</a>(); <a class="code" href="base.html#a19">Assert</a>(l&gt;0); x/=l; y/=l; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>/=l; <span class="keywordflow">return</span> l; }
00154 
<a name="l00155"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a24">00155</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a24">cross</a>(<span class="keyword">const</span> Vector3&amp; p) <span class="keywordflow">throw</span>() <span class="comment">// this = thisxp</span>
00156   { <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a> r(y*p.z-<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>*p.y, -(x*p.z-z*p.x), x*p.y-y*p.x); <span class="keywordflow">return</span> (*<span class="keyword">this</span>=r); }  
00157   
<a name="l00158"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a25">00158</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a24">cross</a>(<span class="keyword">const</span> Vector3&amp; a, <span class="keyword">const</span> Vector3&amp; b) <span class="keywordflow">throw</span>() <span class="comment">// this = axb</span>
00159   { *<span class="keyword">this</span>=a; <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a24">cross</a>(b); }
00160 
<a name="l00161"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a26">00161</a>   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a26">dot</a>(<span class="keyword">const</span> Vector3&amp; p) <span class="keyword">const</span> <span class="keywordflow">throw</span>()
00162   { <span class="keywordflow">return</span> x*p.x+y*p.y+<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>*p.z; }
00163 
00164 
<a name="l00165"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a27">00165</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a27">operator+=</a>(<span class="keyword">const</span> Vector3&amp; v2) <span class="keywordflow">throw</span>()
00166   { x+=v2.x; y+=v2.y; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>+=v2.z; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00167 
<a name="l00168"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a28">00168</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a28">operator-=</a>(<span class="keyword">const</span> Vector3&amp; v2) <span class="keywordflow">throw</span>()
00169   { x-=v2.x; y-=v2.y; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>-=v2.z; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00170 
<a name="l00171"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a29">00171</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a29">operator*=</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <span class="keywordflow">throw</span>()
00172   { x*=s; y*=s; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>*=s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00173 
<a name="l00174"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a30">00174</a>   <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a0">Vector3</a>&amp; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a30">operator/=</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s)
00175   { x/=s; y/=s; <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>/=s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00176 
<a name="l00177"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a31">00177</a>   <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a31">largestAxis</a>()<span class="keyword"> const </span>{
00178     <a class="code" href="namespacebase.html#a5">Real</a> a[Y+1];
00179     <a class="code" href="namespacebase.html#a2">Int</a> axis = ( (a[X] = <a class="code" href="namespacebase.html#a62">base::abs</a>(x)) &lt; (a[Y] = <a class="code" href="namespacebase.html#a62">base::abs</a>(y)) ) ? Y : X;
00180     <span class="keywordflow">return</span> (a[axis] &lt; <a class="code" href="namespacebase.html#a62">base::abs</a>(<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>)) ? Z : axis; 
00181   }
00182 
00183 
<a name="l00184"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a32">00184</a>   <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>* <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a32">c_array</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;x; }
<a name="l00185"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a33">00185</a>   <a class="code" href="namespacebase.html#a5">Real</a>* <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a32">c_array</a>() { <span class="keywordflow">return</span> &amp;x; }
00186 <span class="preprocessor">#ifdef USE_OSG</span>
<a name="l00187"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a34">00187</a> <span class="preprocessor"></span>  osg::Vec3 <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a34">toVec3</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> osg::Vec3(x,y,<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>); }
00188 <span class="preprocessor">#endif</span>
00189 <span class="preprocessor"></span>
00190   <span class="keyword">static</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3e0">min</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1array.html">base::array&lt;Vector3&gt;</a>&amp; vectors);
00191   <span class="keyword">static</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3e1">max</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1array.html">base::array&lt;Vector3&gt;</a>&amp; vectors);
00192   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3e2">minmax</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1array.html">base::array&lt;Vector3&gt;</a>&amp; vectors, <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; minimum, <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; maximum);
00193 
00194 
00195   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3a35">serialize</a>(<a class="code" href="classbase_1_1Serializer.html">Serializer</a>&amp; s); <span class="comment">///&lt; read or write object state to Serializer</span>
00196 <span class="comment"></span>
00197 
<a name="l00198"></a><a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">00198</a>   <a class="code" href="namespacebase.html#a5">Real</a> x,y,<a class="code" href="classbase_1_1Vector3.html#base_1_1Vector3o2">z</a>;
00199 
00200 };
00201 
00202 
00203 <span class="comment">// Operations</span>
00204 
<a name="l00205"></a><a class="code" href="namespacebase.html#a235">00205</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a67">operator+</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v2) <span class="keywordflow">throw</span>() <span class="comment">// Addition</span>
00206 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r+=v2; }
00207 
<a name="l00208"></a><a class="code" href="namespacebase.html#a236">00208</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a68">operator-</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v2) <span class="keywordflow">throw</span>() <span class="comment">// Subtraction</span>
00209 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r-=v2; }
00210 
<a name="l00211"></a><a class="code" href="namespacebase.html#a237">00211</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a68">operator-</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1) <span class="keywordflow">throw</span>() <span class="comment">// Negation</span>
00212 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r.negate(); }
00213 
<a name="l00214"></a><a class="code" href="namespacebase.html#a238">00214</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <span class="keywordflow">throw</span>() <span class="comment">// Scalar multiplication</span>
00215 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r*=s; }
00216 
<a name="l00217"></a><a class="code" href="namespacebase.html#a239">00217</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1) <span class="keywordflow">throw</span>() <span class="comment">// Scalar multiplication</span>
00218 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r*=s; }
00219 
<a name="l00220"></a><a class="code" href="namespacebase.html#a240">00220</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a70">operator/</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <span class="comment">// Scalar division</span>
00221 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r/= s; }
00222 
<a name="l00223"></a><a class="code" href="namespacebase.html#a241">00223</a> <span class="keyword">inline</span> std::ostream&amp; <a class="code" href="namespacebase.html#a66">operator&lt;&lt;</a>(std::ostream&amp; out, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v) <span class="comment">// Output</span>
00224 { <span class="keywordflow">return</span> out &lt;&lt; <span class="stringliteral">"("</span> &lt;&lt; v.x &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; v.y &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; v.z &lt;&lt; <span class="stringliteral">")"</span>; }
00225 
00226 
<a name="l00227"></a><a class="code" href="namespacebase.html#a242">00227</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a232">midpoint</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v2) <span class="keywordflow">throw</span>() <span class="comment">// midpoint between</span>
00228 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); r+=v2; <span class="keywordflow">return</span> r/=2; }
00229 
<a name="l00230"></a><a class="code" href="namespacebase.html#a243">00230</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a> <a class="code" href="namespacebase.html#a243">cross</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v2) <span class="keywordflow">throw</span>() <span class="comment">// cross product v1xv2</span>
00231 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r.cross(v2); }
00232 
<a name="l00233"></a><a class="code" href="namespacebase.html#a244">00233</a> <span class="keyword">inline</span> <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="namespacebase.html#a209">dot</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v2) <span class="keywordflow">throw</span>() <span class="comment">// dot product v1.v2</span>
00234 { <a class="code" href="classbase_1_1Vector3.html">Vector3</a> r(v1); <span class="keywordflow">return</span> r.dot(v2); }
00235 
<a name="l00236"></a><a class="code" href="namespacebase.html#a245">00236</a> <span class="keyword">inline</span> <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">Vector3</a>&amp; v2) <span class="comment">// dot procuct v1.v2</span>
00237 { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a209">dot</a>(v1,v2); }
00238 
00239 
00240 } <span class="comment">// base</span>
00241 
00242 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:17 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
