<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: robot/sim/SimulatedBasicEnvironment Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>robot/sim/SimulatedBasicEnvironment</h1><a href="SimulatedBasicEnvironment.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* **-*-c++-*-**************************************************************</span>
00002 <span class="comment">  Copyright (C)2003 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment">        </span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment">        </span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment"></span>
00018 <span class="comment">  $Id: SimulatedBasicEnvironment 1033 2004-02-11 20:47:52Z jungd $</span>
00019 <span class="comment">  $Revision: 1.10 $</span>
00020 <span class="comment">  $Date: 2004-02-11 15:47:52 -0500 (Wed, 11 Feb 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"> </span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#ifndef _ROBOT_SIM_SIMULATEDBASICENVIRONMENT_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _ROBOT_SIM_SIMULATEDBASICENVIRONMENT_</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="sim.html">robot/sim/sim</a>&gt;</span>
00029 
00030 <span class="preprocessor">#include &lt;<a class="code" href="BasicEnvironment.html">robot/sim/BasicEnvironment</a>&gt;</span>
00031 
00032 <span class="preprocessor">#include &lt;osg/Group&gt;</span>
00033 
00034 <span class="preprocessor">#include &lt;<a class="code" href="Externalizable.html">base/Externalizable</a>&gt;</span>
00035 <span class="preprocessor">#include &lt;<a class="code" href="Simulatable.html">base/Simulatable</a>&gt;</span>
00036 <span class="preprocessor">#include &lt;<a class="code" href="Orient.html">base/Orient</a>&gt;</span>
00037 <span class="preprocessor">#include &lt;<a class="code" href="Trajectory.html">base/Trajectory</a>&gt;</span>
00038 
00039 <span class="preprocessor">#include &lt;<a class="code" href="Color3.html">gfx/Color3</a>&gt;</span>
00040 <span class="preprocessor">#include &lt;<a class="code" href="OSGWorld.html">gfx/OSGWorld</a>&gt;</span>
00041 
00042 <span class="preprocessor">#include &lt;<a class="code" href="Shape.html">physics/Shape</a>&gt;</span>
00043 <span class="preprocessor">#include &lt;<a class="code" href="SolidSystem.html">physics/SolidSystem</a>&gt;</span>
00044 <span class="preprocessor">#include &lt;<a class="code" href="CollisionCuller.html">physics/CollisionCuller</a>&gt;</span>
00045 
00046 <span class="preprocessor">#include &lt;<a class="code" href="SimulatedRobotDescription.html">robot/sim/SimulatedRobotDescription</a>&gt;</span>
00047 <span class="preprocessor">#include &lt;<a class="code" href="SimulatedRobot.html">robot/sim/SimulatedRobot</a>&gt;</span>
00048 <span class="preprocessor">#include &lt;<a class="code" href="SimulatedTool.html">robot/sim/SimulatedTool</a>&gt;</span>
00049 
00050 
00051 
00052 <span class="keyword">namespace </span><a class="code" href="robot_2Jamfile_8ft.html#a0">robot</a> {
00053 <span class="keyword">namespace </span><a class="code" href="robot_2Jamfile_8ft.html#a3">sim</a> {
00054 <span class="comment"></span>
00055 <span class="comment">/**</span>
00056 <span class="comment"> * A basic 'no-frills' simulated environment for robots</span>
00057 <span class="comment"> *  Robot instances added must be of type SimulatedRobot.</span>
00058 <span class="comment"> */</span>
<a name="l00059"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html">00059</a> <span class="keyword">class </span><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html">SimulatedBasicEnvironment</a> : <span class="keyword">public</span> robot::<a class="code" href="classsim.html">sim</a>::<a class="code" href="classrobot_1_1sim_1_1BasicEnvironment.html">BasicEnvironment</a>, <span class="keyword">public</span> <a class="code" href="gfx_2Jamfile_8ft.html#a0">gfx</a>::OSGWorld
00060 {
00061 <span class="keyword">public</span>:
00062   <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta0">SimulatedBasicEnvironment</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;base::VFileSystem&gt;</a> fs, <a class="code" href="classbase_1_1ref.html">ref&lt;base::Cache&gt;</a> cache, <span class="keyword">const</span> String&amp; name = <span class="stringliteral">""</span>, <span class="keywordtype">bool</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp0">dynamic</a>=<span class="keyword">true</span>);
00063   <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta0">SimulatedBasicEnvironment</a>(<span class="keyword">const</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html">SimulatedBasicEnvironment</a>&amp; e);
00064 
00065   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta2">setDynamic</a>(<span class="keywordtype">bool</span> enabled);
00066   
<a name="l00067"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta3">00067</a>   <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta3">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"SimulatedBasicEnvironment"</span>); }
00068   
<a name="l00069"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta4">00069</a>   <span class="keyword">virtual</span> Object&amp; <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta4">clone</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *(<a class="code" href="MemoryTracer.html#a0">NewObj</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta0">SimulatedBasicEnvironment</a>(*<span class="keyword">this</span>)); }
00070 
00071 
00072   <span class="comment">// factory  </span>
<a name="l00073"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta5">00073</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;RobotDescription&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta5">newRobotDescription</a>()<span class="keyword"> const </span>
00074 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1ref.html">ref&lt;RobotDescription&gt;</a>(<a class="code" href="MemoryTracer.html#a0">NewObj</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedRobotDescription.html">SimulatedRobotDescription</a>()); }
00075 
<a name="l00076"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta6">00076</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;ToolDescription&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta6">newToolDescription</a>()<span class="keyword"> const</span>
00077 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1ref.html">ref&lt;ToolDescription&gt;</a>(<a class="code" href="MemoryTracer.html#a0">NewObj</a> <a class="code" href="classrobot_1_1ToolDescription.html">ToolDescription</a>()); }
00078 
00079   <span class="comment">// methods to add/remove robots</span>
00080   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;Robot&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta7">addRobot</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;const robot::RobotDescription&gt;</a> robotDescription,
00081                               <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00082                               <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00083                               <span class="keywordtype">bool</span> anchored = <span class="keyword">false</span>);
00084    
00085   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta8">removeRobot</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;robot::Robot&gt;</a> robot);
00086 
<a name="l00087"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta9">00087</a>   <span class="keyword">virtual</span> Int <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta9">numRobots</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp7">robots</a>.<a class="code" href="classbase_1_1reflist.html#base_1_1reflista13">size</a>(); }
<a name="l00088"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta10">00088</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;Robot&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta10">getRobot</a>(Int i) { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a39">base::elementAt</a>(<a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp7">robots</a>,i); }
00089 
00090 
00091   <span class="comment">// methods to add/remove tools</span>
00092 
00093   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;Tool&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta11">addTool</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;const robot::ToolDescription&gt;</a> toolDescription,
00094                             <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00095                             <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation);
00096 
00097   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta12">removeTool</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;Tool&gt;</a> tool);
00098 
<a name="l00099"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta13">00099</a>   <span class="keyword">virtual</span> Int <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta13">numTools</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp8">tools</a>.<a class="code" href="classbase_1_1reflist.html#base_1_1reflista13">size</a>(); };
<a name="l00100"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta14">00100</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;Tool&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta14">getTool</a>(Int i) { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a39">base::elementAt</a>(<a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp8">tools</a>,i); }
<a name="l00101"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta15">00101</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;const Tool&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta14">getTool</a>(Int i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a39">base::elementAt</a>(<a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp8">tools</a>,i); }
00102 <span class="comment"></span>
00103 <span class="comment">  /// place the specified tool within grasping range of the end-effector of the specified robot manipulator</span>
00104 <span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta16">placeToolInProximity</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;Tool&gt;</a> tool, <a class="code" href="classbase_1_1ref.html">ref&lt;Robot&gt;</a> robot, Int manipulatorIndex=0);
00105 
00106 
00107   <span class="comment">// methods to add/remove simple objects to the environment</span>
00108   
00109   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta17">addBoxObstacle</a>(<a class="code" href="classbase_1_1Vector3.html">base::Dimension3</a> dim, 
00110                                                          <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00111                                                          <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00112                                                          <span class="keyword">const</span> String&amp; name = <span class="stringliteral">""</span>);
00113   
00114   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta18">addSphereObstacle</a>(Real radius,
00115                                                             <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00116                                                             <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00117                                                             <span class="keyword">const</span> String&amp; name = <span class="stringliteral">""</span>);
00118 
00119   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta17">addBoxObstacle</a>(<a class="code" href="classbase_1_1Vector3.html">base::Dimension3</a> dim, 
00120                                                          <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00121                                                          <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00122                                                          <a class="code" href="classbase_1_1ref.html">ref&lt;const physics::Material&gt;</a> material,
00123                                                          <span class="keyword">const</span> String&amp; name = <span class="stringliteral">""</span>);
00124   
00125   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta18">addSphereObstacle</a>(Real radius,
00126                                                             <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00127                                                             <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00128                                                             <a class="code" href="classbase_1_1ref.html">ref&lt;const physics::Material&gt;</a> material,
00129                                                             <span class="keyword">const</span> String&amp; name = <span class="stringliteral">""</span>);
00130 
00131   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta21">removeObstacle</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> obstacle);
00132 
00133 
00134   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta22">setObstacleColor</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> obstacle, <span class="keyword">const</span> <a class="code" href="classgfx_1_1Color3.html">gfx::Color3</a>&amp; color);
00135   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta23">setObstacleDensity</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;BasicEnvironment::Obstacle&gt;</a> obstacle, Real density);
00136   
<a name="l00137"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta24">00137</a>   <span class="keyword">virtual</span> Int <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta24">numObstacles</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp9">obstacles</a>.<a class="code" href="classbase_1_1reflist.html#base_1_1reflista13">size</a>(); }
<a name="l00138"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta25">00138</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;Obstacle&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta25">getObstacle</a>(Int i) { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a39">base::elementAt</a>(<a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp9">obstacles</a>,i); }
<a name="l00139"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta26">00139</a>   <span class="keyword">virtual</span> <a class="code" href="classbase_1_1ref.html">ref&lt;const Obstacle&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta25">getObstacle</a>(Int i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a39">base::elementAt</a>(<a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp9">obstacles</a>,i); }
00140 
00141 
00142   <span class="comment">// OSGWorld (Visual)</span>
00143   <span class="keyword">virtual</span> osg::Node* <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta27">createOSGVisual</a>(Visual::Attributes visualAttributes=0) <span class="keyword">const</span>;
00144 
00145   <span class="comment">// Simulatable</span>
00146   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta28">preSimulate</a>();
00147   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta29">simulateForSimTime</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Time.html">base::Time</a>&amp; dt);
00148 
00149   <span class="comment">// Externalizable</span>
00150   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta30">formatSupported</a>(<span class="keyword">const</span> String format, Real version = 1.0, ExternalizationType type = IO) <span class="keyword">const</span>; <span class="comment">///&lt; query if specific format is supported (for input, output or both)</span>
00151 <span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmenta31">externalize</a>(<a class="code" href="classbase_1_1Externalizer.html">base::Externalizer</a>&amp; e, <span class="keyword">const</span> String format = <span class="stringliteral">""</span>, Real version = 1.0); <span class="comment">///&lt; read or write object state to Externalizer</span>
00152 <span class="comment"></span>
00153 <span class="keyword">protected</span>:
00154 
<a name="l00155"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html">00155</a>   <span class="keyword">class </span><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html">SolidObstacle</a> : <span class="keyword">public</span> Obstacle
00156   {
00157   <span class="keyword">public</span>:
<a name="l00158"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstaclea0">00158</a>     <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstaclea0">SolidObstacle</a>(<a class="code" href="classbase_1_1Vector3.html">base::Dimension3</a> dims,
00159              <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00160              <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00161              <a class="code" href="classbase_1_1ref.html">ref&lt;physics::Solid&gt;</a> solid)
00162       : Obstacle(dims, position, orientation), 
00163         solid(solid) {}
00164     
<a name="l00165"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstaclea1">00165</a>     <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstaclea0">SolidObstacle</a>(Real radius,
00166              <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00167              <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation,
00168              <a class="code" href="classbase_1_1ref.html">ref&lt;physics::Solid&gt;</a> solid)
00169       : Obstacle(radius, position, orientation),
00170         solid(solid) {}
00171 
<a name="l00172"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstaclea2">00172</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstaclea2">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"SolidObstacle"</span>); }
00173     
<a name="l00174"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacle.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidObstacleo0">00174</a>     <a class="code" href="classbase_1_1ref.html">ref&lt;physics::Solid&gt;</a> solid;
00175   };
00176 
00177 
<a name="l00178"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html">00178</a>   <span class="keyword">class </span><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html">SolidTool</a> : <span class="keyword">public</span> Tool
00179   {
00180   <span class="keyword">public</span>:
<a name="l00181"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidToola0">00181</a>     <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidToola0">SolidTool</a>(String name, <a class="code" href="classbase_1_1ref.html">ref&lt;const robot::ToolDescription&gt;</a> toolDescription,
00182               <span class="keyword">const</span> <a class="code" href="classbase_1_1Vector3.html">base::Point3</a>&amp; position, 
00183               <span class="keyword">const</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>&amp; orientation, 
00184               <a class="code" href="classbase_1_1ref.html">ref&lt;SimulatedTool&gt;</a> simTool)
00185       : Tool(name, toolDescription, position, orientation),
00186         simTool(simTool) {}
00187     
<a name="l00188"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidToola1">00188</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidToola1">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"SolidTool"</span>); }
00189 
<a name="l00190"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidToolo0">00190</a>     <a class="code" href="classbase_1_1ref.html">ref&lt;SimulatedTool&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidTool.html#robot_1_1sim_1_1SimulatedBasicEnvironment_1_1SolidToolo0">simTool</a>;
00191   };
00192 
00193 
00194   <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentb0">construct</a>();
00195 
00196   <a class="code" href="classbase_1_1ref.html">ref&lt;physics::Solid&gt;</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentb1">findObstacle</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;Obstacle&gt;</a> obstacle);
00197 <span class="comment"></span>
00198 <span class="comment">  /// true for a dynamic simulation, fasle for static (no force/torque or velocity control, just position control)</span>
<a name="l00199"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp0">00199</a> <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp0">dynamic</a>;
00200 
<a name="l00201"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp1">00201</a>   <a class="code" href="classbase_1_1ref.html">ref&lt;physics::SolidSystem&gt;</a>       <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp1">system</a>;            <span class="comment">///&lt; SolidSystem for simulating physical bodies in this environment</span>
<a name="l00202"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp2">00202</a> <span class="comment"></span>  <a class="code" href="classbase_1_1ref.html">ref&lt;physics::CollidableGroup&gt;</a>   collidables;       <span class="comment">///&lt; Collidables for items in the environment</span>
<a name="l00203"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp3">00203</a> <span class="comment"></span>  <a class="code" href="classbase_1_1ref.html">ref&lt;physics::Collidable&gt;</a>        <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp3">groundCollidable</a>;  <span class="comment">///&lt; Collidable for the ground</span>
<a name="l00204"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp4">00204</a> <span class="comment"></span>  <a class="code" href="classbase_1_1ref.html">ref&lt;physics::CollisionCuller&gt;</a>   collisionCuller;   <span class="comment">///&lt; CollisionCuller registering which Collidables shouldn't be collided</span>
<a name="l00205"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp5">00205</a> <span class="comment"></span>  <a class="code" href="classbase_1_1ref.html">ref&lt;physics::Solid&gt;</a>             ground;            <span class="comment">///&lt; Solid ground (flat)</span>
<a name="l00206"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp6">00206</a> <span class="comment"></span>  <a class="code" href="classbase_1_1ref.html">ref&lt;physics::ConstraintGroup&gt;</a>   <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp6">cgroup</a>;            <span class="comment">///&lt; constraints (e.g. for fixing robots to the ground)</span>
00207 <span class="comment"></span>
<a name="l00208"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentx0">00208</a>   <span class="keyword">typedef</span> <a class="code" href="classbase_1_1reflist.html">reflist&lt;robot::sim::SimulatedRobot&gt;</a> <a class="code" href="classbase_1_1reflist.html">RobotList</a>;
<a name="l00209"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentx1">00209</a>   <span class="keyword">typedef</span> std::list&lt;bool&gt; <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentx1">RobotAnchoredList</a>;
<a name="l00210"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentx2">00210</a>   <span class="keyword">typedef</span> <a class="code" href="classbase_1_1reflist.html">reflist&lt;Tool&gt;</a> <a class="code" href="classbase_1_1reflist.html">ToolList</a>;
<a name="l00211"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentx3">00211</a>   <span class="keyword">typedef</span> <a class="code" href="classbase_1_1reflist.html">reflist&lt;SolidObstacle&gt;</a> <a class="code" href="classbase_1_1reflist.html">ObstacleList</a>;
00212 
<a name="l00213"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp7">00213</a>   <a class="code" href="classbase_1_1reflist.html">RobotList</a>    <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp7">robots</a>;    <span class="comment">///&lt; list of robots in the environment</span>
<a name="l00214"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp8">00214</a> <span class="comment"></span>  <a class="code" href="classbase_1_1reflist.html">ToolList</a>     <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp8">tools</a>;     <span class="comment">///&lt; list of tools in the environment</span>
<a name="l00215"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp9">00215</a> <span class="comment"></span>  <a class="code" href="classbase_1_1reflist.html">ObstacleList</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp9">obstacles</a>; <span class="comment">///&lt; list of Solid obstacles in the environment</span>
<a name="l00216"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp10">00216</a> <span class="comment"></span>  <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentx1">RobotAnchoredList</a> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp10">robotsAnchored</a>; <span class="comment">///&lt; for each robot, is it anchored to the environment?</span>
00217 <span class="comment"></span>  
<a name="l00218"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp11">00218</a>   <span class="keyword">mutable</span> Visual::Attributes attributes;
<a name="l00219"></a><a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp12">00219</a>   <span class="keyword">mutable</span> osg::ref_ptr&lt;osg::Group&gt; <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentp12">rootnode</a>;
00220 <span class="comment"></span>
00221 <span class="comment">  /// check each tool for proximity with end-effectors of each robot</span>
00222 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1sim_1_1SimulatedBasicEnvironment.html#robot_1_1sim_1_1SimulatedBasicEnvironmentb2">checkTools</a>();
00223 };
00224 
00225 
00226 }
00227 } <span class="comment">// robot::sim</span>
00228 
00229 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:39 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
