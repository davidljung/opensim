<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: base/Matrix Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>base/Matrix</h1><a href="Matrix.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* **-*-c++-*-**************************************************************</span>
00002 <span class="comment">  Copyright (C)2002 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment">  </span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment">  </span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment">  </span>
00018 <span class="comment">  $Id: Matrix 1029 2004-02-11 20:45:54Z jungd $</span>
00019 <span class="comment">  $Revision: 1.22 $</span>
00020 <span class="comment">  $Date: 2004-02-11 15:45:54 -0500 (Wed, 11 Feb 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"> </span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#ifndef _BASE_MATRIX_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _BASE_MATRIX_</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="base.html">base/base</a>&gt;</span>
00029 
00030 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00031 
00032 <span class="preprocessor">#include &lt;<a class="code" href="Vector.html">base/Vector</a>&gt;</span>
00033 <span class="preprocessor">#include &lt;<a class="code" href="Matrix3.html">base/Matrix3</a>&gt;</span>
00034 <span class="preprocessor">#include &lt;<a class="code" href="Matrix4.html">base/Matrix4</a>&gt;</span>
00035 
00036 <span class="preprocessor">#ifndef USE_BOOST_UBLAS</span>
00037 <span class="preprocessor"></span>
00038 <span class="comment">//</span>
00039 <span class="comment">// array wrapper implementation</span>
00040 <span class="comment">//</span>
00041 
00042 <span class="keyword">namespace </span><a class="code" href="base_2Jamfile_8ft.html#a0">base</a> {
00043 
00044   
00045 <span class="preprocessor">#include &lt;<a class="code" href="array.html">base/array</a>&gt;</span>  
00046 
00047 
00048 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00049 <span class="keyword">class </span><a class="code" href="SVD_8cpp.html#a12">matrix</a>
00050 {
00051 <span class="keyword">public</span>:
00052   <span class="keyword">typedef</span> T                 <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>;
00053   <span class="keyword">typedef</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>&amp;       <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw1">reference</a>;
00054   <span class="keyword">typedef</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>*       <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw2">pointer</a>;
00055   <span class="keyword">typedef</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw3">const_reference</a>;
00056   <span class="keyword">typedef</span> <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>* <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw4">const_pointer</a>;
00057   <span class="keyword">typedef</span> <a class="code" href="namespacebase.html#a1">SInt</a>              <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw5">difference_type</a>;
00058   <span class="keyword">typedef</span> <a class="code" href="namespacebase.html#a2">Int</a>               <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a>;
00059 
00060   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>() : <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>(0), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>(0) {}
00061   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>(size_type rows, size_type cols) : <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>(rows), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>(cols), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>(rows*cols) {}
00062   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>(<span class="keyword">const</span> matrix&amp; m) : <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>(m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>(m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>(m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>) {}
00063   <span class="keyword">explicit</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>(<span class="keyword">const</span> vector&lt;value_type&gt;&amp; v) : <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>(v.size()), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>(1), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>(v.size()) 
00064   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++) <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i]=v[i]; }
00065   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>(size_type rows, size_type cols, const_reference p) 
00066     : <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>(rows), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>(cols), <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>(rows*cols) 
00067   {
00068     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> r=0; r&lt;rows; r++) 
00069       <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> c=0; c&lt;cols; c++)
00070         <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(r,c) = (r!=c)?<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>(0):p;
00071   }
00072   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa5">~matrix</a>() {}
00073   
00074   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa6">rows</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>; }
00075   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa7">cols</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>; }
00076   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>; }
00077   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>; }
00078 
00079   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa10">operator==</a>(<span class="keyword">const</span> matrix&amp; m)<span class="keyword"> const </span>
00080 <span class="keyword">    </span>{ <a class="code" href="base.html#a19">Assert</a>(_rows == m._rows); <a class="code" href="base.html#a19">Assert</a>(_cols == m._cols); <span class="keywordflow">return</span> (<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a> == m.a); }
00081   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa11">operator!=</a>(<span class="keyword">const</span> matrix&amp; m)<span class="keyword"> const </span>
00082 <span class="keyword">    </span>{ <a class="code" href="base.html#a19">Assert</a>(_rows == m._rows); <a class="code" href="base.html#a19">Assert</a>(cols == m._cols); <span class="keywordflow">return</span> (<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a> != m.a); }
00083   
00084   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa12">equals</a>(<span class="keyword">const</span> matrix&amp; m, value_type eps = <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>(consts::epsilon) )<span class="keyword"> const </span>
00085 <span class="keyword">  </span>{ 
00086     <span class="keywordflow">if</span> (&amp;m != <span class="keyword">this</span>) {
00087       <a class="code" href="base.html#a19">Assert</a>(_rows == m._rows);
00088       <a class="code" href="base.html#a19">Assert</a>(_cols == m._cols);
00089       <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++)
00090         <span class="keywordflow">if</span> (!<a class="code" href="namespacebase.html#a61">base::equals</a>(a[i],m.a[i],eps)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00091     }
00092     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00093   }
00094   
00095   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw1">reference</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa13">operator()</a>(size_type r, size_type c) 
00096   { <a class="code" href="base.html#a19">Assert</a>(r&lt;_rows); <a class="code" href="base.html#a19">Assert</a>(c&lt;_cols); <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(r,c); }
00097 
00098   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw3">const_reference</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa13">operator()</a>(size_type r, size_type c)<span class="keyword"> const </span>
00099 <span class="keyword">  </span>{ <a class="code" href="base.html#a19">Assert</a>(r&lt;_rows); <a class="code" href="base.html#a19">Assert</a>(c&lt;_cols); <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(r,c); }
00100 
00101   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa15">resize</a>(size_type rows, size_type cols)
00102   {
00103     <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.resize(rows*cols);
00104     <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a> = rows; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a> = cols;
00105   }
00106   
00107   
00108   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa16">operator=</a>(<span class="keyword">const</span> matrix&amp; m) 
00109   {
00110     <span class="keywordflow">if</span> (&amp;m != <span class="keyword">this</span>) { <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>=m._rows; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>=m._cols; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>=m.a; }
00111     <span class="keywordflow">return</span> *<span class="keyword">this</span>; 
00112   }
00113   
00114   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa17">reset</a>(<span class="keyword">const</span> matrix&amp; m) { *<span class="keyword">this</span> = m; }
00115   
00116   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa18">operator+=</a>(<span class="keyword">const</span> matrix&amp; m)
00117   {
00118     <a class="code" href="base.html#a19">Assert</a>(_rows == m._rows);
00119     <a class="code" href="base.html#a19">Assert</a>(_cols == m._cols);
00120     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++) <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i]+= m.a[i];
00121     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00122   }
00123 
00124   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa19">operator-=</a>(<span class="keyword">const</span> matrix&amp; m)
00125   {
00126     <a class="code" href="base.html#a19">Assert</a>(_rows == m._rows);
00127     <a class="code" href="base.html#a19">Assert</a>(_cols == m._cols);
00128     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++) <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i]-= m.a[i];
00129     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00130   }
00131   
00132   
00133   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa20">negate</a>() 
00134   {
00135     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++) <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i] = -<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i];
00136     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00137   }
00138 
00139 
00140   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa21">operator*=</a>(<span class="keyword">const</span> matrix&amp; m2)
00141   {
00142     <a class="code" href="base.html#a19">Assert</a>(_cols == m2._rows);
00143     
00144     <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a> r(_rows, m2._cols);
00145   
00146     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>; i++)
00147       <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> j=0; j&lt;m2._cols; j++) {
00148         r._m(i,j) = <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">value_type</a>(0);
00149         <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> k=0; k&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>; k++)
00150           r._m(i,j) += <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(i,k) * m2._m(k,j);
00151       }
00152    
00153     <span class="keywordflow">return</span> (*<span class="keyword">this</span> = r);
00154   }
00155 
00156 
00157   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa21">operator*=</a>(const_reference s)
00158   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++) <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i]*=s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00159   
00160   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa23">operator/=</a>(const_reference s)
00161   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> i=0; i&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.size(); i++) <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[i]/=s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00162  
00163   
00164   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a>&amp; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa24">transpose</a>()
00165   {
00166     <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">matrix</a> rm(_cols,_rows);
00167     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>; r++)
00168       <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>; c++)
00169         rm(c,r) = <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(r,c);
00170     *<span class="keyword">this</span> = rm;
00171     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00172   }
00173   
00174   
00175   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw2">pointer</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa25">c_array</a>() { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.c_array(); }
00176   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw4">const_pointer</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixa25">c_array</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>.c_array(); }
00177   
00178   
00179   
00180 <span class="keyword">protected</span>:
00181   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">size_type</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">_rows</a>, <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>;
00182   array&lt;value_type&gt; <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>;
00183   
00184   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw1">reference</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(size_type r, size_type c) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[(r*<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>)+c]; }
00185   <a class="code" href="classbase_1_1matrix.html#base_1_1matrixw3">const_reference</a> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">_m</a>(size_type r, size_type c)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">a</a>[(r*<a class="code" href="classbase_1_1matrix.html#base_1_1matrixp1">_cols</a>)+c]; }
00186 };
00187 
00188 
00189 
00190 
00191 
00192 
00193 
00194 
00195 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00196 <span class="keyword">class </span>const_matrixrow
00197 {
00198 <span class="keyword">public</span>:
00199   <span class="keyword">typedef</span> T                             <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww0">value_type</a>;
00200   <span class="keyword">typedef</span> <span class="keyword">typename</span> matrix&lt;T&gt;::size_type <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww1">size_type</a>;
00201 
00202   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowb1">const_matrixrow</a>(<span class="keyword">const</span> matrix&lt;T&gt;&amp; m, size_type r) : m(m), r(r) {}
00203   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowb1">const_matrixrow</a>(<span class="keyword">const</span> const_matrixrow&amp; mr) : <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>(mr.<a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>), r(mr.r) {}
00204   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa2">~const_matrixrow</a>() {}
00205   
00206   <span class="keyword">const</span> <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww0">value_type</a>&amp; <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa3">operator[]</a>(size_type c)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>(r,c); }
00207   
00208   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww1">size_type</a> <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa4">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>.cols(); }
00209 
00210   operator vector&lt;T&gt;()<span class="keyword"> const </span>{
00211     vector&lt;T&gt; v(<a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>.cols());
00212     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww1">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>.cols(); c++) v[c] = <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>(r,c);
00213     <span class="keywordflow">return</span> v;
00214   }
00215   
00216 <span class="keyword">protected</span>:
00217   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa0">const_matrixrow</a>&amp; <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowb0">operator=</a>(<span class="keyword">const</span> vector&lt;T&gt;&amp; v) {}
00218   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowb1">const_matrixrow</a>() {}
00219 
00220   <span class="keyword">const</span> matrix&lt;T&gt;&amp; <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">m</a>;
00221   <a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww1">size_type</a> r;
00222 };
00223 
00224 
00225 
00226 
00227 
00228 
00229 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00230 <span class="keyword">class </span>matrixrow
00231 {
00232 <span class="keyword">public</span>:
00233   <span class="keyword">typedef</span> T                             <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww0">value_type</a>;
00234   <span class="keyword">typedef</span> <span class="keyword">typename</span> matrix&lt;T&gt;::size_type <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a>;
00235 
00236   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowb0">matrixrow</a>(matrix&lt;T&gt;&amp; m, size_type r) : m(m), r(r) {}
00237   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowb0">matrixrow</a>(<span class="keyword">const</span> matrixrow&amp; mr) : <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(mr.<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>), r(mr.r) {}
00238   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa2">~matrixrow</a>() {}
00239   
00240   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww0">value_type</a>&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa3">operator[]</a>(size_type c) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c); }
00241   <span class="keyword">const</span> <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww0">value_type</a>&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa3">operator[]</a>(size_type c)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c); }
00242   
00243   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa0">matrixrow</a>&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa5">operator=</a>(<span class="keyword">const</span> matrixrow&amp; mr)
00244   {
00245     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols() == mr.m.cols());
00246     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols(); c++) <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c) = mr.m(mr.r,c);
00247     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00248   }
00249   
00250   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa0">matrixrow</a>&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa5">operator=</a>(<span class="keyword">const</span> vector&lt;T&gt;&amp; v) {
00251     <a class="code" href="base.html#a19">Assert</a>(v.size() == <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols());
00252     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols(); c++) <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c) = v[c];
00253     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00254   }
00255 
00256   
00257   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa0">matrixrow</a>&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa7">operator*=</a>(<span class="keyword">const</span> value_type&amp; s) 
00258   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols(); c++) <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c) *= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00259 
00260   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa0">matrixrow</a>&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa8">operator/=</a>(<span class="keyword">const</span> value_type&amp; s) 
00261   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols(); c++) <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c) /= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00262 
00263 
00264   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa9">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols(); }
00265 
00266   operator const_matrixrow&lt;T&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> const_matrixrow&lt;T&gt;(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>,r); }
00267 
00268   operator vector&lt;T&gt;()<span class="keyword"> const </span>{
00269     vector&lt;T&gt; v(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols());
00270     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> c=0; c&lt;<a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>.cols(); c++) v[c] = <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>(r,c);
00271     <span class="keywordflow">return</span> v;
00272   }
00273   
00274 <span class="keyword">protected</span>:
00275   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowb0">matrixrow</a>() {}
00276 
00277   matrix&lt;T&gt;&amp; <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">m</a>;
00278   <a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">size_type</a> r;
00279 };
00280 
00281 
00282 
00283 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00284 <span class="keyword">class </span>const_matrixcolumn
00285 {
00286 <span class="keyword">public</span>:
00287   <span class="keyword">typedef</span> T                             <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw0">value_type</a>;
00288   <span class="keyword">typedef</span> <span class="keyword">typename</span> matrix&lt;T&gt;::size_type <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw1">size_type</a>;
00289 
00290   <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnb0">const_matrixcolumn</a>(<span class="keyword">const</span> matrix&lt;T&gt;&amp; m, size_type c) : m(m), c(c) {}
00291   <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnb0">const_matrixcolumn</a>(<span class="keyword">const</span> const_matrixcolumn&amp; mc) : <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>(mc.<a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>), c(mc.c) {}
00292   <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna2">~const_matrixcolumn</a>() {}
00293   
00294   <span class="keyword">const</span> <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw0">value_type</a>&amp; <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna3">operator[]</a>(size_type r)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>(r,c); }
00295 
00296   <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw1">size_type</a> <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna4">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>.rows(); }
00297   
00298   operator vector&lt;T&gt;()<span class="keyword"> const </span>{
00299     vector&lt;T&gt; v(<a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>.rows());
00300     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw1">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>.rows(); r++) v[r] = <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>(r,c);
00301     <span class="keywordflow">return</span> v;
00302   }
00303   
00304 <span class="keyword">protected</span>:
00305   <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnb0">const_matrixcolumn</a>() {}
00306 
00307   <span class="keyword">const</span> matrix&lt;T&gt;&amp; <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">m</a>;
00308   <a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw1">size_type</a> c;
00309 };
00310 
00311 
00312 
00313 
00314 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00315 <span class="keyword">class </span>matrixcolumn
00316 {
00317 <span class="keyword">public</span>:
00318   <span class="keyword">typedef</span> T                             <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw0">value_type</a>;
00319   <span class="keyword">typedef</span> <span class="keyword">typename</span> matrix&lt;T&gt;::size_type <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a>;
00320 
00321   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnb0">matrixcolumn</a>(matrix&lt;T&gt;&amp; m, size_type c) : m(m), c(c) {}
00322   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnb0">matrixcolumn</a>(<span class="keyword">const</span> matrixcolumn&amp; mc) : <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(mc.<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>), c(mc.c) {}
00323   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna2">~matrixcolumn</a>() {}
00324   
00325   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw0">value_type</a>&amp; <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna3">operator[]</a>(size_type r) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c); }
00326   <span class="keyword">const</span> <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw0">value_type</a>&amp; <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna3">operator[]</a>(size_type r)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c); }
00327 
00328   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna0">matrixcolumn</a>&amp; <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna5">operator=</a>(<span class="keyword">const</span> matrixcolumn&amp; mc)
00329   {
00330     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows() == mc.m.rows());
00331     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows(); r++) <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c) = mc.m(r,mc.c);
00332     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00333   }
00334   
00335   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna0">matrixcolumn</a>&amp; <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna5">operator=</a>(<span class="keyword">const</span> vector&lt;T&gt;&amp; v) {
00336     <a class="code" href="base.html#a19">Assert</a>(v.size() == <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows());
00337     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows(); r++) <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c) = v[r];
00338     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00339   }
00340 
00341   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna0">matrixcolumn</a>&amp; <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna7">operator*=</a>(<span class="keyword">const</span> value_type&amp; s) 
00342   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows(); r++) <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c) *= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00343 
00344   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna0">matrixcolumn</a>&amp; <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna8">operator/=</a>(<span class="keyword">const</span> value_type&amp; s) 
00345   { <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows(); r++) <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c) /= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00346 
00347   
00348   operator const_matrixcolumn&lt;T&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> const_matrixcolumn&lt;T&gt;(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>,c); }
00349 
00350   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a> <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna10">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows(); }
00351 
00352   operator vector&lt;T&gt;()<span class="keyword"> const </span>{
00353     vector&lt;T&gt; v(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows());
00354     <span class="keywordflow">for</span>(<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">size_type</a> r=0; r&lt;<a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>.rows(); r++) v[r] = <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">m</a>(r,c);
00355     <span class="keywordflow">return</span> v;
00356   }
00357   
00358 <span class="keyword">protected</span>:
00359   <a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnb0">matrixcolumn</a>() {}
00360 
<a name="l00361"></a><a class="code" href="classbase_1_1matrix.html">00361</a>   <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; m;
00362   size_type c;
00363 };
<a name="l00364"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw0">00364</a> 
<a name="l00365"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw1">00365</a> 
<a name="l00366"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw2">00366</a> 
<a name="l00367"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw3">00367</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00368"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw4">00368</a> <span class="keyword">class </span><a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange</a>
<a name="l00369"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw5">00369</a> {
<a name="l00370"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixw6">00370</a> <span class="keyword">public</span>:
00371   <span class="keyword">typedef</span> T                             value_type;
<a name="l00372"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa0">00372</a>   <span class="keyword">typedef</span> value_type&amp;                   reference;
<a name="l00373"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa1">00373</a>   <span class="keyword">typedef</span> <span class="keyword">const</span> value_type&amp;             const_reference;
<a name="l00374"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa2">00374</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>::size_type size_type;
<a name="l00375"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa3">00375</a> 
00376   <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb0">const_matrixrange</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a>&amp; rr, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a>&amp; cr) : m(m), rr(rr), cr(cr) 
<a name="l00377"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa4">00377</a>   {
00378     <a class="code" href="base.html#a19">Assert</a>((rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &gt;= 0) &amp;&amp; (rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &lt;  m.rows()));
00379     <a class="code" href="base.html#a19">Assert</a>((rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &gt;= 0) &amp;&amp; (rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &lt;= m.rows()));
00380     <a class="code" href="base.html#a19">Assert</a>((cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &gt;= 0) &amp;&amp; (cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &lt;  m.cols()));
00381     <a class="code" href="base.html#a19">Assert</a>((cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &gt;= 0) &amp;&amp; (cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &lt;= m.cols()));
00382   }
00383   <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb0">const_matrixrange</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange&lt;T&gt;</a>&amp; mr) : m(mr.m), rr(mr.rr), cr(mr.cr) {}
<a name="l00384"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa5">00384</a>   <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea2">~const_matrixrange</a>() {}
00385 
<a name="l00386"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa6">00386</a>   size_type <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea3">rows</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> - rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>; }
<a name="l00387"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa7">00387</a>   size_type <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea4">cols</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> - cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>; }
<a name="l00388"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">00388</a>   size_type <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea5">size1</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea3">rows</a>(); }
<a name="l00389"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">00389</a>   size_type <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea6">size2</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea4">cols</a>(); }
00390   
<a name="l00391"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa10">00391</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea7">operator==</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange</a>&amp; mr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (rr==mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep1">rr</a>)&amp;&amp;(cr==mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep2">cr</a>)&amp;&amp;(m==mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep0">m</a>); }
00392   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea8">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange</a>&amp; mr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (rr!=mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep1">rr</a>)||(cr!=mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep2">cr</a>)||(m!=mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep0">m</a>); }
<a name="l00393"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa11">00393</a>   
00394   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea9">equals</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange</a>&amp; mr, value_type eps = <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangew0">value_type</a>(consts::epsilon) )<span class="keyword"> const</span>
00395 <span class="keyword">  </span>{ <span class="keywordflow">return</span> (rr==mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep1">rr</a>)&amp;&amp;(cr==mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep2">cr</a>)&amp;&amp;m.equals(mr.<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep0">m</a>,eps); }
<a name="l00396"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa12">00396</a>   
00397   const_reference <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea10">operator()</a>(size_type r, size_type c)<span class="keyword"> const</span>
00398 <span class="keyword">  </span>{ <a class="code" href="base.html#a19">Assert</a>(r&lt;<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea3">rows</a>()); <a class="code" href="base.html#a19">Assert</a>(c&lt;<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea4">cols</a>()); <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb1">_m</a>(r, c); }
00399   
00400   operator matrix&lt;T&gt;()<span class="keyword"> const</span>
00401 <span class="keyword">  </span>{
00402     <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a> rm(<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea3">rows</a>(), <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea4">cols</a>());
00403     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea3">rows</a>(); r++)
00404       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea4">cols</a>(); c++)
00405         rm(r,c) = <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb1">_m</a>(r,c);
00406     <span class="keywordflow">return</span> rm;
<a name="l00407"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa13">00407</a>   }
00408 
00409 <span class="keyword">protected</span>:
<a name="l00410"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa14">00410</a>   <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb0">const_matrixrange</a>() {}
00411 
00412   <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; m;
<a name="l00413"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa15">00413</a>   <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a> rr;
00414   <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a> cr;
00415   
00416   const_reference <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb1">_m</a>(size_type r, size_type c)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep0">m</a>(rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>+r, cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>+c); }
00417 };
00418 
00419 
<a name="l00420"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa16">00420</a> 
00421 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00422 <span class="keyword">class </span><a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>
00423 {
00424 <span class="keyword">public</span>:
00425   <span class="keyword">typedef</span> T                             value_type;
<a name="l00426"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa17">00426</a>   <span class="keyword">typedef</span> value_type&amp;                   reference;
00427   <span class="keyword">typedef</span> <span class="keyword">const</span> value_type&amp;             const_reference;
<a name="l00428"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa18">00428</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>::size_type size_type;
00429 
00430   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb0">matrixrange</a>(<a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a>&amp; rr, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a>&amp; cr) : m(m), rr(rr), cr(cr) 
00431   {
00432     <a class="code" href="base.html#a19">Assert</a>((rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &gt;= 0) &amp;&amp; (rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &lt;  m.rows()));
00433     <a class="code" href="base.html#a19">Assert</a>((rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &gt;= 0) &amp;&amp; (rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &lt;= m.rows()));
00434     <a class="code" href="base.html#a19">Assert</a>((cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &gt;= 0) &amp;&amp; (cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a> &lt;  m.cols()));
00435     <a class="code" href="base.html#a19">Assert</a>((cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &gt;= 0) &amp;&amp; (cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo1">e</a> &lt;= m.cols()));
<a name="l00436"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa19">00436</a>   }
00437   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb0">matrixrange</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrixrange.html">matrixrange&lt;T&gt;</a>&amp; mr) : m(mr.m), rr(mr.rr), cr(mr.cr) {}
00438   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea2">~matrixrange</a>() {}
00439 
00440   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew3">size_type</a> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep1">rr</a>.e - <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep1">rr</a>.b; }
00441   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew3">size_type</a> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep2">cr</a>.e - <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep2">cr</a>.b; }
00442   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew3">size_type</a> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea5">size1</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); }
00443   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew3">size_type</a> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea6">size2</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); }
00444   
<a name="l00445"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa20">00445</a>   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea7">operator==</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; mr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (rr==mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep1">rr</a>)&amp;&amp;(cr==mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep2">cr</a>)&amp;&amp;(m==mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep0">m</a>); }
00446   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea8">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; mr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (rr!=mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep1">rr</a>)||(cr!=mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep2">cr</a>)||(m!=mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep0">m</a>); }
00447   
00448   <span class="keywordtype">bool</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea9">equals</a>(<span class="keyword">const</span> matrixrange&amp; mr, value_type eps = <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew0">value_type</a>(consts::epsilon) )<span class="keyword"> const</span>
00449 <span class="keyword">  </span>{ <span class="keywordflow">return</span> (rr==mr.rr)&amp;&amp;(cr==mr.cr)&amp;&amp;m.equals(mr.m,eps); }
00450   
00451   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew2">const_reference</a> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea10">operator()</a>(size_type r, size_type c)<span class="keyword"> const</span>
<a name="l00452"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa21">00452</a> <span class="keyword">  </span>{ <a class="code" href="base.html#a19">Assert</a>(r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>()); <a class="code" href="base.html#a19">Assert</a>(c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>()); <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r, c); }
00453 
00454   reference <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea10">operator()</a>(size_type r, size_type c) 
00455   { <a class="code" href="base.html#a19">Assert</a>(r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>()); <a class="code" href="base.html#a19">Assert</a>(c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>()); <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r, c); }
00456 
00457 
00458   matrixrange&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea12">operator=</a>(<span class="keyword">const</span> matrixrange&amp; mr)
00459   {
00460     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == mr.rows()); <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>() == mr.cols()); 
00461     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
00462       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
00463         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r, c) = mr(r,c);
00464     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00465   }
00466   
00467   
00468   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea0">matrixrange</a>&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea12">operator=</a>(<span class="keyword">const</span> matrix&lt;T&gt;&amp; sm)
<a name="l00469"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa22">00469</a>   {
00470     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == sm.rows()); <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>() == sm.cols());
00471     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
<a name="l00472"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa23">00472</a>       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
00473         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r, c) = sm(r,c);
00474     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00475   }
<a name="l00476"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa24">00476</a> 
00477   
00478   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea14">reset</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; mr) { *<span class="keyword">this</span> = mr; }
00479   <span class="keywordtype">void</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea14">reset</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; m) { *<span class="keyword">this</span> = m; }
00480   
00481   matrixrange&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea16">operator+=</a>(<span class="keyword">const</span> matrixrange&amp; mr)
00482   {
00483     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == mr.rows()); <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>() == mr.cols());
00484     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
00485       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
00486         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c) += mr(r,c);
<a name="l00487"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa25">00487</a>     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00488"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixa26">00488</a>   }
00489 
00490   <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea16">operator+=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; sm)
00491   {
00492     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == sm.rows()); <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>() == sm.cols());
<a name="l00493"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixp0">00493</a>     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
<a name="l00494"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixp2">00494</a>       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
00495         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c) += sm(r,c);
<a name="l00496"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixb0">00496</a>     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00497"></a><a class="code" href="classbase_1_1matrix.html#base_1_1matrixb1">00497</a>   }
00498   
00499   <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea18">operator-=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; mr)
00500   {
00501     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>()); <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>() == mr.<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>());
00502     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
00503       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
00504         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c) -= mr(r,c);
00505     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00506   }
00507 
<a name="l00508"></a><a class="code" href="classbase_1_1const__matrixrow.html">00508</a>   <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea18">operator-=</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; sm)
00509   {
00510     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == sm.rows()); <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>() == sm.cols());
<a name="l00511"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww0">00511</a>     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
<a name="l00512"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixroww1">00512</a>       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
00513         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c) -= sm(r,c);
<a name="l00514"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa0">00514</a>     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00515"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa1">00515</a>   }
<a name="l00516"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa2">00516</a> 
00517 
<a name="l00518"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa3">00518</a>   <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea20">negate</a>()
00519   {
<a name="l00520"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa4">00520</a>     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
00521       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
<a name="l00522"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowa5">00522</a>         <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c) = -<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c);
00523     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00524   }
00525   
00526   
00527   <a class="code" href="classbase_1_1matrixrange.html">matrixrange</a>&amp; <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea21">transpose</a>()
00528   {
<a name="l00529"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowb0">00529</a>     <a class="code" href="base.html#a19">Assert</a>(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>() == <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>());
<a name="l00530"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowb1">00530</a>     <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a> rm(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(), <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>());
00531     <span class="keywordflow">for</span>(size_type r=0; r&lt;_rows; r++)
<a name="l00532"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp0">00532</a>       <span class="keywordflow">for</span>(size_type c=0; c&lt;_cols; c++)
<a name="l00533"></a><a class="code" href="classbase_1_1const__matrixrow.html#base_1_1const__matrixrowp1">00533</a>         rm(c,r) = <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c);
00534     *<span class="keyword">this</span> = rm;
00535     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00536   }  
00537   
00538   operator const_matrixrange&lt;T&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange&lt;T&gt;</a>(m,rr,cr); }
00539 
00540   operator matrix&lt;T&gt;()<span class="keyword"> const</span>
00541 <span class="keyword">  </span>{
<a name="l00542"></a><a class="code" href="classbase_1_1matrixrow.html">00542</a>     <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a> rm(<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(), <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>());
00543     <span class="keywordflow">for</span>(size_type r=0; r&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">rows</a>(); r++)
00544       <span class="keywordflow">for</span>(size_type c=0; c&lt;<a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">cols</a>(); c++)
<a name="l00545"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww0">00545</a>         rm(r,c) = <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(r,c);
<a name="l00546"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixroww1">00546</a>     <span class="keywordflow">return</span> rm;
00547   }
<a name="l00548"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa0">00548</a>   
<a name="l00549"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa1">00549</a> <span class="keyword">protected</span>:
<a name="l00550"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa2">00550</a>   <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb0">matrixrange</a>() {}
00551 
<a name="l00552"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa3">00552</a>   <a class="code" href="classbase_1_1matrix.html">matrix&lt;T&gt;</a>&amp; m;
<a name="l00553"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa4">00553</a>   <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a> rr;
00554   <a class="code" href="classbase_1_1range.html">range&lt;size_type&gt;</a> cr;
<a name="l00555"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa5">00555</a>   
00556   reference <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(size_type r, size_type c) { <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep0">m</a>(rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>+r, cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>+c); }
00557   const_reference <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">_m</a>(size_type r, size_type c)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep0">m</a>(rr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>+r, cr.<a class="code" href="classbase_1_1range.html#base_1_1rangeo0">b</a>+c); }
00558 };
00559 
00560 
00561 
<a name="l00562"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa6">00562</a> <span class="keyword">typedef</span> <a class="code" href="classbase_1_1matrix.html">matrix&lt;Real&gt;</a>             <a class="code" href="classbase_1_1matrix.html">Matrix</a>;
00563 <span class="keyword">typedef</span> <a class="code" href="classmatrixrow.html">matrixrow&lt;Real&gt;</a>          <a class="code" href="classbase_1_1matrixrow.html">MatrixRow</a>;
00564 <span class="keyword">typedef</span> <a class="code" href="classbase_1_1matrixcolumn.html">matrixcolumn&lt;Real&gt;</a>       <a class="code" href="classbase_1_1matrixcolumn.html">MatrixColumn</a>;
00565 <span class="keyword">typedef</span> <a class="code" href="classbase_1_1matrixrange.html">matrixrange&lt;Real&gt;</a>        <a class="code" href="classbase_1_1matrixrange.html">MatrixRange</a>;
00566 <span class="keyword">typedef</span> <a class="code" href="classbase_1_1const__matrixrow.html">const_matrixrow&lt;Real&gt;</a>    <a class="code" href="classbase_1_1const__matrixrow.html">ConstMatrixRow</a>;
00567 <span class="keyword">typedef</span> <a class="code" href="classbase_1_1const__matrixcolumn.html">const_matrixcolumn&lt;Real&gt;</a> <a class="code" href="classbase_1_1const__matrixcolumn.html">ConstMatrixColumn</a>;
00568 <span class="keyword">typedef</span> <a class="code" href="classbase_1_1const__matrixrange.html">const_matrixrange&lt;Real&gt;</a>  <a class="code" href="classbase_1_1const__matrixrange.html">ConstMatrixRange</a>;
<a name="l00569"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa7">00569</a> 
00570 
00571 
<a name="l00572"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa8">00572</a> 
00573 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrixrow.html">MatrixRow</a> <a class="code" href="namespacebase.html#a82">matrixRow</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> r)
00574 {
00575   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a19">MatrixRow</a>(m,r);
<a name="l00576"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa9">00576</a> }
00577 
<a name="l00578"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa10">00578</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1const__matrixrow.html">ConstMatrixRow</a> <a class="code" href="namespacebase.html#a82">matrixRow</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> r)
00579 {
<a name="l00580"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowa11">00580</a>   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a22">ConstMatrixRow</a>(m,r);
00581 }
00582 
00583 
00584 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrixcolumn.html">MatrixColumn</a> <a class="code" href="namespacebase.html#a84">matrixColumn</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> c)
00585 {
00586   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a20">MatrixColumn</a>(m,c);
<a name="l00587"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowb0">00587</a> }
00588 
<a name="l00589"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp0">00589</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1const__matrixcolumn.html">ConstMatrixColumn</a> <a class="code" href="namespacebase.html#a84">matrixColumn</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> c)
<a name="l00590"></a><a class="code" href="classbase_1_1matrixrow.html#base_1_1matrixrowp1">00590</a> {
00591   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a23">ConstMatrixColumn</a>(m,c);
00592 }
00593 
00594 
00595 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrixrange.html">MatrixRange</a> <a class="code" href="namespacebase.html#a86">matrixRange</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; rr, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; cr)
<a name="l00596"></a><a class="code" href="classbase_1_1const__matrixcolumn.html">00596</a> {
00597   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a21">MatrixRange</a>(m,rr,cr);
00598 }
<a name="l00599"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw0">00599</a> 
<a name="l00600"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnw1">00600</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1const__matrixrange.html">ConstMatrixRange</a> <a class="code" href="namespacebase.html#a86">matrixRange</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; rr, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; cr)
00601 {
<a name="l00602"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna0">00602</a>   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a24">ConstMatrixRange</a>(m,rr,cr);
<a name="l00603"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna1">00603</a> }
<a name="l00604"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna2">00604</a> 
00605 
<a name="l00606"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna3">00606</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a67">operator+</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m2)
00607 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r+=m2; <span class="keywordflow">return</span> r; }
<a name="l00608"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna4">00608</a> 
00609 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a68">operator-</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m2)
<a name="l00610"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumna5">00610</a> { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r-=m2; <span class="keywordflow">return</span> r; }
00611 
00612 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a68">operator-</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1)
00613 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa20">negate</a>(); <span class="keywordflow">return</span> r; }
00614 
00615 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m2)
00616 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r*=m2; <span class="keywordflow">return</span> r; }
<a name="l00617"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnb0">00617</a> 
00618 <span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; v)
<a name="l00619"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp0">00619</a> {
<a name="l00620"></a><a class="code" href="classbase_1_1const__matrixcolumn.html#base_1_1const__matrixcolumnp1">00620</a>   <a class="code" href="base.html#a19">Assert</a>(m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa7">cols</a>() == v.<a class="code" href="classbase_1_1vector.html#base_1_1vectora12">size</a>());
00621   
00622   <a class="code" href="classbase_1_1vector.html">Vector</a> r(m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa6">rows</a>());
00623 
00624   <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> i=0; i&lt;m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa6">rows</a>(); i++) {
00625     r(i) = 0;
00626     <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> k=0; k&lt;m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa7">cols</a>(); k++)
<a name="l00627"></a><a class="code" href="classbase_1_1matrixcolumn.html">00627</a>       r(i) += m(i,k) * v(k);
00628   }
00629  
<a name="l00630"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw0">00630</a>   <span class="keywordflow">return</span> r;
<a name="l00631"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnw1">00631</a> }
00632 
<a name="l00633"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna0">00633</a> 
<a name="l00634"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna1">00634</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; v, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m) { <span class="keywordflow">return</span> m*v; }
<a name="l00635"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna2">00635</a> 
00636 
<a name="l00637"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna3">00637</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s)
<a name="l00638"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna4">00638</a> { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r*=s; <span class="keywordflow">return</span> r; }
00639 
<a name="l00640"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna5">00640</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1)
00641 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r*=s; <span class="keywordflow">return</span> r; }
00642 
00643 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a70">operator/</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s)
00644 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m1); r/=s; <span class="keywordflow">return</span> r; }
00645 
00646 <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacebase.html#a61">equals</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m2, Real eps = consts::epsilon)
<a name="l00647"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna6">00647</a> { <span class="keywordflow">return</span> m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa12">equals</a>(m2,eps); }
00648 
00649 
00650 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a98">transpose</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m)
00651 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(m); r.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa24">transpose</a>(); <span class="keywordflow">return</span> r; }
00652 
<a name="l00653"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna7">00653</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a98">transpose</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; v)
00654 { <a class="code" href="classbase_1_1matrix.html">Matrix</a> r(v); r.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa24">transpose</a>(); <span class="keywordflow">return</span> r; }
00655 
<a name="l00656"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna8">00656</a> 
00657 
00658 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a100">zeroMatrix</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> M, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> N)
00659 { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a18">Matrix</a>(M,N,0); }
<a name="l00660"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna9">00660</a> 
00661 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a101">identityMatrix</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> M, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> N)
<a name="l00662"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna10">00662</a> { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a18">Matrix</a>(M,N,1); }
00663 
<a name="l00664"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumna11">00664</a> 
00665 
00666 
00667 
00668 
00669 
00670 <span class="keyword">inline</span> <a class="code" href="classbase_1_1Matrix4.html">base::Matrix4</a> <a class="code" href="namespacebase.html#a102">toMatrix4</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; T)
<a name="l00671"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnb0">00671</a> {
00672   <a class="code" href="base.html#a19">Assert</a>((T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>() == 4) &amp;&amp; (T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>() == 4));
<a name="l00673"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp0">00673</a>   <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Matrix4.html">base::Matrix4</a>(T(0,0),T(0,1),T(0,2),T(0,3), 
<a name="l00674"></a><a class="code" href="classbase_1_1matrixcolumn.html#base_1_1matrixcolumnp1">00674</a>                        T(1,0),T(1,1),T(1,2),T(1,3),
00675                        T(2,0),T(2,1),T(2,2),T(2,3),
00676                        T(3,0),T(3,1),T(3,2),T(3,3));
00677 }
00678 
00679 
<a name="l00680"></a><a class="code" href="classbase_1_1const__matrixrange.html">00680</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a103">fromMatrix4</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix4.html">Matrix4</a>&amp; T4)
00681 {
00682   <a class="code" href="classbase_1_1matrix.html">Matrix</a> T(4,4);
<a name="l00683"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangew0">00683</a>   T(0,0)=T4(1,1); T(0,1)=T4(1,2); T(0,2)=T4(1,3); T(0,3)=T4(1,4);
<a name="l00684"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangew1">00684</a>   T(1,0)=T4(2,1); T(1,1)=T4(2,2); T(1,2)=T4(2,3); T(1,3)=T4(2,4);
<a name="l00685"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangew2">00685</a>   T(2,0)=T4(3,1); T(2,1)=T4(3,2); T(2,2)=T4(3,3); T(2,3)=T4(3,4);
<a name="l00686"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangew3">00686</a>   T(3,0)=T4(4,1); T(3,1)=T4(4,2); T(3,2)=T4(4,3); T(3,3)=T4(4,4);
00687   <span class="keywordflow">return</span> T;  
<a name="l00688"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea0">00688</a> }
00689 
00690 
00691 <span class="keyword">inline</span> <a class="code" href="classbase_1_1Matrix3.html">base::Matrix3</a> <a class="code" href="namespacebase.html#a104">toMatrix3</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; T)
00692 {
00693   <a class="code" href="base.html#a19">Assert</a>((T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>() == 3) &amp;&amp; (T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>() == 3));
00694   <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Matrix3.html">base::Matrix3</a>(T(0,0),T(0,1),T(0,2),
<a name="l00695"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea1">00695</a>                        T(1,0),T(1,1),T(1,2),
<a name="l00696"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea2">00696</a>                        T(2,0),T(2,1),T(2,2));
00697 }
<a name="l00698"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea3">00698</a> 
<a name="l00699"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea4">00699</a> 
<a name="l00700"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea5">00700</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a105">fromMatrix3</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix3.html">Matrix3</a>&amp; T3)
<a name="l00701"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea6">00701</a> {
00702   <a class="code" href="classbase_1_1matrix.html">Matrix</a> T(3,3);
<a name="l00703"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea7">00703</a>   T(0,0)=T3(1,1); T(0,1)=T3(1,2); T(0,2)=T3(1,3);
<a name="l00704"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea8">00704</a>   T(1,0)=T3(2,1); T(1,1)=T3(2,2); T(1,2)=T3(2,3);
00705   T(2,0)=T3(3,1); T(2,1)=T3(3,2); T(2,2)=T3(3,3);
<a name="l00706"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea9">00706</a>   <span class="keywordflow">return</span> T;  
00707 }
00708 
<a name="l00709"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea10">00709</a> 
00710 <span class="keyword">inline</span> std::ostream&amp; <a class="code" href="namespacebase.html#a66">operator&lt;&lt;</a>(std::ostream&amp; out, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m) <span class="comment">// Output</span>
00711 {
<a name="l00712"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangea11">00712</a>   out &lt;&lt; std::setiosflags (std::ios_base::fixed) &lt;&lt; std::setprecision(6) &lt;&lt; std::setw(8);
00713   <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> r=0; r&lt;m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>(); r++) {
00714     <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> c=0; c&lt;m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>(); c++) {
00715       out &lt;&lt; m(r,c) &lt;&lt; <span class="stringliteral">" "</span>;
00716     }
00717     out &lt;&lt; <span class="stringliteral">"\n"</span>;
00718   }
00719   <span class="keywordflow">return</span> out;
00720 }
00721 
<a name="l00722"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb0">00722</a> 
00723 } <span class="comment">// base</span>
<a name="l00724"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep0">00724</a> 
<a name="l00725"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep1">00725</a> 
<a name="l00726"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangep2">00726</a> <span class="preprocessor">#else</span>
00727 <span class="preprocessor"></span>
<a name="l00728"></a><a class="code" href="classbase_1_1const__matrixrange.html#base_1_1const__matrixrangeb1">00728</a> <span class="comment">//</span>
00729 <span class="comment">// uBlas wrapper implementation</span>
00730 <span class="comment">//</span>
00731 
00732 <span class="preprocessor">#include &lt;boost/numeric/ublas/matrix.hpp&gt;</span>
00733 
<a name="l00734"></a><a class="code" href="classbase_1_1matrixrange.html">00734</a> <span class="preprocessor">#include &lt;<a class="code" href="Vector.html">base/Vector</a>&gt;</span>
00735 <span class="preprocessor">#include &lt;<a class="code" href="Matrix4.html">base/Matrix4</a>&gt;</span>
00736 
<a name="l00737"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew0">00737</a> <span class="keyword">namespace </span><a class="code" href="classbase.html">base</a> {
<a name="l00738"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew1">00738</a> 
<a name="l00739"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew2">00739</a> <span class="keyword">namespace </span>ublas = boost::numeric::ublas; <span class="comment">// alias</span>
<a name="l00740"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangew3">00740</a> <span class="comment"></span>
00741 <span class="comment">/// Matrix(rows==size1(),cols==size2())</span>
<a name="l00742"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea0">00742</a> <span class="comment"></span><span class="keyword">typedef</span> ublas::matrix&lt;base::Real, ublas::row_major&gt; <a class="code" href="classbase_1_1matrix.html">Matrix</a>;
00743 
00744 <span class="keyword">typedef</span> ublas::matrix_range&lt;Matrix&gt;        <a class="code" href="classbase_1_1matrixrange.html">MatrixRange</a>;
00745 <span class="keyword">typedef</span> ublas::matrix_range&lt;const Matrix&gt;  <a class="code" href="classbase_1_1const__matrixrange.html">ConstMatrixRange</a>;
00746 <span class="keyword">typedef</span> ublas::matrix_row&lt;Matrix&gt;          <a class="code" href="classbase_1_1matrixrow.html">MatrixRow</a>;
00747 <span class="keyword">typedef</span> ublas::matrix_row&lt;const Matrix&gt;    <a class="code" href="classbase_1_1const__matrixrow.html">ConstMatrixRow</a>;
00748 <span class="keyword">typedef</span> ublas::matrix_column&lt;Matrix&gt;       <a class="code" href="classbase_1_1matrixcolumn.html">MatrixColumn</a>;
<a name="l00749"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea1">00749</a> <span class="keyword">typedef</span> ublas::matrix_column&lt;const Matrix&gt; <a class="code" href="classbase_1_1const__matrixcolumn.html">ConstMatrixColumn</a>;
<a name="l00750"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea2">00750</a> 
00751 <span class="comment"></span>
<a name="l00752"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea3">00752</a> <span class="comment">/// extract a submatrix</span>
<a name="l00753"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea4">00753</a> <span class="comment"></span><span class="keyword">inline</span> <a class="code" href="classbase_1_1matrixrange.html">MatrixRange</a> <a class="code" href="namespacebase.html#a86">matrixRange</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; rr, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; cr)
<a name="l00754"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea5">00754</a> { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a21">MatrixRange</a>(m,rr,cr); }
<a name="l00755"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea6">00755</a> 
00756 <span class="keyword">inline</span> <a class="code" href="classbase_1_1const__matrixrange.html">ConstMatrixRange</a> <a class="code" href="namespacebase.html#a86">matrixRange</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; rr, <span class="keyword">const</span> <a class="code" href="classbase_1_1range.html">Range</a>&amp; cr)
<a name="l00757"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea7">00757</a> { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a24">ConstMatrixRange</a>(m,rr,cr); }
<a name="l00758"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea8">00758</a> <span class="comment"></span>
00759 <span class="comment">/// extract a Matrix row</span>
<a name="l00760"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea9">00760</a> <span class="comment"></span><span class="keyword">inline</span> <a class="code" href="classbase_1_1matrixrow.html">MatrixRow</a> <a class="code" href="namespacebase.html#a82">matrixRow</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> r)
00761 { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a19">MatrixRow</a>(m,r); }
00762 
<a name="l00763"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea10">00763</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1const__matrixrow.html">ConstMatrixRow</a> <a class="code" href="namespacebase.html#a82">matrixRow</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> r)
00764 { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a22">ConstMatrixRow</a>(m,r); }
00765 <span class="comment"></span>
<a name="l00766"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea11">00766</a> <span class="comment">/// extract a Matrix column</span>
00767 <span class="comment"></span><span class="keyword">inline</span> <a class="code" href="classbase_1_1matrixcolumn.html">MatrixColumn</a> <a class="code" href="namespacebase.html#a84">matrixColumn</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> c)
00768 { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a20">MatrixColumn</a>(m,c); }
00769 
<a name="l00770"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea12">00770</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1const__matrixcolumn.html">ConstMatrixColumn</a> <a class="code" href="namespacebase.html#a84">matrixColumn</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> c)
00771 { <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a23">ConstMatrixColumn</a>(m,c); }
00772 
00773 
00774 <span class="keyword">typedef</span> ublas::identity_matrix&lt;base::Real&gt; IdentityMatrix;
00775 <span class="keyword">typedef</span> ublas::zero_matrix&lt;base::Real&gt;     ZeroMatrix;
00776 
00777 <span class="comment">// MxN identity Matrix</span>
00778 <span class="keyword">inline</span> IdentityMatrix <a class="code" href="namespacebase.html#a101">identityMatrix</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> M, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> N)
00779 { <span class="keywordflow">return</span> IdentityMatrix(M,N); }
<a name="l00780"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea13">00780</a> <span class="comment"></span>
00781 <span class="comment">/// MxN zero Matrix</span>
00782 <span class="comment"></span><span class="keyword">inline</span> ZeroMatrix <a class="code" href="namespacebase.html#a100">zeroMatrix</a>(<span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> M, <span class="keyword">const</span> <a class="code" href="namespacebase.html#a2">Int</a> N)
00783 { <span class="keywordflow">return</span> ZeroMatrix(M,N); }
00784 
00785 
00786 
00787 <span class="keyword">inline</span> <a class="code" href="classbase_1_1Matrix4.html">base::Matrix4</a> <a class="code" href="namespacebase.html#a102">toMatrix4</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; T)
00788 {
00789   <a class="code" href="base.html#a19">Assert</a>((T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>() == 4) &amp;&amp; (T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>() == 4));
<a name="l00790"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea14">00790</a>   <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Matrix4.html">base::Matrix4</a>(T(0,0),T(0,1),T(0,2),T(0,3), 
<a name="l00791"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea15">00791</a>                        T(1,0),T(1,1),T(1,2),T(1,3),
00792                        T(2,0),T(2,1),T(2,2),T(2,3),
<a name="l00793"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea16">00793</a>                        T(3,0),T(3,1),T(3,2),T(3,3));
00794 }
00795 
00796 
00797 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">base::Matrix</a> <a class="code" href="namespacebase.html#a103">fromMatrix4</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix4.html">Matrix4</a>&amp; T4)
00798 {
00799   <a class="code" href="classbase_1_1matrix.html">Matrix</a> T(4,4);
00800   T(0,0)=T4(1,1); T(0,1)=T4(1,2); T(0,2)=T4(1,3); T(0,3)=T4(1,4);
00801   T(1,0)=T4(2,1); T(1,1)=T4(2,2); T(1,2)=T4(2,3); T(1,3)=T4(2,4);
<a name="l00802"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea17">00802</a>   T(2,0)=T4(3,1); T(2,1)=T4(3,2); T(2,2)=T4(3,3); T(2,3)=T4(3,4);
00803   T(3,0)=T4(4,1); T(3,1)=T4(4,2); T(3,2)=T4(4,3); T(3,3)=T4(4,4);
00804   <span class="keywordflow">return</span> T;  
00805 }
00806 
00807 
00808 <span class="keyword">inline</span> <a class="code" href="classbase_1_1Matrix3.html">base::Matrix3</a> <a class="code" href="namespacebase.html#a104">toMatrix3</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; T)
00809 {
00810   <a class="code" href="base.html#a19">Assert</a>((T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>() == 3) &amp;&amp; (T.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>() == 3));
<a name="l00811"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea18">00811</a>   <span class="keywordflow">return</span> <a class="code" href="classbase_1_1Matrix3.html">base::Matrix3</a>(T(0,0),T(0,1),T(0,2),
00812                        T(1,0),T(1,1),T(1,2),
00813                        T(2,0),T(2,1),T(2,2));
00814 }
00815 
00816 
00817 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">base::Matrix</a> <a class="code" href="namespacebase.html#a105">fromMatrix3</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1Matrix3.html">Matrix3</a>&amp; T3)
00818 {
00819   <a class="code" href="classbase_1_1matrix.html">Matrix</a> T(3,3);
<a name="l00820"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea19">00820</a>   T(0,0)=T3(1,1); T(0,1)=T3(1,2); T(0,2)=T3(1,3);
00821   T(1,0)=T3(2,1); T(1,1)=T3(2,2); T(1,2)=T3(2,3);
00822   T(2,0)=T3(3,1); T(2,1)=T3(3,2); T(2,2)=T3(3,3);
00823   <span class="keywordflow">return</span> T;  
00824 }
00825 
00826 
00827 
00828 
00829 <span class="comment">// ublas doesn't overload operators for matrix*vector &amp; matrix*matrix</span>
<a name="l00830"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea20">00830</a> <span class="comment"></span>
00831 <span class="comment">/// \todo we're possibly short-circuiting the expression templates here!</span>
00832 <span class="comment">///       (need to redefine the operator*()'s to return something else</span>
00833 <span class="comment">///       appropriate (matrix_expression?).  For now, we expose prod().</span>
00834 <span class="comment"></span><span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; x)
00835 { <span class="keywordflow">return</span> ublas::prod(A,x); }
00836 
00837 <span class="comment">// this premult of Vector by Matrix behaves as if the Vector were</span>
00838 <span class="comment">//  a single row Matrix</span>
<a name="l00839"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea21">00839</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; x, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A)
00840 {
00841   <a class="code" href="base.html#a19">Assert</a>(x.<a class="code" href="classbase_1_1vector.html#base_1_1vectora12">size</a>() == A.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>());
00842   <a class="code" href="classbase_1_1matrix.html">Matrix</a> xm(1,x.<a class="code" href="classbase_1_1vector.html#base_1_1vectora12">size</a>());
00843   <a class="code" href="namespacebase.html#a82">matrixRow</a>(xm,0) = x;
00844   <span class="keywordflow">return</span> <a class="code" href="namespacebase.html#a28">Vector</a>( <a class="code" href="namespacebase.html#a82">matrixRow</a>( ublas::prod(xm,A),0) );
00845 }
00846 
00847 <span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A, <span class="keyword">const</span> ublas::vector_range&lt;Vector&gt;&amp; x)
00848 { <span class="keywordflow">return</span> ublas::prod(A,x); }
00849 
<a name="l00850"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea22">00850</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> ublas::matrix_range&lt;Matrix&gt;&amp; A, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; x)
00851 { <span class="keywordflow">return</span> ublas::prod(A,x); }
<a name="l00852"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangea23">00852</a> 
00853 <span class="keyword">inline</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> ublas::matrix_range&lt;Matrix&gt;&amp; A, <span class="keyword">const</span> ublas::vector_range&lt;Vector&gt;&amp; x)
00854 { <span class="keywordflow">return</span> ublas::prod(A,x); }
00855 
00856 
00857 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; B)
00858 { <span class="keywordflow">return</span> ublas::prod(A,B); }
00859 
00860 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> ublas::matrix_range&lt;Matrix&gt;&amp; A, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; B)
00861 { <span class="keywordflow">return</span> ublas::prod(A,B); }
<a name="l00862"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb0">00862</a> 
00863 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A, <span class="keyword">const</span> ublas::matrix_range&lt;Matrix&gt;&amp; B)
<a name="l00864"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep0">00864</a> { <span class="keywordflow">return</span> ublas::prod(A,B); }
<a name="l00865"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep1">00865</a> 
<a name="l00866"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangep2">00866</a> <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a69">operator*</a>(<span class="keyword">const</span> ublas::matrix_range&lt;Matrix&gt;&amp; A, <span class="keyword">const</span> ublas::matrix_range&lt;Matrix&gt;&amp; B)
00867 { <span class="keywordflow">return</span> ublas::prod(A,B); }
<a name="l00868"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb1">00868</a> 
<a name="l00869"></a><a class="code" href="classbase_1_1matrixrange.html#base_1_1matrixrangeb2">00869</a> <span class="comment">//using ublas::prod;</span>
00870 
00871 <span class="keyword">inline</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a> <a class="code" href="namespacebase.html#a98">transpose</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m)
00872 { <span class="keywordflow">return</span> ublas::trans(m); }
00873 
<a name="l00874"></a><a class="code" href="namespacebase.html#a18">00874</a> 
<a name="l00875"></a><a class="code" href="namespacebase.html#a19">00875</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacebase.html#a140">operator==</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m2)
<a name="l00876"></a><a class="code" href="namespacebase.html#a20">00876</a> {
<a name="l00877"></a><a class="code" href="namespacebase.html#a21">00877</a>   <span class="keywordflow">if</span> (&amp;m1 == &amp;m2) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00878"></a><a class="code" href="namespacebase.html#a22">00878</a> 
<a name="l00879"></a><a class="code" href="namespacebase.html#a23">00879</a>   <a class="code" href="base.html#a19">Assert</a>(m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>() == m2.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>());
<a name="l00880"></a><a class="code" href="namespacebase.html#a24">00880</a>   <a class="code" href="base.html#a19">Assert</a>(m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>() == m2.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>());
00881 
00882   <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> r=0; r&lt;m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>(); r++)
00883     <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> c=0; c&lt;m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>(); c++)
00884       <span class="keywordflow">if</span> (m1(r,c) != m2(r,c))
<a name="l00885"></a><a class="code" href="namespacebase.html#a82">00885</a>         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00886   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00887 }
00888 
00889 
<a name="l00890"></a><a class="code" href="namespacebase.html#a83">00890</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacebase.html#a61">equals</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m1, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m2, <a class="code" href="namespacebase.html#a5">Real</a> epsilon = consts::epsilon)
00891 {
00892   <span class="keywordflow">if</span> (&amp;m1 == &amp;m2) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00893 
00894   <a class="code" href="base.html#a19">Assert</a>(m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>() == m2.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>());
00895   <a class="code" href="base.html#a19">Assert</a>(m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>() == m2.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>());
<a name="l00896"></a><a class="code" href="namespacebase.html#a84">00896</a> 
00897   <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> r=0; r&lt;m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>(); r++)
00898     <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> c=0; c&lt;m1.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>(); c++)
00899       <span class="keywordflow">if</span> (!<a class="code" href="namespacebase.html#a61">equals</a>(m1(r,c),m2(r,c),epsilon))
00900         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00901"></a><a class="code" href="namespacebase.html#a85">00901</a>   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00902 }
00903 
00904 
00905 <span class="keyword">inline</span> std::ostream&amp; <a class="code" href="namespacebase.html#a66">operator&lt;&lt;</a>(std::ostream&amp; out, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; m) <span class="comment">// Output</span>
00906 {
<a name="l00907"></a><a class="code" href="namespacebase.html#a86">00907</a>   out &lt;&lt; std::setiosflags (std::ios_base::fixed) &lt;&lt; std::setprecision(6) &lt;&lt; std::setw(8);
00908   <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> r=0; r&lt;m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa8">size1</a>(); r++) {
00909     <span class="keywordflow">for</span>(<a class="code" href="namespacebase.html#a2">Int</a> c=0; c&lt;m.<a class="code" href="classbase_1_1matrix.html#base_1_1matrixa9">size2</a>(); c++) {
00910       out &lt;&lt; m(r,c) &lt;&lt; <span class="stringliteral">" "</span>;
00911     }
<a name="l00912"></a><a class="code" href="namespacebase.html#a87">00912</a>     out &lt;&lt; <span class="stringliteral">"\n"</span>;
00913   }
00914   <span class="keywordflow">return</span> out;
00915 }
00916 
00917 
<a name="l00918"></a><a class="code" href="namespacebase.html#a88">00918</a> 
00919 } <span class="comment">// base</span>
00920 
<a name="l00921"></a><a class="code" href="namespacebase.html#a89">00921</a> <span class="preprocessor">#endif </span>
00922 <span class="preprocessor"></span>
00923 <span class="preprocessor">#endif</span>
<a name="l00924"></a><a class="code" href="namespacebase.html#a90">00924</a> <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:07 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
