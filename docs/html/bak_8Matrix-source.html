<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>base/bak.Matrix Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>base/bak.Matrix</h1><a href="bak_8Matrix.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/****************************************************************************</font>
00002 <font class="comment">  Copyright (C)1996 David Jung &lt;opensim@pobox.com&gt;</font>
00003 <font class="comment"></font>
00004 <font class="comment">  This program/file is free software; you can redistribute it and/or modify</font>
00005 <font class="comment">  it under the terms of the GNU General Public License as published by</font>
00006 <font class="comment">  the Free Software Foundation; either version 2 of the License, or</font>
00007 <font class="comment">  (at your option) any later version.</font>
00008 <font class="comment">  </font>
00009 <font class="comment">  This program is distributed in the hope that it will be useful,</font>
00010 <font class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00011 <font class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font>
00012 <font class="comment">  GNU General Public License for more details. (http://www.gnu.org)</font>
00013 <font class="comment">  </font>
00014 <font class="comment">  You should have received a copy of the GNU General Public License</font>
00015 <font class="comment">  along with this program; if not, write to the Free Software</font>
00016 <font class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</font>
00017 <font class="comment">  </font>
00018 <font class="comment">  $Id: Matrix4.hpp,v 1.6 2001/05/22 19:24:19 jungd Exp $</font>
00019 <font class="comment">  $Revision: 1.6 $</font>
00020 <font class="comment">  $Date: 2001/05/22 19:24:19 $</font>
00021 <font class="comment">  $Author: jungd $</font>
00022 <font class="comment"> </font>
00023 <font class="comment">****************************************************************************/</font>
00024 
00025 <font class="preprocessor">#ifndef _BASE_MATRIX_</font>
00026 <font class="preprocessor"></font><font class="preprocessor">#define _BASE_MATRIX_</font>
00027 <font class="preprocessor"></font>
00028 <font class="preprocessor">#include &lt;iostream&gt;</font>
00029 
00030 <font class="preprocessor">#include &lt;<a class="code" href="base.html">base/base</a>&gt;</font>
00031 <font class="preprocessor">#include &lt;<a class="code" href="Object.html">base/Object</a>&gt;</font>
00032 <font class="preprocessor">#include &lt;<a class="code" href="Vector3.html">base/Vector3</a>&gt;</font>
00033 <font class="preprocessor">#include &lt;<a class="code" href="Vector4.html">base/Vector4</a>&gt;</font>
00034 <font class="preprocessor">#include &lt;<a class="code" href="Matrix3.html">base/Matrix3</a>&gt;</font>
00035 <font class="preprocessor">#include &lt;<a class="code" href="Matrix4.html">base/Matrix4</a>&gt;</font>
00036 <font class="preprocessor">#include &lt;<a class="code" href="Vector.html">base/Vector</a>&gt;</font>
00037 
<a name="l00038"></a><a class="code" href="bak_8Matrix.html#a0">00038</a> <font class="preprocessor">#define DEBUG 1</font>
00039 <font class="preprocessor"></font>
00040 <font class="keyword">namespace </font>base {
00041 
00042 <font class="keyword">class </font><a class="code" href="namespacebase.html#a18">Matrix</a>;
00043 
00044 <font class="comment">// classes to help speed up common vector/matrix operations</font>
00045 <font class="comment">//  (not used directly by the user)</font>
00046 
<a name="l00047"></a><a class="code" href="structbase_1_1MNVNmul.html">00047</a> <font class="keyword">struct </font>MNVNmul {
<a name="l00048"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm0">00048</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm0">m</a>;
<a name="l00049"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm1">00049</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm1">v</a>;
00050 
<a name="l00051"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula0">00051</a>   <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula0">MNVNmul</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a7">mm</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv) : <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm0">m</a>(<a class="code" href="analytical_8c.html#a7">mm</a>), <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm1">v</a>(vv) {}
00052 
00053   <a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula1">operator Vector</a>() <font class="keyword">const</font>;
00054 };
00055 
<a name="l00056"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html">00056</a> <font class="keyword">struct </font>MNVNmulVNadd {
<a name="l00057"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">00057</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>;
<a name="l00058"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">00058</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>;
<a name="l00059"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm2">00059</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm2">v2</a>;
00060 
<a name="l00061"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda0">00061</a>   <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda0">MNVNmulVNadd</a>(<font class="keyword">const</font> MNVNmul&amp; mv, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv) : <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>(mv.<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>), <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>(mv.<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>), <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm2">v2</a>(vv) {}
00062 
00063   <a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda1">operator Vector</a>() <font class="keyword">const</font>;
00064 };
00065 
00066 
00067 <font class="comment">//</font>
00068 <font class="comment">// The matrix</font>
00069 <font class="comment">//</font>
00070 
<a name="l00071"></a><a class="code" href="classbase_1_1Matrix.html">00071</a> <font class="keyword">class </font><a class="code" href="namespacebase.html#a18">Matrix</a> : <font class="keyword">public</font> base::<a class="code" href="classObject.html">Object</a>
00072 {
00073 
00074 <font class="keyword">public</font>:
00075   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>=1, <a class="code" href="namespacebase.html#a2">Int</a> cols=1, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; diagonal=<a class="code" href="namespacebase.html#a5">Real</a>(1));
00076   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; m);
00077   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v);
00078   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> Matrix3&amp; m);
00079   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>(<font class="keyword">const</font> Matrix4&amp; m);
00080   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa5">~Matrix</a>();
00081 
<a name="l00082"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa6">00082</a>   <font class="keyword">virtual</font> <a class="code" href="namespacebase.html#a4">String</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa6">className</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> <a class="code" href="namespacebase.html#a4">String</a>(<font class="stringliteral">"Matrix"</font>); }
00083 
<a name="l00084"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa7">00084</a>   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa7">setIdentity</a>() <font class="keywordflow">throw</font>()
00085   {
00086     setDiag(<a class="code" href="namespacebase.html#a5">Real</a>(1));
00087   }
00088 
<a name="l00089"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa8">00089</a>   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa8">setZero</a>() <font class="keywordflow">throw</font>()
00090   {
00091     setDiag(<a class="code" href="namespacebase.html#a5">Real</a>(0));
00092   }
00093 
<a name="l00094"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">00094</a>   <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> nr; }
<a name="l00095"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa10">00095</a>   <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa10">columns</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> nc; }
00096 
00097   
00098   <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa11">resize</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>, <a class="code" href="namespacebase.html#a2">Int</a> cols, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; diagonal=<a class="code" href="namespacebase.html#a5">Real</a>(1));
00099 
00100   <font class="comment">// override these in subclasses as all other element accessors</font>
00101   <font class="comment">//  use these</font>
00102   <font class="keyword">virtual</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>();
00103   <font class="keyword">virtual</font> <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00104 
00105 
<a name="l00106"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa14">00106</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa14">at</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>(std::out_of_range)
00107   {
00108     <font class="keywordflow">if</font> ((row &lt; 1) || (row &gt; nr) || (col &lt; 1) || (col &gt; nc))
00109       <font class="keywordflow">throw</font> std::out_of_range(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row or col out of bounds"</font>));
00110 
00111     <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,col);
00112   }
00113 
<a name="l00114"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa15">00114</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa14">at</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range)
00115   {
00116     <font class="keywordflow">if</font> ((row &lt; 1) || (row &gt; nr) || (col &lt; 1) || (col &gt; nc))
00117       <font class="keywordflow">throw</font> std::out_of_range(<a class="code" href="base.html#a14">Exception</a>(<font class="stringliteral">"Matrix row or col out of bounds"</font>));
00118 
00119     <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,col);
00120   }
00121 
<a name="l00122"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa16">00122</a>   <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa16">operator()</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keywordflow">throw</font>()
00123   {
00124     <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,col);
00125   }
00126 
<a name="l00127"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa17">00127</a>   <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa16">operator()</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font> <font class="keywordflow">throw</font>()
00128   {
00129     <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,col);
00130   }
00131 
00132 
<a name="l00133"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">00133</a>   <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>) <font class="keyword">const</font>         <font class="comment">// extract row vector</font>
00134   {
00135     <a class="code" href="namespacebase.html#a30">Vector</a> rvec(nc);
00136     <font class="keywordflow">for</font>(<a class="code" href="namespacebase.html#a2">Int</a> c=1; c&lt;=nc; c++)
00137       rvec[c] = <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>,c);
00138     <font class="keywordflow">return</font> rvec;
00139   }
00140 
<a name="l00141"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa19">00141</a>   <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa19">column</a>(<a class="code" href="namespacebase.html#a2">Int</a> col) <font class="keyword">const</font>      <font class="comment">// extract column vector</font>
00142   {
00143     <a class="code" href="namespacebase.html#a30">Vector</a> cvec(nr);
00144     <font class="keywordflow">for</font>(<a class="code" href="namespacebase.html#a2">Int</a> r=1; r&lt;=nr; r++)
00145       cvec[r] = <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa12">e</a>(r,col);
00146     <font class="keywordflow">return</font> cvec;
00147   }
00148 
00149 
00150 
00151   <font class="comment">/*</font>
00152 <font class="comment">  void setRow(int row, const Vector3&amp; r) throw()</font>
00153 <font class="comment">  { e(row,1)=r.x; e(row,2)=r.y; e(row,3)=r.z; }</font>
00154 <font class="comment"></font>
00155 <font class="comment">  void setRow(int row, const Vector4&amp; r) throw()</font>
00156 <font class="comment">  { e(row,1)=r.x; e(row,2)=r.y; e(row,3)=r.z; e(row,4)=r.w; }</font>
00157 <font class="comment"></font>
00158 <font class="comment">  void setColumn(int col, const Vector3&amp; c) throw()</font>
00159 <font class="comment">  { e(1,col)=c.x; e(2,col)=c.y; e(3,col)=c.z; }</font>
00160 <font class="comment"></font>
00161 <font class="comment">  void setColumn(int col, const Vector4&amp; c) throw()</font>
00162 <font class="comment">  { e(1,col)=c.x; e(2,col)=c.y; e(3,col)=c.z; e(4,col)=c.w; }</font>
00163 <font class="comment">  */</font>
00164 
<a name="l00165"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa20">00165</a>   <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa20">operator[]</a>(<font class="keywordtype">int</font> r) <font class="keyword">const</font>  <font class="comment">// row</font>
00166   { <font class="keywordflow">return</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>(r); }
00167 
00168 
00169   <font class="comment">//  int index(Int row, Int col) const throw()</font>
00170   <font class="comment">//  { return MATRIX_ACCESS(nc,row,col); }</font>
00171 
00172   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa21">operator=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; src) <font class="keywordflow">throw</font>();
00173   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa21">operator=</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; src) <font class="keywordflow">throw</font>();
00174 
00175   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa23">operator==</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00176   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa24">equals</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="keyword">const</font> <font class="keywordflow">throw</font>();
00177 
00178 
00179   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa25">transpose</a>();
00180   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa26">invert</a>();
00181   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa27">negate</a>() <font class="keywordflow">throw</font>();
00182 
00183   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa28">swapRows</a>(<a class="code" href="namespacebase.html#a2">Int</a> i, <a class="code" href="namespacebase.html#a2">Int</a> j) <font class="keywordflow">throw</font>(std::out_of_range);
00184   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa29">swapCols</a>(<a class="code" href="namespacebase.html#a2">Int</a> i, <a class="code" href="namespacebase.html#a2">Int</a> j) <font class="keywordflow">throw</font>(std::out_of_range);
00185   
00186   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa30">sub</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col, <a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa9">rows</a>, <a class="code" href="namespacebase.html#a2">Int</a> cols) <font class="keyword">const</font>;
00187   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa30">sub</a>(<a class="code" href="namespacebase.html#a2">Int</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa18">row</a>, <a class="code" href="namespacebase.html#a2">Int</a> col, <font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; sm);
00188 
00189   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>  <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa32">select</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; rowIndices,
00190                  <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; colIndices) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::out_of_range);
00191 
00192   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa33">zeroUpperTriangle</a>() <font class="keywordflow">throw</font>(std::invalid_argument);
00193   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa34">zeroLowerTriangle</a>() <font class="keywordflow">throw</font>(std::invalid_argument);
00194   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa35">setRandom</a>(<a class="code" href="namespacebase.html#a5">Real</a> range);
00195   <font class="comment">// maximum of elementwise differences</font>
00196   <a class="code" href="namespacebase.html#a5">Real</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa36">maxDifference</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; a) <font class="keyword">const</font> <font class="keywordflow">throw</font>(std::invalid_argument);; 
00197 
00198   <font class="comment">// Find LUP decomposition.  P is represented by the vector Pi, where the element</font>
00199   <font class="comment">//  values represent the column of P containing a 1. i.e. Pi[i]=j =&gt; P[i][j]=1</font>
00200   <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa37">decomposeLUP</a>(<a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; L, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; U, <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>) <font class="keyword">const</font>;
00201   
00202   <font class="comment">// Solve Ax=b for x, given b, where A=*this (returns x)</font>
00203   <a class="code" href="namespacebase.html#a30">Vector</a>  <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa38">solve</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; b) <font class="keyword">const</font>; 
00204 
00205 
00206   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa39">operator*=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>);
00207   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa40">operator+=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>);
00208   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa41">operator-=</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>);
00209   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa39">operator*=</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s);
00210   <font class="keyword">virtual</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa43">operator/=</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s);
00211 
00212   <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa44">operator Matrix3</a>() <font class="keyword">const</font>;  <font class="comment">///&lt; return 3x3 submatrix</font>
00213 <font class="comment"></font>  <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa45">operator Matrix4</a>() <font class="keyword">const</font>;  <font class="comment">///&lt; return 4x4 submatrix</font>
00214 <font class="comment"></font>
00215   <font class="keyword">virtual</font> <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>* <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa46">c_array</a>() <font class="keyword">const</font>;
00216   <font class="keyword">virtual</font> <a class="code" href="namespacebase.html#a5">Real</a>* <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa46">c_array</a>();
00217 
00218   <font class="comment">// Solve for xA = b, given LUP decomposition of A as L, U and Pi, and given b, returns x</font>
00219   <font class="keyword">static</font> <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd0">solveLUP</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; L, <font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; U, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; b);
00220 
<a name="l00221"></a><a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd1">00221</a>   <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa37">decomposeLUP</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; A, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; L, <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; U, <a class="code" href="namespacebase.html#a30">Vector</a>&amp; <a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>)
00222   { A.decomposeLUP(L,U,<a class="code" href="namespacebase_1_1consts.html#a8">Pi</a>); }
00223 
00224   <font class="comment">// best to use the operators than use these directly</font>
00225   <font class="keyword">static</font> <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd2">matrixMulVector</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; m, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v); <font class="comment">// m x v</font>
00226   <font class="keyword">static</font> <a class="code" href="namespacebase.html#a30">Vector</a> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixd3">matrixMulVectorAddVector</a>(<font class="keyword">const</font> <a class="code" href="classbase_1_1Matrix.html#base_1_1Matrixa0">Matrix</a>&amp; m, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; v2); <font class="comment">// m x v + v2</font>
00227 
00228 <font class="keyword">private</font>:
00229   <a class="code" href="namespacebase.html#a2">Int</a> nr, nc;
00230   <a class="code" href="namespacebase.html#a5">Real</a>* m;
00231   
00232   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setDiag(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; d);
00233 
00234 };
00235 
00236 
00237 <font class="comment">// Operations</font>
00238 
00239 
00240 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="comment">// Matrix multiplication</font>
00241 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r *= <a class="code" href="analytical_8c.html#a21">m2</a>; }
00242 
00243 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a42">operator+</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="comment">// Addition</font>
00244 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r += <a class="code" href="analytical_8c.html#a21">m2</a>; }
00245 
00246 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a43">operator-</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a21">m2</a>) <font class="comment">// Subtraction</font>
00247 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r += <a class="code" href="analytical_8c.html#a21">m2</a>; }
00248 
00249 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a43">operator-</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="comment">// Negation</font>
00250 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r.negate(); }
00251 
00252 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="comment">// Scalar multiplication</font>
00253 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r *= s; }
00254 
00255 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>) <font class="comment">// Scalar multiplication</font>
00256 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r *= s; }
00257 
00258 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a47">operator/</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a20">m1</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a5">Real</a>&amp; s) <font class="comment">// Scalar division</font>
00259 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(<a class="code" href="analytical_8c.html#a20">m1</a>); <font class="keywordflow">return</font> r /= s; }
00260 
00261 
00262 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a48">transpose</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; m) <font class="comment">// Transpose</font>
00263 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(m); <font class="keywordflow">return</font> r.transpose(); }
00264 
00265 <font class="keyword">inline</font> <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="namespacebase.html#a49">inverse</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; m) <font class="comment">// Inverse</font>
00266 { <a class="code" href="namespacebase.html#a18">Matrix</a> <a class="code" href="matrix_8c~.html#a20">r</a>(m); <font class="keywordflow">return</font> r.invert(); }
00267 
00268 
00269 <font class="comment">// These functions and the structs above provide closures for common vector matrix</font>
00270 <font class="comment">//  operations.</font>
00271 <font class="comment">// For example, an expression like m*v+v2 will expand to:</font>
00272 <font class="comment">//              Matrix::matrixMulVectorAddVector(m,v,v2);</font>
00273 <font class="comment">// rather than: Vector r(operator*(m,v)); r.operator+=(v2), return r</font>
00274 <font class="comment">//   (saving a couple copies between temporaries)</font>
00275 
00276 <font class="keyword">inline</font> MNVNmulVNadd <a class="code" href="namespacebase.html#a42">operator+</a>(<font class="keyword">const</font> MNVNmul&amp; mv, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv)
00277 { <font class="keywordflow">return</font> MNVNmulVNadd(mv,vv); }
00278 
00279 <font class="keyword">inline</font> MNVNmul <a class="code" href="namespacebase.html#a41">operator*</a>(<font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; <a class="code" href="analytical_8c.html#a7">mm</a>, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a30">Vector</a>&amp; vv)
00280 { <font class="keywordflow">return</font> MNVNmul(mm,vv); }
00281 
<a name="l00282"></a><a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmula1">00282</a> <font class="keyword">inline</font> MNVNmul::operator Vector()<font class="keyword"> const</font>
00283 <font class="keyword"></font>{ <font class="keywordflow">return</font> Matrix::matrixMulVector(<a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm0">m</a>,<a class="code" href="structbase_1_1MNVNmul.html#base_1_1MNVNmulm1">v</a>); }
00284 
<a name="l00285"></a><a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNadda1">00285</a> <font class="keyword">inline</font> MNVNmulVNadd::operator Vector()<font class="keyword"> const</font>
00286 <font class="keyword"></font>{ <font class="keywordflow">return</font> Matrix::matrixMulVectorAddVector(<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm0">m</a>,<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm1">v</a>,<a class="code" href="structbase_1_1MNVNmulVNadd.html#base_1_1MNVNmulVNaddm2">v2</a>); }
00287 
00288 
00289 std::ostream&amp; <a class="code" href="namespacebase.html#a52">operator&lt;&lt;</a>(std::ostream&amp; out, <font class="keyword">const</font> <a class="code" href="namespacebase.html#a18">Matrix</a>&amp; m); <font class="comment">// Output</font>
00290 
00291 
00292 } <font class="comment">// base</font>
00293 
00294 <font class="preprocessor">#endif</font>
00295 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated on Sun Mar 30 14:02:02 2003 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
