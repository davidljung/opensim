<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: robot/control/kinematics/IKOR Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>robot/control/kinematics/IKOR</h1><a href="IKOR.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* **-*-c++-*-**************************************************************</span>
00002 <span class="comment">  Copyright (C)2002 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment"></span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment"></span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment"></span>
00018 <span class="comment">  $Id: IKOR 1080 2004-07-28 19:51:26Z jungd $</span>
00019 <span class="comment">  $Revision: 1.14 $</span>
00020 <span class="comment">  $Date: 2004-07-28 15:51:26 -0400 (Wed, 28 Jul 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"></span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#ifndef _ROBOT_CONTROL_KINEMATICS_IKOR_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _ROBOT_CONTROL_KINEMATICS_IKOR_</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#include &lt;<a class="code" href="kinematics.html">robot/control/kinematics/kinematics</a>&gt;</span>
00029 
00030 <span class="preprocessor">#include &lt;sstream&gt;</span>
00031 
00032 <span class="preprocessor">#include &lt;<a class="code" href="KinematicChain.html">robot/KinematicChain</a>&gt;</span>
00033 <span class="preprocessor">#include &lt;<a class="code" href="InverseKinematicsSolver.html">robot/control/kinematics/InverseKinematicsSolver</a>&gt;</span>
00034 <span class="preprocessor">#include &lt;<a class="code" href="FullSpaceSolver.html">robot/control/kinematics/FullSpaceSolver</a>&gt;</span>
00035 <span class="preprocessor">#include &lt;<a class="code" href="BetaFormConstraints.html">robot/control/kinematics/BetaFormConstraints</a>&gt;</span>
00036 
00037 
00038 
00039 <span class="keyword">namespace </span><a class="code" href="robot_2Jamfile_8ft.html#a0">robot</a> {
00040 <span class="keyword">namespace </span><a class="code" href="robot_2control_2Jamfile_8ft.html#a0">control</a> {
00041 <span class="keyword">namespace </span><a class="code" href="robot_2control_2Jamfile_8ft.html#a3">kinematics</a> {
00042 
00043 <span class="comment"></span>
00044 <span class="comment">/// IKOR inverse kinematics solver.</span>
00045 <span class="comment"></span><span class="comment">/** \todo test.</span>
00046 <span class="comment"> */</span>
<a name="l00047"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html">00047</a> <span class="keyword">class </span><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html">IKOR</a> : <span class="keyword">public</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1InverseKinematicsSolver.html">InverseKinematicsSolver</a>
00048 {
00049 <span class="keyword">public</span>:
00050   <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa0">IKOR</a>(<span class="keyword">const</span> <a class="code" href="classrobot_1_1KinematicChain.html">robot::KinematicChain</a>&amp; <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp1">chain</a>, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; jointWeights = <a class="code" href="classbase_1_1vector.html">Vector</a>(),
00051        <span class="keywordtype">bool</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp3">nonHolonomicPlatformActive</a>=<span class="keyword">false</span>, Real platformL=0);
00052 
<a name="l00053"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa1">00053</a>   <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa1">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"IKOR"</span>); }
00054 
00055 <span class="comment"></span>
00056 <span class="comment">  /// call to use a different solver, before using solve()</span>
<a name="l00057"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa2">00057</a> <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa2">setFullSpaceSolver</a>(<a class="code" href="classbase_1_1ref.html">ref&lt;FullSpaceSolver&gt;</a> fsp) { <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp0">solver</a>=fsp; }
00058 
00059 
<a name="l00060"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html">00060</a>   <span class="keyword">class </span><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html">JointLimitBetaConstraint</a> : <span class="keyword">public</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1BetaFormConstraints.html">BetaFormConstraints</a>::BetaFormConstraint
00061   {
00062   <span class="keyword">public</span>:
<a name="l00063"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta0">00063</a>     <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta0">JointLimitBetaConstraint</a>(Int j, Real dist, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs)
00064       : BetaFormConstraint(matrixRow(gs,j)/dist), j(j), dist(dist) { <a class="code" href="classbase_1_1Named.html#base_1_1Worldb0">setName</a>(<a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta2">className</a>()); }
00065 
<a name="l00066"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta1">00066</a>     <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta0">JointLimitBetaConstraint</a>(<span class="keyword">const</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html">JointLimitBetaConstraint</a>&amp; jlc)
00067       : BetaFormConstraint(jlc), <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto0">j</a>(<a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto0">j</a>), <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto1">dist</a>(<a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto1">dist</a>) {}
00068 
<a name="l00069"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta2">00069</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta2">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"JointLimitBetaConstraint"</span>); }
00070 
<a name="l00071"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto0">00071</a>     Int <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto0">j</a>;     <span class="comment">///&lt; joint/variable index</span>
<a name="l00072"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto1">00072</a> <span class="comment"></span>    Real <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto1">dist</a>; <span class="comment">///&lt; desired change in q[j]</span>
00073 <span class="comment"></span>
<a name="l00074"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta3">00074</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainta3">toString</a>()<span class="keyword"> const</span>
00075 <span class="keyword">    </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"j:"</span>)+<a class="code" href="namespacebase.html#a50">base::intToString</a>(<a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto0">j</a>)+<span class="stringliteral">" d:"</span>+<a class="code" href="namespacebase.html#a51">base::realToString</a>(<a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1JointLimitBetaConstrainto1">dist</a>); }
00076 
00077   };
00078 
00079 
<a name="l00080"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html">00080</a>   <span class="keyword">class </span><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html">PushAwayBetaConstraint</a> : <span class="keyword">public</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1BetaFormConstraints.html">BetaFormConstraints</a>::BetaFormConstraint
00081   {
00082   <span class="keyword">public</span>:
00083     <span class="comment">// push point on 'link' with parameter index v at Xvx along the link's x-axis, a distance L in direction n</span>
00084     <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta0">PushAwayBetaConstraint</a>(Int v, Real <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainto1">Xvx</a>,
00085                            <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; n, Real <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainto3">L</a>,
00086                            <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs,
00087                            <span class="keyword">const</span> <a class="code" href="classrobot_1_1KinematicChain.html">robot::KinematicChain</a>&amp; chain, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; q);
00088 
<a name="l00089"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta1">00089</a>     <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta0">PushAwayBetaConstraint</a>(<span class="keyword">const</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html">PushAwayBetaConstraint</a>&amp; pac)
00090       : BetaFormConstraint(pac), v(v), Xvx(Xvx), n(n), L(L) {}
00091 
<a name="l00092"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta2">00092</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta2">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"PushAwayBetaConstraint"</span>); }
00093 
<a name="l00094"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainto0">00094</a>     Int  v;   <span class="comment">///&lt; variable index</span>
<a name="l00095"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainto1">00095</a> <span class="comment"></span>    Real Xvx; <span class="comment">///&lt; x component of proximity sensor location (in link frame)</span>
<a name="l00096"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainto2">00096</a> <span class="comment"></span>    <a class="code" href="classbase_1_1vector.html">Vector</a> n; <span class="comment">///&lt; direction to push</span>
<a name="l00097"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainto3">00097</a> <span class="comment"></span>    Real L;   <span class="comment">///&lt; distance to push in direction n</span>
00098 <span class="comment"></span>
<a name="l00099"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta3">00099</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1PushAwayBetaConstrainta3">toString</a>()<span class="keyword"> const</span>
00100 <span class="keyword">    </span>{ std::ostringstream str;
00101       str &lt;&lt; <span class="stringliteral">"v:"</span> &lt;&lt; v &lt;&lt; <span class="stringliteral">" Xvx:"</span> &lt;&lt; Xvx &lt;&lt; <span class="stringliteral">" n:"</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">" L:"</span> &lt;&lt; L;
00102       <span class="keywordflow">return</span> str.str();
00103     }
00104   };
00105 
00106 
<a name="l00107"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html">00107</a>   <span class="keyword">class </span><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html">RankLossBetaConstraint</a> : <span class="keyword">public</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1BetaFormConstraints.html">BetaFormConstraints</a>::BetaFormConstraint
00108   {
00109   <span class="keyword">public</span>:
00110     <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta0">RankLossBetaConstraint</a>(Int <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainto0">row</a>, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; b, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs);
<a name="l00111"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta1">00111</a>     <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta0">RankLossBetaConstraint</a>(<span class="keyword">const</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html">RankLossBetaConstraint</a>&amp; rlc)
00112       : BetaFormConstraint(rlc), row(row) {}
00113 
<a name="l00114"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta2">00114</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta2">className</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"RankLossBetaConstraint"</span>); }
00115 
<a name="l00116"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainto0">00116</a>     Int row;
00117 
<a name="l00118"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta3">00118</a>     <span class="keyword">virtual</span> String <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstraint.html#robot_1_1control_1_1kinematics_1_1IKOR_1_1RankLossBetaConstrainta3">toString</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> String(<span class="stringliteral">"row:"</span>)+<a class="code" href="namespacebase.html#a50">base::intToString</a>(row); }
00119   };
00120 
00121 
00122 
00123 <span class="comment"></span>
00124 <span class="comment">  ///  Solve inverse kinematics.</span>
00125 <span class="comment"></span>  <span class="keyword">virtual</span> <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa3">solve</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; dx, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; x, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; q,
00126                        <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">base::Matrix</a>&amp; J,
00127                        OptimizationMethod      optMethod      = Lagrangian,
00128                        OptimizationCriterion   optCriterion   = LeastNorm,
00129                        OptimizationConstraints optConstraints = <a class="code" href="classrobot_1_1control_1_1kinematics_1_1InverseKinematicsSolver.html#robot_1_1control_1_1kinematics_1_1OldIKORw0">OptimizationConstraints</a>(JointLimits),
00130                        <a class="code" href="classbase_1_1Orient.html#base_1_1Orientw0">base::Orient::Representation</a>  orientationRepresentation = base::Orient::EulerRPY);
00131 
00132   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa4">isConstraintTypeSupported</a>(OptimizationConstraint  optConstraint,
00133                                          OptimizationMethod      optMethod      = DefaultMethod,
00134                                          OptimizationCriterion   optCriterion   = DefaultCriterion);
00135 
00136 
00137   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa5">setProximitySensorData</a>(<span class="keyword">const</span> array&lt;LinkProximityData&gt;&amp; proximityData, Real d);
00138 
00139 
00140 <span class="comment"></span>
00141 <span class="comment">  /// Set implementation specific parameters.  Unknown names will throw a std::invald_argument exception</span>
00142 <span class="comment"></span><span class="comment">  /** Valid parameters:   name               value            description</span>
00143 <span class="comment">   *  none currently</span>
00144 <span class="comment">   */</span>
00145   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORa6">setParameter</a>(<span class="keyword">const</span> String&amp; name, Real value);
00146 
00147 <span class="keyword">protected</span>:
<a name="l00148"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp0">00148</a>   <a class="code" href="classbase_1_1ref.html">ref&lt;FullSpaceSolver&gt;</a> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp0">solver</a>;
<a name="l00149"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp1">00149</a>   <a class="code" href="classrobot_1_1KinematicChain.html">robot::KinematicChain</a> chain;
<a name="l00150"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp2">00150</a>   <a class="code" href="classbase_1_1vector.html">Vector</a> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp2">weights</a>; <span class="comment">///&lt; relative weights for each joint for LeastNorm (vector of all 1s for equal weighting)</span>
<a name="l00151"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp3">00151</a> <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp3">nonHolonomicPlatformActive</a>;
<a name="l00152"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp4">00152</a>   Real L;  <span class="comment">///&lt; platform parameter L - distance from origin P to center of drive axle M (see paper 2)</span>
00153 <span class="comment"></span><span class="comment"></span>
00154 <span class="comment">  //!!! may cache the objective later, if it speeds things up</span>
00155 <span class="comment"></span>  <span class="comment">//ref&lt;Optimizer::Objective&gt; objective; // objective function for Optimizer</span>
00156 
<a name="l00157"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp5">00157</a>   array&lt;LinkProximityData&gt; <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp5">proximitySensorData</a>; <span class="comment">/// proximity data indexed by chain dof variable</span>
<a name="l00158"></a><a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORp6">00158</a> <span class="comment"></span>  Real d; <span class="comment">///&lt; link obstacle proximity 'danger distance'</span>
00159 <span class="comment"></span>
00160 
00161   <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORb0">weightedLeastNorm</a>(<a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; B, <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; dZr, <a class="code" href="classbase_1_1vector.html">Vector</a> weights);
00162 
00163   <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORb1">addDependentRowConstraints</a>(<span class="keyword">const</span> array&lt;Int&gt;&amp; rows, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs, <span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; A, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; b, <a class="code" href="classbase_1_1ref.html">ref&lt;BetaFormConstraints&gt;</a> constraints);
00164   <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORb2">addJointLimitConstraints</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; dq, <a class="code" href="classbase_1_1ref.html">ref&lt;BetaFormConstraints&gt;</a> constraints);
00165 
00166   <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORb3">addNonholonomicConstraint</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; q, <a class="code" href="classbase_1_1ref.html">ref&lt;BetaFormConstraints&gt;</a> constraints);
00167 
00168   <span class="keywordtype">void</span> <a class="code" href="classrobot_1_1control_1_1kinematics_1_1IKOR.html#robot_1_1control_1_1kinematics_1_1IKORb4">addObstacleAvoidanceConstraints</a>(<span class="keyword">const</span> <a class="code" href="classbase_1_1matrix.html">Matrix</a>&amp; gs, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; q, <span class="keyword">const</span> <a class="code" href="classbase_1_1vector.html">Vector</a>&amp; dq, <a class="code" href="classbase_1_1ref.html">ref&lt;BetaFormConstraints&gt;</a> constraints);
00169 };
00170 
00171 
00172 } <span class="comment">// namespace kinematics</span>
00173 } <span class="comment">// namespace control</span>
00174 } <span class="comment">// namespace robot</span>
00175 
00176 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:32 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
