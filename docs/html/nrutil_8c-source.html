<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: robot/control/oldikor/UTILS/nrutil.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>robot/control/oldikor/UTILS/nrutil.c</h1><a href="nrutil_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="preprocessor">#include &lt;malloc.h&gt;</span>
00003 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00004 
<a name="l00005"></a><a class="code" href="nrutil_8c.html#a0">00005</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a13">nrerror</a>(error_text)
00006 <span class="keywordtype">char</span> error_text[];
00007 {
00008         <span class="keywordtype">void</span> exit();
00009 
00010         fprintf(stderr,<span class="stringliteral">"Numerical Recipes run-time error...\n"</span>);
00011         fprintf(stderr,<span class="stringliteral">"%s\n"</span>,error_text);
00012         fprintf(stderr,<span class="stringliteral">"...now exiting to system...\n"</span>);
00013         exit(1);
00014 }
00015 
00016 
00017 
<a name="l00018"></a><a class="code" href="nrutil_8c.html#a1">00018</a> <span class="keywordtype">float</span> *<a class="code" href="nrutil_8h.html#a14">vector</a>(nl,nh)
00019 <span class="keywordtype">int</span> nl,nh;
00020 {
00021         <span class="keywordtype">float</span> *v;
00022 
00023         v=(<span class="keywordtype">float</span> *)malloc((<span class="keywordtype">unsigned</span>) (nh-nl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
00024         <span class="keywordflow">if</span> (!v) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure in vector()"</span>);
00025         <span class="keywordflow">return</span> v-nl;
00026 }
00027 
<a name="l00028"></a><a class="code" href="nrutil_8c.html#a2">00028</a> <span class="keywordtype">int</span> *<a class="code" href="nrutil_8h.html#a21">ivector</a>(nl,nh)
00029 <span class="keywordtype">int</span> nl,nh;
00030 {
00031         <span class="keywordtype">int</span> *v;
00032 
00033         v=(<span class="keywordtype">int</span> *)malloc((<span class="keywordtype">unsigned</span>) (nh-nl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
00034         <span class="keywordflow">if</span> (!v) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure in ivector()"</span>);
00035         <span class="keywordflow">return</span> v-nl;
00036 }
00037 
<a name="l00038"></a><a class="code" href="nrutil_8c.html#a3">00038</a> <span class="keywordtype">double</span> *<a class="code" href="nrutil_8h.html#a19">dvector</a>(nl,nh)
00039 <span class="keywordtype">int</span> nl,nh;
00040 {
00041         <span class="keywordtype">double</span> *v;
00042 
00043         v=(<span class="keywordtype">double</span> *)malloc((<span class="keywordtype">unsigned</span>) (nh-nl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
00044         <span class="keywordflow">if</span> (!v) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure in dvector()"</span>);
00045         <span class="keywordflow">return</span> v-nl;
00046 }
00047 
00048 
00049 
<a name="l00050"></a><a class="code" href="nrutil_8c.html#a4">00050</a> <span class="keywordtype">float</span> **<a class="code" href="nrutil_8h.html#a15">matrix</a>(nrl,nrh,ncl,nch)
00051 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00052 {
00053         <span class="keywordtype">int</span> i;
00054         <span class="keywordtype">float</span> **m;
00055 
00056         m=(<span class="keywordtype">float</span> **) malloc((<span class="keywordtype">unsigned</span>) (nrh-nrl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>*));
00057         <span class="keywordflow">if</span> (!m) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure 1 in matrix()"</span>);
00058         m -= nrl;
00059 
00060         <span class="keywordflow">for</span>(i=nrl;i&lt;=nrh;i++) {
00061                 m[i]=(<span class="keywordtype">float</span> *) malloc((<span class="keywordtype">unsigned</span>) (nch-ncl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
00062                 <span class="keywordflow">if</span> (!m[i]) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure 2 in matrix()"</span>);
00063                 m[i] -= ncl;
00064         }
00065         <span class="keywordflow">return</span> m;
00066 }
00067 
<a name="l00068"></a><a class="code" href="nrutil_8c.html#a5">00068</a> <span class="keywordtype">double</span> **<a class="code" href="nrutil_8h.html#a20">dmatrix</a>(nrl,nrh,ncl,nch)
00069 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00070 {
00071         <span class="keywordtype">int</span> i;
00072         <span class="keywordtype">double</span> **m;
00073 
00074         m=(<span class="keywordtype">double</span> **) malloc((<span class="keywordtype">unsigned</span>) (nrh-nrl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>*));
00075         <span class="keywordflow">if</span> (!m) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure 1 in dmatrix()"</span>);
00076         m -= nrl;
00077 
00078         <span class="keywordflow">for</span>(i=nrl;i&lt;=nrh;i++) {
00079                 m[i]=(<span class="keywordtype">double</span> *) malloc((<span class="keywordtype">unsigned</span>) (nch-ncl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
00080                 <span class="keywordflow">if</span> (!m[i]) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure 2 in dmatrix()"</span>);
00081                 m[i] -= ncl;
00082         }
00083         <span class="keywordflow">return</span> m;
00084 }
00085 
<a name="l00086"></a><a class="code" href="nrutil_8c.html#a6">00086</a> <span class="keywordtype">int</span> **<a class="code" href="nrutil_8h.html#a22">imatrix</a>(nrl,nrh,ncl,nch)
00087 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00088 {
00089         <span class="keywordtype">int</span> i,**m;
00090 
00091         m=(<span class="keywordtype">int</span> **)malloc((<span class="keywordtype">unsigned</span>) (nrh-nrl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>*));
00092         <span class="keywordflow">if</span> (!m) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure 1 in imatrix()"</span>);
00093         m -= nrl;
00094 
00095         <span class="keywordflow">for</span>(i=nrl;i&lt;=nrh;i++) {
00096                 m[i]=(<span class="keywordtype">int</span> *)malloc((<span class="keywordtype">unsigned</span>) (nch-ncl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
00097                 <span class="keywordflow">if</span> (!m[i]) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure 2 in imatrix()"</span>);
00098                 m[i] -= ncl;
00099         }
00100         <span class="keywordflow">return</span> m;
00101 }
00102 
00103 
00104 
<a name="l00105"></a><a class="code" href="nrutil_8c.html#a7">00105</a> <span class="keywordtype">float</span> **<a class="code" href="nrutil_8h.html#a16">submatrix</a>(a,oldrl,oldrh,oldcl,oldch,newrl,newcl)
00106 <span class="keywordtype">float</span> **a;
00107 <span class="keywordtype">int</span> oldrl,oldrh,oldcl,oldch,newrl,newcl;
00108 {
00109         <span class="keywordtype">int</span> i,j;
00110         <span class="keywordtype">float</span> **m;
00111 
00112         m=(<span class="keywordtype">float</span> **) malloc((<span class="keywordtype">unsigned</span>) (oldrh-oldrl+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>*));
00113         <span class="keywordflow">if</span> (!m) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure in submatrix()"</span>);
00114         m -= newrl;
00115 
00116         <span class="keywordflow">for</span>(i=oldrl,j=newrl;i&lt;=oldrh;i++,j++) m[j]=a[i]+oldcl-newcl;
00117 
00118         <span class="keywordflow">return</span> m;
00119 }
00120 
00121 
00122 
<a name="l00123"></a><a class="code" href="nrutil_8c.html#a8">00123</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a25">free_vector</a>(v,nl,nh)
00124 <span class="keywordtype">float</span> *v;
00125 <span class="keywordtype">int</span> nl,nh;
00126 {
00127         free((<span class="keywordtype">char</span>*) (v+nl));
00128 }
00129 
<a name="l00130"></a><a class="code" href="nrutil_8c.html#a9">00130</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a27">free_ivector</a>(v,nl,nh)
00131 <span class="keywordtype">int</span> *v,nl,nh;
00132 {
00133         free((<span class="keywordtype">char</span>*) (v+nl));
00134 }
00135 
<a name="l00136"></a><a class="code" href="nrutil_8c.html#a10">00136</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a26">free_dvector</a>(v,nl,nh)
00137 <span class="keywordtype">double</span> *v;
00138 <span class="keywordtype">int</span> nl,nh;
00139 {
00140         free((<span class="keywordtype">char</span>*) (v+nl));
00141 }
00142 
00143 
00144 
<a name="l00145"></a><a class="code" href="nrutil_8c.html#a11">00145</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a30">free_matrix</a>(m,nrl,nrh,ncl,nch)
00146 <span class="keywordtype">float</span> **m;
00147 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00148 {
00149         <span class="keywordtype">int</span> i;
00150 
00151         <span class="keywordflow">for</span>(i=nrh;i&gt;=nrl;i--) free((<span class="keywordtype">char</span>*) (m[i]+ncl));
00152         free((<span class="keywordtype">char</span>*) (m+nrl));
00153 }
00154 
<a name="l00155"></a><a class="code" href="nrutil_8c.html#a12">00155</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a33">free_dmatrix</a>(m,nrl,nrh,ncl,nch)
00156 <span class="keywordtype">double</span> **m;
00157 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00158 {
00159         <span class="keywordtype">int</span> i;
00160 
00161         <span class="keywordflow">for</span>(i=nrh;i&gt;=nrl;i--) free((<span class="keywordtype">char</span>*) (m[i]+ncl));
00162         free((<span class="keywordtype">char</span>*) (m+nrl));
00163 }
00164 
<a name="l00165"></a><a class="code" href="nrutil_8c.html#a13">00165</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a34">free_imatrix</a>(m,nrl,nrh,ncl,nch)
00166 <span class="keywordtype">int</span> **m;
00167 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00168 {
00169         <span class="keywordtype">int</span> i;
00170 
00171         <span class="keywordflow">for</span>(i=nrh;i&gt;=nrl;i--) free((<span class="keywordtype">char</span>*) (m[i]+ncl));
00172         free((<span class="keywordtype">char</span>*) (m+nrl));
00173 }
00174 
00175 
00176 
<a name="l00177"></a><a class="code" href="nrutil_8c.html#a14">00177</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a31">free_submatrix</a>(b,nrl,nrh,ncl,nch)
00178 <span class="keywordtype">float</span> **b;
00179 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00180 {
00181         free((<span class="keywordtype">char</span>*) (b+nrl));
00182 }
00183 
00184 
00185 
<a name="l00186"></a><a class="code" href="nrutil_8c.html#a15">00186</a> <span class="keywordtype">float</span> **<a class="code" href="nrutil_8h.html#a17">convert_matrix</a>(a,nrl,nrh,ncl,nch)
00187 <span class="keywordtype">float</span> *a;
00188 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00189 {
00190         <span class="keywordtype">int</span> i,j,nrow,ncol;
00191         <span class="keywordtype">float</span> **m;
00192 
00193         nrow=nrh-nrl+1;
00194         ncol=nch-ncl+1;
00195         m = (<span class="keywordtype">float</span> **) malloc((<span class="keywordtype">unsigned</span>) (nrow)*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>*));
00196         <span class="keywordflow">if</span> (!m) <a class="code" href="nrutil_8h.html#a13">nrerror</a>(<span class="stringliteral">"allocation failure in convert_matrix()"</span>);
00197         m -= nrl;
00198         <span class="keywordflow">for</span>(i=0,j=nrl;i&lt;=nrow-1;i++,j++) m[j]=a+ncol*i-ncl;
00199         <span class="keywordflow">return</span> m;
00200 }
00201 
00202 
00203 
<a name="l00204"></a><a class="code" href="nrutil_8c.html#a16">00204</a> <span class="keywordtype">void</span> <a class="code" href="nrutil_8h.html#a32">free_convert_matrix</a>(b,nrl,nrh,ncl,nch)
00205 <span class="keywordtype">float</span> **b;
00206 <span class="keywordtype">int</span> nrl,nrh,ncl,nch;
00207 {
00208         free((<span class="keywordtype">char</span>*) (b+nrl));
00209 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:36 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
