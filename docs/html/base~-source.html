<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>opensim/base/base~ Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.8.1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>opensim/base/base~</h1><a href="base~.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/****************************************************************************</font>
00002 <font class="comment">  Copyright (C)1996 David Jung &lt;djung@pobox.com&gt;</font>
00003 <font class="comment"></font>
00004 <font class="comment">  This program/file is free software; you can redistribute it and/or modify</font>
00005 <font class="comment">  it under the terms of the GNU General Public License as published by</font>
00006 <font class="comment">  the Free Software Foundation; either version 2 of the License, or</font>
00007 <font class="comment">  (at your option) any later version.</font>
00008 <font class="comment">  </font>
00009 <font class="comment">  This program is distributed in the hope that it will be useful,</font>
00010 <font class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00011 <font class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font>
00012 <font class="comment">  GNU General Public License for more details. (http://www.gnu.org)</font>
00013 <font class="comment">  </font>
00014 <font class="comment">  You should have received a copy of the GNU General Public License</font>
00015 <font class="comment">  along with this program; if not, write to the Free Software</font>
00016 <font class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</font>
00017 <font class="comment">  </font>
00018 <font class="comment">  $Id: base,v 1.2 2002/06/25 18:46:12 jungd Exp $</font>
00019 <font class="comment">  $Revision: 1.2 $</font>
00020 <font class="comment">  $Date: 2002/06/25 18:46:12 $</font>
00021 <font class="comment">  $Author: jungd $</font>
00022 <font class="comment"> </font>
00023 <font class="comment">****************************************************************************/</font>
00024 
00025 <font class="preprocessor">#ifndef _BASE_</font>
00026 <font class="preprocessor"></font><font class="preprocessor">#define _BASE_</font>
00027 <font class="preprocessor"></font>
00028 <font class="preprocessor">#include &lt;string&gt;</font>
00029 <font class="preprocessor">#include &lt;list&gt;</font>
00030 <font class="preprocessor">#include &lt;stdexcept&gt;</font>
00031 <font class="preprocessor">#include &lt;algorithm&gt;</font>
00032 <font class="preprocessor">#include &lt;typeinfo&gt;</font>
00033 <font class="preprocessor">#include &lt;functional&gt;</font>
00034 
00035 <font class="preprocessor">#include &lt;<a class="code" href="reflist.html">base/reflist</a>&gt;</font>
00036 
00037 <font class="keyword">extern</font> <font class="stringliteral">"C"</font> {
00038 <font class="preprocessor">#include &lt;string.h&gt;</font>
00039 <font class="preprocessor">#include &lt;math.h&gt;</font>
00040 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00041 <font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00042 <font class="preprocessor">#include &lt;GL/gl.h&gt;</font>
00043 }
00044 
00045 <font class="comment">// instantiate unit tests</font>
00046 <font class="preprocessor">#ifdef DEBUG</font>
00047 <font class="preprocessor"></font><font class="preprocessor">#define INSTANTIATE_TEST_SUITES</font>
00048 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00049 <font class="preprocessor"></font>
00050 <font class="comment">// add support for conversion to/from some Open Scene Graph (OSG) types</font>
<a name="l00051"></a><a class="code" href="base~.html#a0">00051</a> <font class="preprocessor">#define USE_OSG</font>
00052 <font class="preprocessor"></font>
00053 
00054 <font class="keyword">namespace </font>base {
00055   <font class="keyword">typedef</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">char</font>     Byte;
00056   <font class="keyword">typedef</font> <font class="keywordtype">int</font>               SInt;
00057   <font class="keyword">typedef</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font>      Int;
00058   <font class="keyword">typedef</font> <font class="keywordtype">long</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> LInt;
00059   <font class="keyword">typedef</font> std::string       String;
00060   <font class="keyword">typedef</font> <font class="keywordtype">double</font>            Real;   <font class="comment">// Real &amp; GLreal must be the same built-in type</font>
00061   <font class="keyword">typedef</font> GLdouble          GLreal;
<a name="l00062"></a><a class="code" href="namespace__base.html#a7">00062</a>   <font class="keyword">const</font> GLenum GL_REAL = GL_DOUBLE;
<a name="l00063"></a><a class="code" href="namespace__base.html#a8">00063</a>   <font class="keyword">const</font> GLenum GL_UINT = GL_UNSIGNED_INT; <font class="comment">// GL_UINT must match Int</font>
00064 
<a name="l00065"></a><a class="code" href="namespace__base.html#a9">00065</a>   <font class="keyword">const</font> Real epsilon = <a class="code" href="namespace__base.html#a5">Real</a>(1e-10);
<a name="l00066"></a><a class="code" href="namespace__base.html#a10">00066</a>   <font class="keyword">const</font> Real epsilon2 = <a class="code" href="namespace__base.html#a5">Real</a>(1e-20);
<a name="l00067"></a><a class="code" href="namespace__base.html#a11">00067</a>   <font class="keyword">const</font> Real minReal = <a class="code" href="namespace__base.html#a5">Real</a>(1.17549435e-38f); <font class="comment">// get these from &lt;limits&gt; when available</font>
<a name="l00068"></a><a class="code" href="namespace__base.html#a12">00068</a>   <font class="keyword">const</font> Real maxReal = <a class="code" href="namespace__base.html#a5">Real</a>(3.40282347e+38f);
<a name="l00069"></a><a class="code" href="namespace__base.html#a13">00069</a>   <font class="keyword">const</font> SInt minSInt  = (-2147483647-1);
<a name="l00070"></a><a class="code" href="namespace__base.html#a14">00070</a>   <font class="keyword">const</font> SInt maxSInt  = 2147483647;
<a name="l00071"></a><a class="code" href="namespace__base.html#a15">00071</a>   <font class="keyword">const</font> Int  minInt  = 0;
<a name="l00072"></a><a class="code" href="namespace__base.html#a16">00072</a>   <font class="keyword">const</font> Int  maxInt  = 4294967293U;
<a name="l00073"></a><a class="code" href="namespace__base.html#a17">00073</a>   <font class="keyword">const</font> Real Pi = <a class="code" href="namespace__base.html#a5">Real</a>(3.1415926535897932384626433832795029L); <font class="comment">// can't seem to get M_PI from cmath (?)</font>
<a name="l00074"></a><a class="code" href="namespace__base.html#a18">00074</a>   <font class="keyword">const</font> Real SqrtHalf = <a class="code" href="namespace__base.html#a5">Real</a>(0.7071067811865475244008443621048490);
<a name="l00075"></a><a class="code" href="namespace__base.html#a19">00075</a>   <font class="keyword">const</font> Real TwoPi = <a class="code" href="namespace__base.html#a5">Real</a>(Pi*2.0);
<a name="l00076"></a><a class="code" href="namespace__base.html#a20">00076</a>   <font class="keyword">const</font> Real Infinity = maxReal;
00077 
00078   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a57">degToRad</a>(Real d)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (d*TwoPi)/360.0; }
00079   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a58">radToDeg</a>(Real r)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (r*360.0)/TwoPi; }
00080 
00081   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a59">sqr</a>(Real n)<font class="keyword"> </font>{ <font class="keywordflow">return</font> n*n; }
00082   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a60">sqrt</a>(Real n)<font class="keyword"> </font>{ return ::sqrt(n); }
00083   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a61">cube</a>(Real n)<font class="keyword"> </font>{ <font class="keywordflow">return</font> n*n*n; }
00084   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a62">abs</a>(Real s)<font class="keyword"> </font>{ <font class="keywordflow">return</font> fabs(s); }
00085   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a63">sign</a>(Real n)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (n&lt;0)?-1:((n&gt;0)?1:0); }
00086   <font class="keyword">inline</font> Real <a class="code" href="namespace__base.html#a64">random</a>()<font class="keyword"> </font>
00087 <font class="keyword">    </font>{ <font class="keywordflow">return</font> <a class="code" href="namespace__base.html#a5">Real</a>(::<a class="code" href="namespace__base.html#a64">random</a>())/<a class="code" href="namespace__base.html#a5">Real</a>(<font class="comment">/*2^31*/</font>2147483648U-1); }
00088 
00089   <font class="keyword">inline</font> <font class="keywordtype">bool</font> <a class="code" href="namespace__base.html#a65">equals</a>(<font class="keyword">const</font> Real r1, <font class="keyword">const</font> Real r2, Real eps = epsilon)<font class="keyword"></font>
00090 <font class="keyword">  </font>{ <font class="keywordflow">return</font> fabs(r1-r2) &lt; eps; }
00091 
00092 
00093   template&lt;typename A&gt; <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="namespace__base.html#a66">tassert</a>(A assertion, <font class="keyword">const</font> String&amp; errorstring)<font class="keyword"></font>
00094 <font class="keyword">  </font>{
00095     <font class="keywordflow">if</font> (!assertion) <font class="keywordflow">throw</font> std::runtime_error(errorstring);
00096   }
00097 
00098   template&lt;typename T&gt; <font class="keywordtype">void</font> <a class="code" href="namespace__base.html#a67">clearMemory</a>(T* start, Int length)<font class="keyword"></font>
00099 <font class="keyword">  </font>{ memset(start, 0, size_t(length*<font class="keyword">sizeof</font>(T))); }
00100 
00101   template&lt;typename T&gt; <font class="keywordtype">void</font> <a class="code" href="namespace__base.html#a68">copyMemory</a>(<font class="keyword">const</font> T* src, T* dest, Int length)<font class="keyword"></font>
00102 <font class="keyword">  </font>{ memcpy(dest, src, length*<font class="keyword">sizeof</font>(T)); }
00103 
00104   <font class="comment">// convenience: subscripting &amp; indexing for list ( O(n) )</font>
00105   template&lt;typename T&gt; <font class="keyword">const</font> T&amp; <a class="code" href="namespace__base.html#a69">elementAt</a>(<font class="keyword">const</font> std::list&lt;T&gt;&amp; l, <font class="keyword">typename</font> std::list&lt;T&gt;::size_type i)<font class="keyword"> </font>
00106 <font class="keyword">  </font>{
00107     std::list&lt;T&gt;::const_iterator it = l.begin();
00108     <font class="keywordflow">while</font> ((it != l.end()) &amp;&amp; (i &gt; 0)) {
00109       ++it; --i;
00110     }
00111     <font class="keywordflow">if</font> (it == l.end()) <font class="keywordflow">throw</font> std::out_of_range(<font class="stringliteral">"elementAt - specified index not present"</font>);
00112     <font class="keywordflow">return</font> *it;
00113   }
00114 
00115   template&lt;typename T&gt; T&amp; <a class="code" href="namespace__base.html#a69">elementAt</a>(std::list&lt;T&gt;&amp; l, <font class="keyword">typename</font> std::list&lt;T&gt;::size_type i)<font class="keyword"> </font>
00116 <font class="keyword">  </font>{
00117     std::list&lt;T&gt;::iterator it = l.begin();
00118     <font class="keywordflow">while</font> ((it != l.end()) &amp;&amp; (i &gt; 0)) {
00119       ++it; --i;
00120     }
00121     <font class="keywordflow">if</font> (it == l.end()) <font class="keywordflow">throw</font> std::out_of_range(<font class="stringliteral">"elementAt - specified index not present"</font>);
00122     <font class="keywordflow">return</font> *it;
00123   }
00124 
00125   template&lt;typename T&gt; <font class="keyword">typename</font> std::list&lt;T&gt;::size_type <a class="code" href="namespace__base.html#a71">indexOf</a>(<font class="keyword">const</font> std::list&lt;T&gt;&amp; l, <font class="keyword">const</font> T&amp; t)<font class="keyword"></font>
00126 <font class="keyword">  </font>{
00127     std::list&lt;T&gt;::const_iterator it = l.begin();
00128     std::list&lt;T&gt;::size_type index=0;
00129     <font class="keywordflow">while</font> ((it != l.end()) &amp;&amp; (*it != t)) {
00130       ++it; ++index;
00131     }
00132     <font class="keywordflow">if</font> (it == l.end()) <font class="keywordflow">throw</font> std::invalid_argument(<font class="stringliteral">"indexOf - specificed element not in the list"</font>);
00133     <font class="keywordflow">return</font> index;
00134   }
00135 
00136   template&lt;typename T&gt; <font class="keywordtype">bool</font> <a class="code" href="namespace__base.html#a72">contains</a>(<font class="keyword">const</font> std::list&lt;T&gt;&amp; l, <font class="keyword">const</font> T&amp; e)<font class="keyword"></font>
00137 <font class="keyword">  </font>{
00138     std::list&lt;T&gt;::const_iterator it = std::find(l.begin(), l.end(), e);
00139     <font class="keywordflow">return</font> (it != l.end());
00140   }
00141 
00142   template&lt;typename T&gt; <font class="keywordtype">bool</font> <a class="code" href="namespace__base.html#a72">contains</a>(<font class="keyword">const</font> reflist&lt;T&gt;&amp; l, ref&lt;T&gt; e)<font class="keyword"></font>
00143 <font class="keyword">  </font>{
00144     reflist&lt;T&gt;::const_iterator it = std::find(l.begin(), l.end(), e);
00145     <font class="keywordflow">return</font> (it != l.end());
00146   }
00147 
00148 
00149   template&lt;typename C, typename Op&gt; Op <a class="code" href="namespace__base.html#a74">for_all</a>(C&amp; c, Op f)<font class="keyword"></font>
00150 <font class="keyword">  </font>{
00151     <font class="keyword">typename</font> C::const_iterator b = c.begin();
00152     <font class="keyword">typename</font> C::const_iterator e = c.end();
00153     <font class="keywordflow">return</font> std::for_each(b,e,f);
00154   }
00155 
00156 
00157   <font class="keyword">class </font>DeleteObject {
00158   <font class="keyword">public</font>:
<a name="l00159"></a><a class="code" href="classbase_1_1DeleteObject.html#a1">00159</a>     template&lt;typename T&gt; <font class="keywordtype">void</font> <a class="code" href="classbase_1_1DeleteObject.html#a0">operator()</a>(<font class="keyword">const</font> T* ptr)<font class="keyword"> const </font>{ <font class="keyword">delete</font> ptr; }
00160   };
00161 
00162   template&lt;typename C&gt; <font class="keywordtype">void</font> <a class="code" href="namespace__base.html#a75">delete_all</a>(C&amp; c)<font class="keyword"></font>
00163 <font class="keyword">  </font>{
00164     <a class="code" href="namespace__base.html#a74">for_all</a>(c, DeleteObject());
00165   }
00166 
00167   
00168   template&lt;typename InputIterator, typename OutputIterator, typename Predicate&gt;
00169   OutputIterator <a class="code" href="namespace__base.html#a76">copy_if</a>(InputIterator begin, InputIterator end,
00170                          OutputIterator destBegin, Predicate p)<font class="keyword"></font>
00171 <font class="keyword">  </font>{
00172     <font class="keywordflow">while</font>(begin!=end) {
00173       <font class="keywordflow">if</font> (p(*begin)) *destBegin++=*begin;
00174       ++begin;
00175     }
00176     <font class="keywordflow">return</font> destBegin;
00177   }
00178 
00179 
00180   String <a class="code" href="namespace__base.html#a77">intToString</a>(Int i);
00181   Int <a class="code" href="namespace__base.html#a78">stringToInt</a>(<font class="keyword">const</font> String&amp; s);
00182   Real <a class="code" href="namespace__base.html#a79">stringToReal</a>(<font class="keyword">const</font> String&amp; s);
00183   String <a class="code" href="namespace__base.html#a80">realToString</a>(Real r);
00184 
00185   template&lt;typename T&gt; T <a class="code" href="namespace__base.html#a81">minimum</a>(<font class="keyword">const</font> T&amp; t1, <font class="keyword">const</font> T&amp; t2)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (t1&lt;t2)?t1:t2; }
00186   template&lt;typename T&gt; T <a class="code" href="namespace__base.html#a82">maximum</a>(<font class="keyword">const</font> T&amp; t1, <font class="keyword">const</font> T&amp; t2)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (t1&gt;t2)?t1:t2; }
00187   template&lt;typename T&gt; T <a class="code" href="namespace__base.html#a81">minimum</a>(<font class="keyword">const</font> T&amp; t1, <font class="keyword">const</font> T&amp; t2, <font class="keyword">const</font> T&amp; t3)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (t1&lt;t2)?((t1&lt;t3)?t1:t3):((t2&lt;t3)?t2:t3); }
00188   template&lt;typename T&gt; T <a class="code" href="namespace__base.html#a82">maximum</a>(<font class="keyword">const</font> T&amp; t1, <font class="keyword">const</font> T&amp; t2, <font class="keyword">const</font> T&amp; t3)<font class="keyword"> </font>{ <font class="keywordflow">return</font> (t1&gt;t2)?((t1&gt;t3)?t1:t3):((t2&gt;t3)?t2:t3); }
00189 
00190 
00191   <font class="keyword">class </font>Cloneable;
00192   template&lt;typename C&gt; C&amp; <a class="code" href="namespace__base.html#a85">clone</a>(<font class="keyword">const</font> C&amp; c)<font class="keyword"> </font>
00193 <font class="keyword">  </font>{
00194     <font class="keywordflow">return</font> dynamic_cast&lt;C&amp;&gt;( static_cast&lt;const Cloneable&amp;&gt;(c).clone());
00195   }
00196   
00197   <font class="keyword">extern</font> std::ostream&amp; _Debug;
00198   <font class="keyword">extern</font> std::ostream&amp; _Log;
00199   <font class="keyword">extern</font> std::ostream&amp; _Console;
00200 
00201   <font class="keyword">const</font> <font class="keywordtype">char</font> *<a class="code" href="namespace__base.html#a86">className</a>(<font class="keyword">const</font> std::type_info&amp; ti);
00202   <font class="keyword">extern</font> <font class="keywordtype">int</font> _currentDebugVerbosity;
00203 
00204   <font class="comment">// make narrow casting explicit for readability</font>
00205   <font class="keyword">template</font> &lt;
00206     <font class="keyword">typename</font> Sub,
00207     <font class="keyword">typename</font> Super&gt;
00208   <font class="comment">//inline Sub* narrow_cast(Select&lt; SUPERSUBCLASS_STRICT(Super,Sub),Super*,NullType&gt;::Result p) { return static_cast&lt;Sub*&gt;(p); }</font>
00209   <font class="keyword">inline</font> Sub* <a class="code" href="namespace__base.html#a87">narrow_cast</a>(Super* p)<font class="keyword"> </font>{ <font class="keywordflow">return</font> static_cast&lt;Sub*&gt;(p); }
00210 
00211   <font class="keyword">template</font> &lt;
00212     <font class="keyword">typename</font> Sub,
00213     <font class="keyword">typename</font> Super&gt;
00214   <font class="comment">//inline Sub&amp; narrow_cast(Select&lt; SUPERSUBCLASS_STRICT(Super,Sub),Super&amp;,NullType&gt;::Result p) { return static_cast&lt;Sub&amp;&gt;(p); }</font>
00215   <font class="keyword">inline</font> Sub&amp; <a class="code" href="namespace__base.html#a87">narrow_cast</a>(Super&amp; p)<font class="keyword"> </font>{ <font class="keywordflow">return</font> static_cast&lt;Sub&amp;&gt;(p); }
00216   
00217 } <font class="comment">// base</font>
00218 
00219 
00220 <font class="preprocessor">#include &lt;<a class="code" href="MemoryTracer.html">base/MemoryTracer</a>&gt;</font>
00221 
00222 
00223 <font class="comment">// global names</font>
00224 <font class="keyword">using</font> std::for_each;
00225 <font class="keyword">using</font> std::mem_fun;
00226 
00227 <font class="comment">//using base::Byte;</font>
00228 <font class="keyword">using</font> base::Int;
00229 <font class="keyword">using</font> base::SInt;
00230 <font class="keyword">using</font> base::LInt;
00231 <font class="keyword">using</font> base::String;
00232 <font class="keyword">using</font> base::Real;
00233 <font class="keyword">using</font> base::GLreal;
00234 <font class="keyword">using</font> base::GL_REAL;
00235 <font class="keyword">using</font> base::GL_UINT;
00236 <font class="keyword">using</font> base::degToRad;
00237 <font class="keyword">using</font> base::radToDeg;
00238 <font class="keyword">using</font> base::clone;
00239 <font class="keyword">using</font> base::for_all;
00240 <font class="keyword">using</font> base::narrow_cast;
00241 
00242 
00243 
00244 <font class="comment">// resort to macros, so we can really compile out debugging and logging</font>
00245 <font class="comment">//  (we could always define a runtime switch to a bitbucket stream, but</font>
00246 <font class="comment">//  the elements would still be evaluated to pass to operator&lt;&lt;)</font>
00247 
00248 <font class="preprocessor">#ifdef __mips</font>
00249 <font class="preprocessor"></font><font class="preprocessor">#define __func__ String("unknown")</font>
00250 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00251 <font class="preprocessor"></font>
00252 <font class="preprocessor">#ifdef __GNUC__</font>
00253 <font class="preprocessor"></font><font class="preprocessor">#define Log(o) { base::_Log &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; " -- "  &lt;&lt; o; }</font>
00254 <font class="preprocessor"></font><font class="preprocessor">#define Logln(o) { base::_Log &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; " -- " &lt;&lt; o &lt;&lt; "\n"; }</font>
00255 <font class="preprocessor"></font><font class="preprocessor">#else</font>
<a name="l00256"></a><a class="code" href="base~.html#a1">00256</a> <font class="preprocessor"></font><font class="preprocessor">#define Log(o) { base::_Log &lt;&lt; base::className(typeid(*this)) &lt;&lt; "::" &lt;&lt; __func__ &lt;&lt; " -- "  &lt;&lt; o; }</font>
<a name="l00257"></a><a class="code" href="base~.html#a2">00257</a> <font class="preprocessor"></font><font class="preprocessor">#define Logln(o) { base::_Log &lt;&lt; base::className(typeid(*this)) &lt;&lt; "::" &lt;&lt; __func__ &lt;&lt; " -- " &lt;&lt; o &lt;&lt; "\n"; }</font>
00258 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
<a name="l00259"></a><a class="code" href="base~.html#a3">00259</a> <font class="preprocessor"></font><font class="preprocessor">#define Logf(o) { base::_Log &lt;&lt; __func__ &lt;&lt; " -- " &lt;&lt; o; }</font>
<a name="l00260"></a><a class="code" href="base~.html#a4">00260</a> <font class="preprocessor"></font><font class="preprocessor">#define Logfln(o) { base::_Log &lt;&lt; __func__ &lt;&lt; " -- " &lt;&lt; o &lt;&lt; "\n"; }</font>
<a name="l00261"></a><a class="code" href="base~.html#a5">00261</a> <font class="preprocessor"></font><font class="preprocessor">#define Console(o) { base::_Console &lt;&lt; o; }</font>
<a name="l00262"></a><a class="code" href="base~.html#a6">00262</a> <font class="preprocessor"></font><font class="preprocessor">#define Consoleln(o) { base::_Console &lt;&lt; o &lt;&lt; std::endl; }</font>
00263 <font class="preprocessor"></font>
00264 <font class="preprocessor">#ifdef DEBUG</font>
00265 <font class="preprocessor"></font><font class="preprocessor">#undef Debug</font>
00266 <font class="preprocessor"></font><font class="preprocessor">#ifndef __GNUC__</font>
00267 <font class="preprocessor"></font><font class="preprocessor">#define Debug(o) { base::_Debug &lt;&lt; base::className(typeid(*this)) &lt;&lt; "::" &lt;&lt; std::string(__func__)+" -- " &lt;&lt; o; }</font>
00268 <font class="preprocessor"></font><font class="preprocessor">#define Debugln(o) { base::_Debug &lt;&lt; base::className(typeid(*this)) &lt;&lt; "::" &lt;&lt; std::string(__func__)+" -- " &lt;&lt; o &lt;&lt; std::endl; }</font>
00269 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00270 <font class="preprocessor"></font><font class="preprocessor">#define Debug(o) { base::_Debug &lt;&lt; std::string(__PRETTY_FUNCTION__)+" -- " &lt;&lt; o; }</font>
00271 <font class="preprocessor"></font><font class="preprocessor">#define Debugln(o) { base::_Debug &lt;&lt; std::string(__PRETTY_FUNCTION__)+" -- " &lt;&lt; o &lt;&lt; std::endl; }</font>
00272 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00273 <font class="preprocessor"></font><font class="preprocessor">#define Debugf(o) { base::_Debug &lt;&lt; std::string(__func__)+" -- " &lt;&lt; o; }</font>
00274 <font class="preprocessor"></font><font class="preprocessor">#define Debugfln(o) { base::_Debug &lt;&lt; std::string(__func__)+" -- " &lt;&lt; o &lt;&lt; std::endl; }</font>
00275 <font class="preprocessor"></font><font class="preprocessor">#else</font>
<a name="l00276"></a><a class="code" href="base~.html#a7">00276</a> <font class="preprocessor"></font><font class="preprocessor">#define Debug(o) {}</font>
<a name="l00277"></a><a class="code" href="base~.html#a8">00277</a> <font class="preprocessor"></font><font class="preprocessor">#define Debugln(o) {}</font>
<a name="l00278"></a><a class="code" href="base~.html#a9">00278</a> <font class="preprocessor"></font><font class="preprocessor">#define Debugf(o) {}</font>
<a name="l00279"></a><a class="code" href="base~.html#a10">00279</a> <font class="preprocessor"></font><font class="preprocessor">#define Debugfln(o) {}</font>
00280 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00281 <font class="preprocessor"></font>
00282 
00283 
00284 <font class="preprocessor">#ifdef __GNUC__</font>
00285 <font class="preprocessor"></font>
00286 <font class="preprocessor">#ifdef DEBUG</font>
00287 <font class="preprocessor"></font><font class="preprocessor">#define Exception(o) ((printf("constructing exception: %s\n", \</font>
00288 <font class="preprocessor">                              (String(__PRETTY_FUNCTION__)+" - "+String(o)).c_str())), \</font>
00289 <font class="preprocessor">                                String(String("exception thrown: ")+__PRETTY_FUNCTION__+" - "+String(o)))</font>
00290 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00291 <font class="preprocessor"></font><font class="preprocessor">#define Exception(o) String(String("exception thrown: ")+__PRETTY_FUNCTION__+" - "+String(o))</font>
00292 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00293 <font class="preprocessor"></font>
00294 <font class="preprocessor">#define Exceptionf(o) String(String("exception thrown: ")+__PRETTY_FUNCTION__+" - "+String(o))</font>
00295 <font class="preprocessor"></font><font class="preprocessor">#define Assertion(o) String(String("assertion failed: ")+__PRETTY_FUNCTION__+" - "+String(o))</font>
00296 <font class="preprocessor"></font><font class="preprocessor">#define Assertionf(o) String(String("assertion failed: ")+__PRETTY_FUNCTION__+" - "+String(o))</font>
00297 <font class="preprocessor"></font><font class="preprocessor">#else</font>
<a name="l00298"></a><a class="code" href="base~.html#a11">00298</a> <font class="preprocessor"></font><font class="preprocessor">#define Exception(o) String(String("exception thrown: ")+String(base::className(typeid(*this)))+"::"+String(__func__)+" - "+String(o))</font>
<a name="l00299"></a><a class="code" href="base~.html#a12">00299</a> <font class="preprocessor"></font><font class="preprocessor">#define Exceptionf(o) String(String("exception thrown: ")+String(__func__)+" - "+String(o))</font>
<a name="l00300"></a><a class="code" href="base~.html#a13">00300</a> <font class="preprocessor"></font><font class="preprocessor">#define Assertion(o) String(String("assertion failed: ")+String(base::className(typeid(*this)))+"::"+String(__func__)+" - "+String(o))</font>
<a name="l00301"></a><a class="code" href="base~.html#a14">00301</a> <font class="preprocessor"></font><font class="preprocessor">#define Assertionf(o) String(String("assertion failed: ")+String(__func__)+" - "+String(o))</font>
00302 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00303 <font class="preprocessor"></font>
00304 <font class="preprocessor">#ifdef DEBUG</font>
00305 <font class="preprocessor"></font><font class="preprocessor">#define Assert(a) base::tassert(a, Assertion(#a))</font>
00306 <font class="preprocessor"></font><font class="preprocessor">#define Assertf(a) base::tassert(a, Assertionf(#a))</font>
00307 <font class="preprocessor"></font><font class="preprocessor">#define Assertm(a,s) base::tassert(a,Assertion(s))</font>
00308 <font class="preprocessor"></font><font class="preprocessor">#define Assertmf(a,s) base::tassert(a,Assertionf(s))</font>
00309 <font class="preprocessor"></font><font class="preprocessor">#else</font>
<a name="l00310"></a><a class="code" href="base~.html#a15">00310</a> <font class="preprocessor"></font><font class="preprocessor">#define Assert(a) </font>
<a name="l00311"></a><a class="code" href="base~.html#a16">00311</a> <font class="preprocessor"></font><font class="preprocessor">#define Assertf(a) </font>
<a name="l00312"></a><a class="code" href="base~.html#a17">00312</a> <font class="preprocessor"></font><font class="preprocessor">#define Assertm(a,s) </font>
<a name="l00313"></a><a class="code" href="base~.html#a18">00313</a> <font class="preprocessor"></font><font class="preprocessor">#define Assertmf(a,s) </font>
00314 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00315 <font class="preprocessor"></font>
<a name="l00316"></a><a class="code" href="base~.html#a19">00316</a> <font class="preprocessor">#define Assertifm(f,a,s) base::tassert(!f || a,Assertion(s))</font>
<a name="l00317"></a><a class="code" href="base~.html#a20">00317</a> <font class="preprocessor"></font><font class="preprocessor">#define Assertifmf(f,a,s) base::tassert(!f || a,Assertionf(s))</font>
00318 <font class="preprocessor"></font>
<a name="l00319"></a><a class="code" href="base~.html#a21">00319</a> <font class="preprocessor">#define instanceof(var,type) (dynamic_cast&lt;type*&gt;(&amp;var) != 0)</font>
00320 <font class="preprocessor"></font>
00321 
00322 
00323 <font class="comment">// More globals</font>
00324 
00325 <font class="preprocessor">#include &lt;<a class="code" href="array.html">base/array</a>&gt;</font>
00326 <font class="preprocessor">#include &lt;<a class="code" href="ref.html">base/ref</a>&gt;</font>
00327 <font class="keyword">using</font> <a class="code" href="classbase_1_1array.html">base::array</a>;
00328 <font class="keyword">using</font> <a class="code" href="classbase_1_1ref.html">base::ref</a>;
00329 
00330 
00331 <font class="preprocessor">#endif</font>
00332 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated at Wed Aug 7 10:30:26 2002 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.8.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
