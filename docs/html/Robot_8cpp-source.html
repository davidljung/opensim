<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenSim: robot/Robot.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>robot/Robot.cpp</h1><a href="Robot_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/****************************************************************************</span>
00002 <span class="comment">  Copyright (C)2003 David Jung &lt;opensim@pobox.com&gt;</span>
00003 <span class="comment"></span>
00004 <span class="comment">  This program/file is free software; you can redistribute it and/or modify</span>
00005 <span class="comment">  it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment">  the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment">  (at your option) any later version.</span>
00008 <span class="comment">  </span>
00009 <span class="comment">  This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment">  GNU General Public License for more details. (http://www.gnu.org)</span>
00013 <span class="comment">  </span>
00014 <span class="comment">  You should have received a copy of the GNU General Public License</span>
00015 <span class="comment">  along with this program; if not, write to the Free Software</span>
00016 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00017 <span class="comment">  </span>
00018 <span class="comment">  $Id: Robot.cpp 1039 2004-02-11 20:50:52Z jungd $</span>
00019 <span class="comment">  $Revision: 1.4 $</span>
00020 <span class="comment">  $Date: 2004-02-11 15:50:52 -0500 (Wed, 11 Feb 2004) $</span>
00021 <span class="comment">  $Author: jungd $</span>
00022 <span class="comment"> </span>
00023 <span class="comment">****************************************************************************/</span>
00024 
00025 <span class="preprocessor">#include &lt;<a class="code" href="Robot.html">robot/Robot</a>&gt;</span>
00026 
00027 <span class="preprocessor">#include &lt;<a class="code" href="Matrix4.html">base/Matrix4</a>&gt;</span>
00028 
00029 
00030 <span class="keyword">using</span> <a class="code" href="classrobot_1_1Robot.html">robot::Robot</a>;
00031 
00032 <span class="keyword">using</span> <a class="code" href="classbase_1_1Matrix4.html">base::Matrix4</a>;
00033 <span class="keyword">using</span> <a class="code" href="classbase_1_1Orient.html">base::Orient</a>;
00034 <span class="keyword">using</span> <a class="code" href="classbase_1_1array.html">base::array</a>;
00035 
00036 
00037 array&lt;std::pair&lt;String,String&gt; &gt; Robot::controlInterfaces()<span class="keyword"> const</span>
00038 <span class="keyword"></span>{
00039   <span class="keywordflow">return</span> array&lt;std::pair&lt;String,String&gt; &gt;(); <span class="comment">// empty (i.e. we don't have any interfaces by default)</span>
00040 }
00041 
00042   
00043 
00044 Matrix4 Robot::coordFrameTransform(CoordFrame from, CoordFrame to,
00045                                    Int manipulatorIndex,
00046                                    <span class="keyword">const</span> Matrix4&amp; T,
00047                                    <span class="keyword">const</span> Point3&amp; platformPosition, 
00048                                    <span class="keyword">const</span> Orient&amp; platformOrientation)<span class="keyword"> const</span>
00049 <span class="keyword"></span>{
00050   <span class="keywordflow">if</span> ((from == <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw3">UnknownFrame</a>) || (to == <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw3">UnknownFrame</a>))
00051     <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"can't convert to or from an unknown coordinate frame"</span>));
00052 
00053   Matrix4 t;
00054 
00055   <span class="keywordflow">switch</span> (from) {
00056 
00057   <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: {
00058     <span class="keywordflow">switch</span> (to) {
00059 
00060     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: {
00061     } <span class="keywordflow">break</span>;
00062     
00063     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00064       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00065     } <span class="keywordflow">break</span>;
00066     
00067     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00068       t = T;
00069     } <span class="keywordflow">break</span>;
00070     
00071     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00072       t = robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() * T;
00073     } <span class="keywordflow">break</span>;
00074     
00075     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00076       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00077     } <span class="keywordflow">break</span>;
00078     
00079     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00080       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00081       ptw.setTranslationComponent(platformPosition);
00082       Matrix4 mtp; mtp.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00083       Matrix4 etm( robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() * T );
00084       t = ptw * mtp * etm;
00085     } <span class="keywordflow">break</span>;
00086     
00087     <span class="keywordflow">default</span>:
00088       <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown to CoordFrame"</span>));
00089     }
00090   } <span class="keywordflow">break</span>;
00091 
00092 
00093 
00094   <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00095     <span class="keywordflow">switch</span> (to) {
00096 
00097     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: {
00098       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00099     } <span class="keywordflow">break</span>;
00100     
00101     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00102     } <span class="keywordflow">break</span>;
00103     
00104     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00105       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00106     } <span class="keywordflow">break</span>;
00107     
00108     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00109       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00110     } <span class="keywordflow">break</span>;
00111     
00112     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00113       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00114     } <span class="keywordflow">break</span>;
00115     
00116     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00117       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00118       ptw.setTranslationComponent(platformPosition);
00119       Matrix4 mtp; mtp.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00120       Matrix4 btm( robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() );
00121       Matrix4 eebtb; eebtb.setToTranslation( T.column(4).toVector3() );
00122       t = ptw * mtp * btm * eebtb;
00123     } <span class="keywordflow">break</span>;
00124     
00125     <span class="keywordflow">default</span>:
00126       <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown to CoordFrame"</span>));
00127     }
00128   } <span class="keywordflow">break</span>;
00129 
00130 
00131 
00132   <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00133     <span class="keywordflow">switch</span> (to) {
00134 
00135     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: { 
00136       t = T;
00137       t.invert();
00138     } <span class="keywordflow">break</span>;
00139     
00140     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00141       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00142     } <span class="keywordflow">break</span>;
00143     
00144     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00145     } <span class="keywordflow">break</span>;
00146     
00147     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00148       t = robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform();
00149     } <span class="keywordflow">break</span>;
00150     
00151     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00152       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00153     } <span class="keywordflow">break</span>;
00154     
00155     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00156       Matrix4 btm(robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform());
00157       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00158       ptw.setTranslationComponent(platformPosition);
00159       t.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00160       t = ptw * t * btm;
00161     } <span class="keywordflow">break</span>;
00162     
00163     <span class="keywordflow">default</span>:
00164       <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown to CoordFrame"</span>));
00165     }
00166   } <span class="keywordflow">break</span>;
00167 
00168 
00169 
00170   <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00171     <span class="keywordflow">switch</span> (to) {
00172 
00173     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: {
00174       t = robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() * T;
00175       t.invert();
00176     } <span class="keywordflow">break</span>;
00177     
00178     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00179       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00180     } <span class="keywordflow">break</span>;
00181     
00182     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00183       t = robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform();
00184       t.invert();
00185     } <span class="keywordflow">break</span>;
00186     
00187     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00188     } <span class="keywordflow">break</span>;
00189     
00190     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00191       t.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00192     } <span class="keywordflow">break</span>;
00193     
00194     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00195       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00196       ptw.setTranslationComponent(platformPosition);
00197       t.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00198       t = ptw * t;
00199     } <span class="keywordflow">break</span>;
00200     
00201     <span class="keywordflow">default</span>:
00202       <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown to CoordFrame"</span>));
00203     }
00204   } <span class="keywordflow">break</span>;
00205 
00206 
00207 
00208   <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00209     <span class="keywordflow">switch</span> (to) {
00210 
00211     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: {
00212       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00213     } <span class="keywordflow">break</span>;
00214     
00215     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00216       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00217     } <span class="keywordflow">break</span>;
00218     
00219     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00220       <a class="code" href="debugtools.html#a12">Unimplemented</a>;
00221     } <span class="keywordflow">break</span>;
00222     
00223     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00224       t.setToTranslation(-robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00225     } <span class="keywordflow">break</span>;
00226     
00227     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00228     } <span class="keywordflow">break</span>;
00229     
00230     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00231       t = Matrix4(platformOrientation.getRotationMatrix3());
00232       t.setTranslationComponent(platformPosition);
00233     } <span class="keywordflow">break</span>;
00234     
00235     <span class="keywordflow">default</span>:
00236       <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown to CoordFrame"</span>));
00237     }
00238   } <span class="keywordflow">break</span>;
00239 
00240 
00241 
00242   <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00243     <span class="keywordflow">switch</span> (to) {
00244 
00245     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: {
00246       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00247       ptw.setTranslationComponent(platformPosition);
00248       Matrix4 mtp; mtp.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00249       Matrix4 etm( robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() * T );
00250       t = ptw * mtp * etm;
00251       t.invert();
00252     } <span class="keywordflow">break</span>;
00253     
00254     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: {
00255       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00256       ptw.setTranslationComponent(platformPosition);
00257       Matrix4 mtp; mtp.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00258       Matrix4 btm( robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() );
00259       Matrix4 eebtb; eebtb.setToTranslation( T.column(4).toVector3() );
00260       t = ptw * mtp * btm * eebtb;
00261       t.invert(); 
00262     } <span class="keywordflow">break</span>;
00263     
00264     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: {
00265       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00266       ptw.setTranslationComponent(platformPosition);
00267       Matrix4 mtp; mtp.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00268       Matrix4 btm( robotDescription-&gt;manipulators()[manipulatorIndex]-&gt;getBaseTransform() );
00269       t = ptw * mtp * btm;
00270       t.invert();      
00271     } <span class="keywordflow">break</span>;
00272     
00273     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: {
00274       Matrix4 ptw(platformOrientation.getRotationMatrix3());
00275       ptw.setTranslationComponent(platformPosition);
00276       t.setToTranslation(robotDescription-&gt;manipulatorOffsets()[manipulatorIndex]);
00277       t = ptw * t;
00278       t.invert();
00279     } <span class="keywordflow">break</span>;
00280     
00281     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: {
00282       t = Matrix4(platformOrientation.getRotationMatrix3());
00283       t.setTranslationComponent(platformPosition);
00284       t.invert();
00285     } <span class="keywordflow">break</span>;
00286     
00287     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: {
00288     } <span class="keywordflow">break</span>;
00289     
00290     <span class="keywordflow">default</span>:
00291       <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown to CoordFrame"</span>));
00292     }
00293   } <span class="keywordflow">break</span>;
00294 
00295   <span class="keywordflow">default</span>:
00296     <span class="keywordflow">throw</span> std::invalid_argument(<a class="code" href="base.html#a15">Exception</a>(<span class="stringliteral">"unknown from CoordFrame"</span>));
00297   }
00298 
00299   <span class="keywordflow">return</span> t;
00300 }
00301 
00302 
00303 
00304 Robot::CoordFrame Robot::coordFrame(<span class="keyword">const</span> String&amp; frameString)
00305 {
00306   <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10">CoordFrame</a> frame = <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw3">UnknownFrame</a>;
00307 
00308   <span class="keywordflow">if</span> (frameString == <span class="stringliteral">"world"</span>)
00309     frame = Robot::WorldFrame;
00310   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frameString == <span class="stringliteral">"ee"</span>)
00311     frame = Robot::EndEffectorFrame;
00312   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frameString == <span class="stringliteral">"eebase"</span>)
00313     frame = Robot::EndEffectorBaseFrame;
00314   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frameString == <span class="stringliteral">"base"</span>)
00315     frame = Robot::BaseFrame;
00316   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frameString == <span class="stringliteral">"mount"</span>)
00317     frame = Robot::MountFrame;
00318   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frameString == <span class="stringliteral">"platform"</span>)
00319     frame = Robot::PlatformFrame;
00320 
00321   <span class="keywordflow">return</span> frame;
00322 }
00323 
00324 
00325 <a class="code" href="namespacebase.html#a4">base::String</a> Robot::coordFrame(Robot::CoordFrame coordFrame)
00326 {
00327   <span class="keywordflow">switch</span> (coordFrame) {
00328     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw9">WorldFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"world"</span>;
00329     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw4">EndEffectorFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"ee"</span>;
00330     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw5">EndEffectorBaseFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"eebase"</span>;
00331     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw6">BaseFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"base"</span>;
00332     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw7">MountFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"mount"</span>;
00333     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw8">PlatformFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"platform"</span>;
00334     <span class="keywordflow">case</span> <a class="code" href="classrobot_1_1Robot.html#robot_1_1TestRobotw10robot_1_1TestRobotw3">UnknownFrame</a>: <span class="keywordflow">return</span> <span class="stringliteral">"unknown"</span>;
00335     <span class="keywordflow">default</span>: <a class="code" href="base.html#a21">Assertm</a>(<span class="keyword">false</span>, <span class="stringliteral">"unknown coordFrame"</span>);
00336   }
00337   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
00338 }
00339 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 29 15:56:37 2004 for OpenSim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
